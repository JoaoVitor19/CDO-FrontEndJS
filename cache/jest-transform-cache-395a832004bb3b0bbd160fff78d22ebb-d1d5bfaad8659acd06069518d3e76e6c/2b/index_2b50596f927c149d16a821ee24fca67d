fb1df39fad8e2d191764d8be5e240ef0
"use strict";

exports.__esModule = true;
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _createElement = _interopRequireDefault(require("../createElement"));

var _css = _interopRequireDefault(require("../StyleSheet/css"));

var _AssetRegistry = require("../../modules/AssetRegistry");

var _resolveShadowValue = _interopRequireDefault(require("../StyleSheet/resolveShadowValue"));

var _ImageLoader = _interopRequireDefault(require("../../modules/ImageLoader"));

var _PixelRatio = _interopRequireDefault(require("../PixelRatio"));

var _StyleSheet = _interopRequireDefault(require("../StyleSheet"));

var _TextAncestorContext = _interopRequireDefault(require("../Text/TextAncestorContext"));

var _View = _interopRequireDefault(require("../View"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

var ERRORED = 'ERRORED';
var LOADED = 'LOADED';
var LOADING = 'LOADING';
var IDLE = 'IDLE';
var _filterId = 0;
var svgDataUriPattern = /^(data:image\/svg\+xml;utf8,)(.*)/;

function createTintColorSVG(tintColor, id) {
  return tintColor && id != null ? React.createElement("svg", {
    style: {
      position: 'absolute',
      height: 0,
      visibility: 'hidden',
      width: 0
    }
  }, React.createElement("defs", null, React.createElement("filter", {
    id: "tint-" + id,
    suppressHydrationWarning: true
  }, React.createElement("feFlood", {
    floodColor: "" + tintColor,
    key: tintColor
  }), React.createElement("feComposite", {
    in2: "SourceAlpha",
    operator: "atop"
  })))) : null;
}

function getFlatStyle(style, blurRadius, filterId) {
  var flatStyle = _objectSpread({}, _StyleSheet.default.flatten(style));

  var filter = flatStyle.filter,
      resizeMode = flatStyle.resizeMode,
      shadowOffset = flatStyle.shadowOffset,
      tintColor = flatStyle.tintColor;
  var filters = [];
  var _filter = null;

  if (filter) {
    filters.push(filter);
  }

  if (blurRadius) {
    filters.push("blur(" + blurRadius + "px)");
  }

  if (shadowOffset) {
    var shadowString = (0, _resolveShadowValue.default)(flatStyle);

    if (shadowString) {
      filters.push("drop-shadow(" + shadowString + ")");
    }
  }

  if (tintColor && filterId != null) {
    filters.push("url(#tint-" + filterId + ")");
  }

  if (filters.length > 0) {
    _filter = filters.join(' ');
  }

  delete flatStyle.blurRadius;
  delete flatStyle.shadowColor;
  delete flatStyle.shadowOpacity;
  delete flatStyle.shadowOffset;
  delete flatStyle.shadowRadius;
  delete flatStyle.tintColor;
  delete flatStyle.overlayColor;
  delete flatStyle.resizeMode;
  return [flatStyle, resizeMode, _filter, tintColor];
}

function resolveAssetDimensions(source) {
  if (typeof source === 'number') {
    var _getAssetByID = (0, _AssetRegistry.getAssetByID)(source),
        _height = _getAssetByID.height,
        _width = _getAssetByID.width;

    return {
      height: _height,
      width: _width
    };
  } else if (source != null && !Array.isArray(source) && typeof source === 'object') {
    var _height2 = source.height,
        _width2 = source.width;
    return {
      height: _height2,
      width: _width2
    };
  }
}

function resolveAssetUri(source) {
  var uri = null;

  if (typeof source === 'number') {
    var asset = (0, _AssetRegistry.getAssetByID)(source);
    var scale = asset.scales[0];

    if (asset.scales.length > 1) {
      var preferredScale = _PixelRatio.default.get();

      scale = asset.scales.reduce(function (prev, curr) {
        return Math.abs(curr - preferredScale) < Math.abs(prev - preferredScale) ? curr : prev;
      });
    }

    var scaleSuffix = scale !== 1 ? "@" + scale + "x" : '';
    uri = asset ? asset.httpServerLocation + "/" + asset.name + scaleSuffix + "." + asset.type : '';
  } else if (typeof source === 'string') {
    uri = source;
  } else if (source && typeof source.uri === 'string') {
    uri = source.uri;
  }

  if (uri) {
    var match = uri.match(svgDataUriPattern);

    if (match) {
      var prefix = match[1],
          svg = match[2];
      var encodedSvg = encodeURIComponent(svg);
      return "" + prefix + encodedSvg;
    }
  }

  return uri;
}

var Image = React.forwardRef(function (props, ref) {
  var accessibilityLabel = props.accessibilityLabel,
      blurRadius = props.blurRadius,
      defaultSource = props.defaultSource,
      draggable = props.draggable,
      onError = props.onError,
      onLayout = props.onLayout,
      onLoad = props.onLoad,
      onLoadEnd = props.onLoadEnd,
      onLoadStart = props.onLoadStart,
      pointerEvents = props.pointerEvents,
      source = props.source,
      style = props.style,
      rest = _objectWithoutPropertiesLoose(props, ["accessibilityLabel", "blurRadius", "defaultSource", "draggable", "onError", "onLayout", "onLoad", "onLoadEnd", "onLoadStart", "pointerEvents", "source", "style"]);

  if (process.env.NODE_ENV !== 'production') {
    if (props.children) {
      throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');
    }
  }

  var _React$useState = React.useState(function () {
    var uri = resolveAssetUri(source);

    if (uri != null) {
      var isLoaded = _ImageLoader.default.has(uri);

      if (isLoaded) {
        return LOADED;
      }
    }

    return IDLE;
  }),
      state = _React$useState[0],
      updateState = _React$useState[1];

  var _React$useState2 = React.useState({}),
      layout = _React$useState2[0],
      updateLayout = _React$useState2[1];

  var hasTextAncestor = React.useContext(_TextAncestorContext.default);
  var hiddenImageRef = React.useRef(null);
  var filterRef = React.useRef(_filterId++);
  var requestRef = React.useRef(null);
  var shouldDisplaySource = state === LOADED || state === LOADING && defaultSource == null;

  var _getFlatStyle = getFlatStyle(style, blurRadius, filterRef.current),
      flatStyle = _getFlatStyle[0],
      _resizeMode = _getFlatStyle[1],
      filter = _getFlatStyle[2],
      tintColor = _getFlatStyle[3];

  var resizeMode = props.resizeMode || _resizeMode || 'cover';
  var selectedSource = shouldDisplaySource ? source : defaultSource;
  var displayImageUri = resolveAssetUri(selectedSource);
  var imageSizeStyle = resolveAssetDimensions(selectedSource);
  var backgroundImage = displayImageUri ? "url(\"" + displayImageUri + "\")" : null;
  var backgroundSize = getBackgroundSize();
  var hiddenImage = displayImageUri ? (0, _createElement.default)('img', {
    alt: accessibilityLabel || '',
    classList: [classes.accessibilityImage],
    draggable: draggable || false,
    ref: hiddenImageRef,
    src: displayImageUri
  }) : null;

  function getBackgroundSize() {
    if (hiddenImageRef.current != null && (resizeMode === 'center' || resizeMode === 'repeat')) {
      var _hiddenImageRef$curre = hiddenImageRef.current,
          naturalHeight = _hiddenImageRef$curre.naturalHeight,
          naturalWidth = _hiddenImageRef$curre.naturalWidth;
      var _height3 = layout.height,
          _width3 = layout.width;

      if (naturalHeight && naturalWidth && _height3 && _width3) {
        var scaleFactor = Math.min(1, _width3 / naturalWidth, _height3 / naturalHeight);
        var x = Math.ceil(scaleFactor * naturalWidth);
        var y = Math.ceil(scaleFactor * naturalHeight);
        return x + "px " + y + "px";
      }
    }
  }

  function handleLayout(e) {
    if (resizeMode === 'center' || resizeMode === 'repeat' || onLayout) {
      var _layout = e.nativeEvent.layout;
      onLayout && onLayout(e);
      updateLayout(_layout);
    }
  }

  var uri = resolveAssetUri(source);
  React.useEffect(function () {
    abortPendingRequest();

    if (uri != null) {
      updateState(LOADING);

      if (onLoadStart) {
        onLoadStart();
      }

      requestRef.current = _ImageLoader.default.load(uri, function load(e) {
        updateState(LOADED);

        if (onLoad) {
          onLoad(e);
        }

        if (onLoadEnd) {
          onLoadEnd();
        }
      }, function error() {
        updateState(ERRORED);

        if (onError) {
          onError({
            nativeEvent: {
              error: "Failed to load resource " + uri + " (404)"
            }
          });
        }

        if (onLoadEnd) {
          onLoadEnd();
        }
      });
    }

    function abortPendingRequest() {
      if (requestRef.current != null) {
        _ImageLoader.default.abort(requestRef.current);

        requestRef.current = null;
      }
    }

    return abortPendingRequest;
  }, [uri, requestRef, updateState, onError, onLoad, onLoadEnd, onLoadStart]);
  return React.createElement(_View.default, _extends({}, rest, {
    accessibilityLabel: accessibilityLabel,
    onLayout: handleLayout,
    pointerEvents: pointerEvents,
    ref: ref,
    style: [styles.root, hasTextAncestor && styles.inline, imageSizeStyle, flatStyle]
  }), React.createElement(_View.default, {
    style: [styles.image, resizeModeStyles[resizeMode], {
      backgroundImage: backgroundImage,
      filter: filter
    }, backgroundSize != null && {
      backgroundSize: backgroundSize
    }],
    suppressHydrationWarning: true
  }), hiddenImage, createTintColorSVG(tintColor, filterRef.current));
});
Image.displayName = 'Image';
var ImageWithStatics = Image;

ImageWithStatics.getSize = function (uri, success, failure) {
  _ImageLoader.default.getSize(uri, success, failure);
};

ImageWithStatics.prefetch = function (uri) {
  return _ImageLoader.default.prefetch(uri);
};

ImageWithStatics.queryCache = function (uris) {
  return _ImageLoader.default.queryCache(uris);
};

var classes = _css.default.create({
  accessibilityImage: _objectSpread(_objectSpread({}, _StyleSheet.default.absoluteFillObject), {}, {
    height: '100%',
    opacity: 0,
    width: '100%',
    zIndex: -1
  })
});

var styles = _StyleSheet.default.create({
  root: {
    flexBasis: 'auto',
    overflow: 'hidden',
    zIndex: 0
  },
  inline: {
    display: 'inline-flex'
  },
  image: _objectSpread(_objectSpread({}, _StyleSheet.default.absoluteFillObject), {}, {
    backgroundColor: 'transparent',
    backgroundPosition: 'center',
    backgroundRepeat: 'no-repeat',
    backgroundSize: 'cover',
    height: '100%',
    width: '100%',
    zIndex: -1
  })
});

var resizeModeStyles = _StyleSheet.default.create({
  center: {
    backgroundSize: 'auto'
  },
  contain: {
    backgroundSize: 'contain'
  },
  cover: {
    backgroundSize: 'cover'
  },
  none: {
    backgroundPosition: '0 0',
    backgroundSize: 'auto'
  },
  repeat: {
    backgroundPosition: '0 0',
    backgroundRepeat: 'repeat',
    backgroundSize: 'auto'
  },
  stretch: {
    backgroundSize: '100% 100%'
  }
});

var _default = ImageWithStatics;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIlJlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwiX2NyZWF0ZUVsZW1lbnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2NzcyIsIl9Bc3NldFJlZ2lzdHJ5IiwiX3Jlc29sdmVTaGFkb3dWYWx1ZSIsIl9JbWFnZUxvYWRlciIsIl9QaXhlbFJhdGlvIiwiX1N0eWxlU2hlZXQiLCJfVGV4dEFuY2VzdG9yQ29udGV4dCIsIl9WaWV3Iiwib2JqIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwiYXBwbHkiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsImtleXMiLCJpbmRleE9mIiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImVudW1lcmFibGUiLCJwdXNoIiwiX29iamVjdFNwcmVhZCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsInZhbHVlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJFUlJPUkVEIiwiTE9BREVEIiwiTE9BRElORyIsIklETEUiLCJfZmlsdGVySWQiLCJzdmdEYXRhVXJpUGF0dGVybiIsImNyZWF0ZVRpbnRDb2xvclNWRyIsInRpbnRDb2xvciIsImlkIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJoZWlnaHQiLCJ2aXNpYmlsaXR5Iiwid2lkdGgiLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJmbG9vZENvbG9yIiwiaW4yIiwib3BlcmF0b3IiLCJnZXRGbGF0U3R5bGUiLCJibHVyUmFkaXVzIiwiZmlsdGVySWQiLCJmbGF0U3R5bGUiLCJmbGF0dGVuIiwicmVzaXplTW9kZSIsInNoYWRvd09mZnNldCIsImZpbHRlcnMiLCJfZmlsdGVyIiwic2hhZG93U3RyaW5nIiwiam9pbiIsInNoYWRvd0NvbG9yIiwic2hhZG93T3BhY2l0eSIsInNoYWRvd1JhZGl1cyIsIm92ZXJsYXlDb2xvciIsInJlc29sdmVBc3NldERpbWVuc2lvbnMiLCJfZ2V0QXNzZXRCeUlEIiwiZ2V0QXNzZXRCeUlEIiwiX2hlaWdodCIsIl93aWR0aCIsIkFycmF5IiwiaXNBcnJheSIsIl9oZWlnaHQyIiwiX3dpZHRoMiIsInJlc29sdmVBc3NldFVyaSIsInVyaSIsImFzc2V0Iiwic2NhbGUiLCJzY2FsZXMiLCJwcmVmZXJyZWRTY2FsZSIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwiTWF0aCIsImFicyIsInNjYWxlU3VmZml4IiwiaHR0cFNlcnZlckxvY2F0aW9uIiwibmFtZSIsInR5cGUiLCJtYXRjaCIsInByZWZpeCIsInN2ZyIsImVuY29kZWRTdmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJJbWFnZSIsImZvcndhcmRSZWYiLCJwcm9wcyIsInJlZiIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImRlZmF1bHRTb3VyY2UiLCJkcmFnZ2FibGUiLCJvbkVycm9yIiwib25MYXlvdXQiLCJvbkxvYWQiLCJvbkxvYWRFbmQiLCJvbkxvYWRTdGFydCIsInBvaW50ZXJFdmVudHMiLCJyZXN0IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY2hpbGRyZW4iLCJFcnJvciIsIl9SZWFjdCR1c2VTdGF0ZSIsInVzZVN0YXRlIiwiaXNMb2FkZWQiLCJzdGF0ZSIsInVwZGF0ZVN0YXRlIiwiX1JlYWN0JHVzZVN0YXRlMiIsImxheW91dCIsInVwZGF0ZUxheW91dCIsImhhc1RleHRBbmNlc3RvciIsInVzZUNvbnRleHQiLCJoaWRkZW5JbWFnZVJlZiIsInVzZVJlZiIsImZpbHRlclJlZiIsInJlcXVlc3RSZWYiLCJzaG91bGREaXNwbGF5U291cmNlIiwiX2dldEZsYXRTdHlsZSIsImN1cnJlbnQiLCJfcmVzaXplTW9kZSIsInNlbGVjdGVkU291cmNlIiwiZGlzcGxheUltYWdlVXJpIiwiaW1hZ2VTaXplU3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kU2l6ZSIsImdldEJhY2tncm91bmRTaXplIiwiaGlkZGVuSW1hZ2UiLCJhbHQiLCJjbGFzc0xpc3QiLCJjbGFzc2VzIiwiYWNjZXNzaWJpbGl0eUltYWdlIiwic3JjIiwiX2hpZGRlbkltYWdlUmVmJGN1cnJlIiwibmF0dXJhbEhlaWdodCIsIm5hdHVyYWxXaWR0aCIsIl9oZWlnaHQzIiwiX3dpZHRoMyIsInNjYWxlRmFjdG9yIiwibWluIiwieCIsImNlaWwiLCJ5IiwiaGFuZGxlTGF5b3V0IiwiZSIsIl9sYXlvdXQiLCJuYXRpdmVFdmVudCIsInVzZUVmZmVjdCIsImFib3J0UGVuZGluZ1JlcXVlc3QiLCJsb2FkIiwiZXJyb3IiLCJhYm9ydCIsInN0eWxlcyIsInJvb3QiLCJpbmxpbmUiLCJpbWFnZSIsInJlc2l6ZU1vZGVTdHlsZXMiLCJkaXNwbGF5TmFtZSIsIkltYWdlV2l0aFN0YXRpY3MiLCJnZXRTaXplIiwic3VjY2VzcyIsImZhaWx1cmUiLCJwcmVmZXRjaCIsInF1ZXJ5Q2FjaGUiLCJ1cmlzIiwiY3JlYXRlIiwiYWJzb2x1dGVGaWxsT2JqZWN0Iiwib3BhY2l0eSIsInpJbmRleCIsImZsZXhCYXNpcyIsIm92ZXJmbG93IiwiZGlzcGxheSIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRQb3NpdGlvbiIsImJhY2tncm91bmRSZXBlYXQiLCJjZW50ZXIiLCJjb250YWluIiwiY292ZXIiLCJub25lIiwicmVwZWF0Iiwic3RyZXRjaCIsIl9kZWZhdWx0IiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsT0FBTyxDQUFDQyxVQUFSLEdBQXFCLElBQXJCO0FBQ0FELE9BQU8sQ0FBQ0UsT0FBUixHQUFrQixLQUFLLENBQXZCOztBQUVBLElBQUlDLEtBQUssR0FBR0MsdUJBQXVCLENBQUNDLE9BQU8sQ0FBQyxPQUFELENBQVIsQ0FBbkM7O0FBRUEsSUFBSUMsY0FBYyxHQUFHQyxzQkFBc0IsQ0FBQ0YsT0FBTyxvQkFBUixDQUEzQzs7QUFFQSxJQUFJRyxJQUFJLEdBQUdELHNCQUFzQixDQUFDRixPQUFPLHFCQUFSLENBQWpDOztBQUVBLElBQUlJLGNBQWMsR0FBR0osT0FBTywrQkFBNUI7O0FBRUEsSUFBSUssbUJBQW1CLEdBQUdILHNCQUFzQixDQUFDRixPQUFPLG9DQUFSLENBQWhEOztBQUVBLElBQUlNLFlBQVksR0FBR0osc0JBQXNCLENBQUNGLE9BQU8sNkJBQVIsQ0FBekM7O0FBRUEsSUFBSU8sV0FBVyxHQUFHTCxzQkFBc0IsQ0FBQ0YsT0FBTyxpQkFBUixDQUF4Qzs7QUFFQSxJQUFJUSxXQUFXLEdBQUdOLHNCQUFzQixDQUFDRixPQUFPLGlCQUFSLENBQXhDOztBQUVBLElBQUlTLG9CQUFvQixHQUFHUCxzQkFBc0IsQ0FBQ0YsT0FBTywrQkFBUixDQUFqRDs7QUFFQSxJQUFJVSxLQUFLLEdBQUdSLHNCQUFzQixDQUFDRixPQUFPLFdBQVIsQ0FBbEM7O0FBRUEsU0FBU0Usc0JBQVQsQ0FBZ0NTLEdBQWhDLEVBQXFDO0FBQUUsU0FBT0EsR0FBRyxJQUFJQSxHQUFHLENBQUNmLFVBQVgsR0FBd0JlLEdBQXhCLEdBQThCO0FBQUVkLElBQUFBLE9BQU8sRUFBRWM7QUFBWCxHQUFyQztBQUF3RDs7QUFFL0YsU0FBU0Msd0JBQVQsR0FBb0M7QUFBRSxNQUFJLE9BQU9DLE9B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SXdELFFBQVEsR0FBR3ZCLGdCQUFmO0FBQ0F4TSxPQUFPLENBQUNFLE9BQVIsR0FBa0I2TixRQUFsQjtBQUNBQyxNQUFNLENBQUNoTyxPQUFQLEdBQWlCQSxPQUFPLENBQUNFLE9BQXpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlRWxlbWVudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL2NyZWF0ZUVsZW1lbnRcIikpO1xuXG52YXIgX2NzcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1N0eWxlU2hlZXQvY3NzXCIpKTtcblxudmFyIF9Bc3NldFJlZ2lzdHJ5ID0gcmVxdWlyZShcIi4uLy4uL21vZHVsZXMvQXNzZXRSZWdpc3RyeVwiKTtcblxudmFyIF9yZXNvbHZlU2hhZG93VmFsdWUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9TdHlsZVNoZWV0L3Jlc29sdmVTaGFkb3dWYWx1ZVwiKSk7XG5cbnZhciBfSW1hZ2VMb2FkZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi9tb2R1bGVzL0ltYWdlTG9hZGVyXCIpKTtcblxudmFyIF9QaXhlbFJhdGlvID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vUGl4ZWxSYXRpb1wiKSk7XG5cbnZhciBfU3R5bGVTaGVldCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1N0eWxlU2hlZXRcIikpO1xuXG52YXIgX1RleHRBbmNlc3RvckNvbnRleHQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9UZXh0L1RleHRBbmNlc3RvckNvbnRleHRcIikpO1xuXG52YXIgX1ZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9WaWV3XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyBpZiAodHlwZW9mIFdlYWtNYXAgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG51bGw7IHZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgcmV0dXJuIGNhY2hlOyB9OyByZXR1cm4gY2FjaGU7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gXCJmdW5jdGlvblwiKSB7IHJldHVybiB7IGRlZmF1bHQ6IG9iaiB9OyB9IHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBFUlJPUkVEID0gJ0VSUk9SRUQnO1xudmFyIExPQURFRCA9ICdMT0FERUQnO1xudmFyIExPQURJTkcgPSAnTE9BRElORyc7XG52YXIgSURMRSA9ICdJRExFJztcbnZhciBfZmlsdGVySWQgPSAwO1xudmFyIHN2Z0RhdGFVcmlQYXR0ZXJuID0gL14oZGF0YTppbWFnZVxcL3N2Z1xcK3htbDt1dGY4LCkoLiopLztcblxuZnVuY3Rpb24gY3JlYXRlVGludENvbG9yU1ZHKHRpbnRDb2xvciwgaWQpIHtcbiAgcmV0dXJuIHRpbnRDb2xvciAmJiBpZCAhPSBudWxsID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgICAgd2lkdGg6IDBcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImZpbHRlclwiLCB7XG4gICAgaWQ6IFwidGludC1cIiArIGlkLFxuICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImZlRmxvb2RcIiwge1xuICAgIGZsb29kQ29sb3I6IFwiXCIgKyB0aW50Q29sb3IsXG4gICAga2V5OiB0aW50Q29sb3JcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZmVDb21wb3NpdGVcIiwge1xuICAgIGluMjogXCJTb3VyY2VBbHBoYVwiLFxuICAgIG9wZXJhdG9yOiBcImF0b3BcIlxuICB9KSkpKSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldEZsYXRTdHlsZShzdHlsZSwgYmx1clJhZGl1cywgZmlsdGVySWQpIHtcbiAgdmFyIGZsYXRTdHlsZSA9IF9vYmplY3RTcHJlYWQoe30sIF9TdHlsZVNoZWV0LmRlZmF1bHQuZmxhdHRlbihzdHlsZSkpO1xuXG4gIHZhciBmaWx0ZXIgPSBmbGF0U3R5bGUuZmlsdGVyLFxuICAgICAgcmVzaXplTW9kZSA9IGZsYXRTdHlsZS5yZXNpemVNb2RlLFxuICAgICAgc2hhZG93T2Zmc2V0ID0gZmxhdFN0eWxlLnNoYWRvd09mZnNldCxcbiAgICAgIHRpbnRDb2xvciA9IGZsYXRTdHlsZS50aW50Q29sb3I7IC8vIEFkZCBDU1MgZmlsdGVyc1xuICAvLyBSZWFjdCBOYXRpdmUgZXhwb3NlcyB0aGVzZSBmZWF0dXJlcyBhcyBwcm9wcyBhbmQgcHJvcHJpZXRhcnkgc3R5bGVzXG5cbiAgdmFyIGZpbHRlcnMgPSBbXTtcbiAgdmFyIF9maWx0ZXIgPSBudWxsO1xuXG4gIGlmIChmaWx0ZXIpIHtcbiAgICBmaWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgfVxuXG4gIGlmIChibHVyUmFkaXVzKSB7XG4gICAgZmlsdGVycy5wdXNoKFwiYmx1cihcIiArIGJsdXJSYWRpdXMgKyBcInB4KVwiKTtcbiAgfVxuXG4gIGlmIChzaGFkb3dPZmZzZXQpIHtcbiAgICB2YXIgc2hhZG93U3RyaW5nID0gKDAsIF9yZXNvbHZlU2hhZG93VmFsdWUuZGVmYXVsdCkoZmxhdFN0eWxlKTtcblxuICAgIGlmIChzaGFkb3dTdHJpbmcpIHtcbiAgICAgIGZpbHRlcnMucHVzaChcImRyb3Atc2hhZG93KFwiICsgc2hhZG93U3RyaW5nICsgXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aW50Q29sb3IgJiYgZmlsdGVySWQgIT0gbnVsbCkge1xuICAgIGZpbHRlcnMucHVzaChcInVybCgjdGludC1cIiArIGZpbHRlcklkICsgXCIpXCIpO1xuICB9XG5cbiAgaWYgKGZpbHRlcnMubGVuZ3RoID4gMCkge1xuICAgIF9maWx0ZXIgPSBmaWx0ZXJzLmpvaW4oJyAnKTtcbiAgfSAvLyBUaGVzZSBzdHlsZXMgYXJlIGNvbnZlcnRlZCB0byBDU1MgZmlsdGVycyBhcHBsaWVkIHRvIHRoZVxuICAvLyBlbGVtZW50IGRpc3BsYXlpbmcgdGhlIGJhY2tncm91bmQgaW1hZ2UuXG5cblxuICBkZWxldGUgZmxhdFN0eWxlLmJsdXJSYWRpdXM7XG4gIGRlbGV0ZSBmbGF0U3R5bGUuc2hhZG93Q29sb3I7XG4gIGRlbGV0ZSBmbGF0U3R5bGUuc2hhZG93T3BhY2l0eTtcbiAgZGVsZXRlIGZsYXRTdHlsZS5zaGFkb3dPZmZzZXQ7XG4gIGRlbGV0ZSBmbGF0U3R5bGUuc2hhZG93UmFkaXVzO1xuICBkZWxldGUgZmxhdFN0eWxlLnRpbnRDb2xvcjsgLy8gVGhlc2Ugc3R5bGVzIGFyZSBub3Qgc3VwcG9ydGVkIG9uIFZpZXdcblxuICBkZWxldGUgZmxhdFN0eWxlLm92ZXJsYXlDb2xvcjtcbiAgZGVsZXRlIGZsYXRTdHlsZS5yZXNpemVNb2RlO1xuICByZXR1cm4gW2ZsYXRTdHlsZSwgcmVzaXplTW9kZSwgX2ZpbHRlciwgdGludENvbG9yXTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0RGltZW5zaW9ucyhzb3VyY2UpIHtcbiAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdudW1iZXInKSB7XG4gICAgdmFyIF9nZXRBc3NldEJ5SUQgPSAoMCwgX0Fzc2V0UmVnaXN0cnkuZ2V0QXNzZXRCeUlEKShzb3VyY2UpLFxuICAgICAgICBfaGVpZ2h0ID0gX2dldEFzc2V0QnlJRC5oZWlnaHQsXG4gICAgICAgIF93aWR0aCA9IF9nZXRBc3NldEJ5SUQud2lkdGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaGVpZ2h0OiBfaGVpZ2h0LFxuICAgICAgd2lkdGg6IF93aWR0aFxuICAgIH07XG4gIH0gZWxzZSBpZiAoc291cmNlICE9IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoc291cmNlKSAmJiB0eXBlb2Ygc291cmNlID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBfaGVpZ2h0MiA9IHNvdXJjZS5oZWlnaHQsXG4gICAgICAgIF93aWR0aDIgPSBzb3VyY2Uud2lkdGg7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhlaWdodDogX2hlaWdodDIsXG4gICAgICB3aWR0aDogX3dpZHRoMlxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0VXJpKHNvdXJjZSkge1xuICB2YXIgdXJpID0gbnVsbDtcblxuICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ251bWJlcicpIHtcbiAgICAvLyBnZXQgdGhlIFVSSSBmcm9tIHRoZSBwYWNrYWdlclxuICAgIHZhciBhc3NldCA9ICgwLCBfQXNzZXRSZWdpc3RyeS5nZXRBc3NldEJ5SUQpKHNvdXJjZSk7XG4gICAgdmFyIHNjYWxlID0gYXNzZXQuc2NhbGVzWzBdO1xuXG4gICAgaWYgKGFzc2V0LnNjYWxlcy5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgcHJlZmVycmVkU2NhbGUgPSBfUGl4ZWxSYXRpby5kZWZhdWx0LmdldCgpOyAvLyBHZXQgdGhlIHNjYWxlIHdoaWNoIGlzIGNsb3Nlc3QgdG8gdGhlIHByZWZlcnJlZCBzY2FsZVxuXG5cbiAgICAgIHNjYWxlID0gYXNzZXQuc2NhbGVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3Vycikge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoY3VyciAtIHByZWZlcnJlZFNjYWxlKSA8IE1hdGguYWJzKHByZXYgLSBwcmVmZXJyZWRTY2FsZSkgPyBjdXJyIDogcHJldjtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBzY2FsZVN1ZmZpeCA9IHNjYWxlICE9PSAxID8gXCJAXCIgKyBzY2FsZSArIFwieFwiIDogJyc7XG4gICAgdXJpID0gYXNzZXQgPyBhc3NldC5odHRwU2VydmVyTG9jYXRpb24gKyBcIi9cIiArIGFzc2V0Lm5hbWUgKyBzY2FsZVN1ZmZpeCArIFwiLlwiICsgYXNzZXQudHlwZSA6ICcnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgdXJpID0gc291cmNlO1xuICB9IGVsc2UgaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlLnVyaSA9PT0gJ3N0cmluZycpIHtcbiAgICB1cmkgPSBzb3VyY2UudXJpO1xuICB9XG5cbiAgaWYgKHVyaSkge1xuICAgIHZhciBtYXRjaCA9IHVyaS5tYXRjaChzdmdEYXRhVXJpUGF0dGVybik7IC8vIGlubGluZSBTVkcgbWFya3VwIG1heSBjb250YWluIGNoYXJhY3RlcnMgKGUuZy4sICMsIFwiKSB0aGF0IG5lZWQgdG8gYmUgZXNjYXBlZFxuXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICB2YXIgcHJlZml4ID0gbWF0Y2hbMV0sXG4gICAgICAgICAgc3ZnID0gbWF0Y2hbMl07XG4gICAgICB2YXIgZW5jb2RlZFN2ZyA9IGVuY29kZVVSSUNvbXBvbmVudChzdmcpO1xuICAgICAgcmV0dXJuIFwiXCIgKyBwcmVmaXggKyBlbmNvZGVkU3ZnO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1cmk7XG59XG5cbnZhciBJbWFnZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBhY2Nlc3NpYmlsaXR5TGFiZWwgPSBwcm9wcy5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICBibHVyUmFkaXVzID0gcHJvcHMuYmx1clJhZGl1cyxcbiAgICAgIGRlZmF1bHRTb3VyY2UgPSBwcm9wcy5kZWZhdWx0U291cmNlLFxuICAgICAgZHJhZ2dhYmxlID0gcHJvcHMuZHJhZ2dhYmxlLFxuICAgICAgb25FcnJvciA9IHByb3BzLm9uRXJyb3IsXG4gICAgICBvbkxheW91dCA9IHByb3BzLm9uTGF5b3V0LFxuICAgICAgb25Mb2FkID0gcHJvcHMub25Mb2FkLFxuICAgICAgb25Mb2FkRW5kID0gcHJvcHMub25Mb2FkRW5kLFxuICAgICAgb25Mb2FkU3RhcnQgPSBwcm9wcy5vbkxvYWRTdGFydCxcbiAgICAgIHBvaW50ZXJFdmVudHMgPSBwcm9wcy5wb2ludGVyRXZlbnRzLFxuICAgICAgc291cmNlID0gcHJvcHMuc291cmNlLFxuICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgW1wiYWNjZXNzaWJpbGl0eUxhYmVsXCIsIFwiYmx1clJhZGl1c1wiLCBcImRlZmF1bHRTb3VyY2VcIiwgXCJkcmFnZ2FibGVcIiwgXCJvbkVycm9yXCIsIFwib25MYXlvdXRcIiwgXCJvbkxvYWRcIiwgXCJvbkxvYWRFbmRcIiwgXCJvbkxvYWRTdGFydFwiLCBcInBvaW50ZXJFdmVudHNcIiwgXCJzb3VyY2VcIiwgXCJzdHlsZVwiXSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAocHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIDxJbWFnZT4gY29tcG9uZW50IGNhbm5vdCBjb250YWluIGNoaWxkcmVuLiBJZiB5b3Ugd2FudCB0byByZW5kZXIgY29udGVudCBvbiB0b3Agb2YgdGhlIGltYWdlLCBjb25zaWRlciB1c2luZyB0aGUgPEltYWdlQmFja2dyb3VuZD4gY29tcG9uZW50IG9yIGFic29sdXRlIHBvc2l0aW9uaW5nLicpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVyaSA9IHJlc29sdmVBc3NldFVyaShzb3VyY2UpO1xuXG4gICAgaWYgKHVyaSAhPSBudWxsKSB7XG4gICAgICB2YXIgaXNMb2FkZWQgPSBfSW1hZ2VMb2FkZXIuZGVmYXVsdC5oYXModXJpKTtcblxuICAgICAgaWYgKGlzTG9hZGVkKSB7XG4gICAgICAgIHJldHVybiBMT0FERUQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIElETEU7XG4gIH0pLFxuICAgICAgc3RhdGUgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICB1cGRhdGVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMiA9IFJlYWN0LnVzZVN0YXRlKHt9KSxcbiAgICAgIGxheW91dCA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICB1cGRhdGVMYXlvdXQgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBoYXNUZXh0QW5jZXN0b3IgPSBSZWFjdC51c2VDb250ZXh0KF9UZXh0QW5jZXN0b3JDb250ZXh0LmRlZmF1bHQpO1xuICB2YXIgaGlkZGVuSW1hZ2VSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBmaWx0ZXJSZWYgPSBSZWFjdC51c2VSZWYoX2ZpbHRlcklkKyspO1xuICB2YXIgcmVxdWVzdFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgdmFyIHNob3VsZERpc3BsYXlTb3VyY2UgPSBzdGF0ZSA9PT0gTE9BREVEIHx8IHN0YXRlID09PSBMT0FESU5HICYmIGRlZmF1bHRTb3VyY2UgPT0gbnVsbDtcblxuICB2YXIgX2dldEZsYXRTdHlsZSA9IGdldEZsYXRTdHlsZShzdHlsZSwgYmx1clJhZGl1cywgZmlsdGVyUmVmLmN1cnJlbnQpLFxuICAgICAgZmxhdFN0eWxlID0gX2dldEZsYXRTdHlsZVswXSxcbiAgICAgIF9yZXNpemVNb2RlID0gX2dldEZsYXRTdHlsZVsxXSxcbiAgICAgIGZpbHRlciA9IF9nZXRGbGF0U3R5bGVbMl0sXG4gICAgICB0aW50Q29sb3IgPSBfZ2V0RmxhdFN0eWxlWzNdO1xuXG4gIHZhciByZXNpemVNb2RlID0gcHJvcHMucmVzaXplTW9kZSB8fCBfcmVzaXplTW9kZSB8fCAnY292ZXInO1xuICB2YXIgc2VsZWN0ZWRTb3VyY2UgPSBzaG91bGREaXNwbGF5U291cmNlID8gc291cmNlIDogZGVmYXVsdFNvdXJjZTtcbiAgdmFyIGRpc3BsYXlJbWFnZVVyaSA9IHJlc29sdmVBc3NldFVyaShzZWxlY3RlZFNvdXJjZSk7XG4gIHZhciBpbWFnZVNpemVTdHlsZSA9IHJlc29sdmVBc3NldERpbWVuc2lvbnMoc2VsZWN0ZWRTb3VyY2UpO1xuICB2YXIgYmFja2dyb3VuZEltYWdlID0gZGlzcGxheUltYWdlVXJpID8gXCJ1cmwoXFxcIlwiICsgZGlzcGxheUltYWdlVXJpICsgXCJcXFwiKVwiIDogbnVsbDtcbiAgdmFyIGJhY2tncm91bmRTaXplID0gZ2V0QmFja2dyb3VuZFNpemUoKTsgLy8gQWNjZXNzaWJpbGl0eSBpbWFnZSBhbGxvd3MgdXNlcnMgdG8gdHJpZ2dlciB0aGUgYnJvd3NlcidzIGltYWdlIGNvbnRleHQgbWVudVxuXG4gIHZhciBoaWRkZW5JbWFnZSA9IGRpc3BsYXlJbWFnZVVyaSA/ICgwLCBfY3JlYXRlRWxlbWVudC5kZWZhdWx0KSgnaW1nJywge1xuICAgIGFsdDogYWNjZXNzaWJpbGl0eUxhYmVsIHx8ICcnLFxuICAgIGNsYXNzTGlzdDogW2NsYXNzZXMuYWNjZXNzaWJpbGl0eUltYWdlXSxcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSB8fCBmYWxzZSxcbiAgICByZWY6IGhpZGRlbkltYWdlUmVmLFxuICAgIHNyYzogZGlzcGxheUltYWdlVXJpXG4gIH0pIDogbnVsbDtcblxuICBmdW5jdGlvbiBnZXRCYWNrZ3JvdW5kU2l6ZSgpIHtcbiAgICBpZiAoaGlkZGVuSW1hZ2VSZWYuY3VycmVudCAhPSBudWxsICYmIChyZXNpemVNb2RlID09PSAnY2VudGVyJyB8fCByZXNpemVNb2RlID09PSAncmVwZWF0JykpIHtcbiAgICAgIHZhciBfaGlkZGVuSW1hZ2VSZWYkY3VycmUgPSBoaWRkZW5JbWFnZVJlZi5jdXJyZW50LFxuICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBfaGlkZGVuSW1hZ2VSZWYkY3VycmUubmF0dXJhbEhlaWdodCxcbiAgICAgICAgICBuYXR1cmFsV2lkdGggPSBfaGlkZGVuSW1hZ2VSZWYkY3VycmUubmF0dXJhbFdpZHRoO1xuICAgICAgdmFyIF9oZWlnaHQzID0gbGF5b3V0LmhlaWdodCxcbiAgICAgICAgICBfd2lkdGgzID0gbGF5b3V0LndpZHRoO1xuXG4gICAgICBpZiAobmF0dXJhbEhlaWdodCAmJiBuYXR1cmFsV2lkdGggJiYgX2hlaWdodDMgJiYgX3dpZHRoMykge1xuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSBNYXRoLm1pbigxLCBfd2lkdGgzIC8gbmF0dXJhbFdpZHRoLCBfaGVpZ2h0MyAvIG5hdHVyYWxIZWlnaHQpO1xuICAgICAgICB2YXIgeCA9IE1hdGguY2VpbChzY2FsZUZhY3RvciAqIG5hdHVyYWxXaWR0aCk7XG4gICAgICAgIHZhciB5ID0gTWF0aC5jZWlsKHNjYWxlRmFjdG9yICogbmF0dXJhbEhlaWdodCk7XG4gICAgICAgIHJldHVybiB4ICsgXCJweCBcIiArIHkgKyBcInB4XCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTGF5b3V0KGUpIHtcbiAgICBpZiAocmVzaXplTW9kZSA9PT0gJ2NlbnRlcicgfHwgcmVzaXplTW9kZSA9PT0gJ3JlcGVhdCcgfHwgb25MYXlvdXQpIHtcbiAgICAgIHZhciBfbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgICBvbkxheW91dCAmJiBvbkxheW91dChlKTtcbiAgICAgIHVwZGF0ZUxheW91dChfbGF5b3V0KTtcbiAgICB9XG4gIH0gLy8gSW1hZ2UgbG9hZGluZ1xuXG5cbiAgdmFyIHVyaSA9IHJlc29sdmVBc3NldFVyaShzb3VyY2UpO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGFib3J0UGVuZGluZ1JlcXVlc3QoKTtcblxuICAgIGlmICh1cmkgIT0gbnVsbCkge1xuICAgICAgdXBkYXRlU3RhdGUoTE9BRElORyk7XG5cbiAgICAgIGlmIChvbkxvYWRTdGFydCkge1xuICAgICAgICBvbkxvYWRTdGFydCgpO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0UmVmLmN1cnJlbnQgPSBfSW1hZ2VMb2FkZXIuZGVmYXVsdC5sb2FkKHVyaSwgZnVuY3Rpb24gbG9hZChlKSB7XG4gICAgICAgIHVwZGF0ZVN0YXRlKExPQURFRCk7XG5cbiAgICAgICAgaWYgKG9uTG9hZCkge1xuICAgICAgICAgIG9uTG9hZChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkxvYWRFbmQpIHtcbiAgICAgICAgICBvbkxvYWRFbmQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIHVwZGF0ZVN0YXRlKEVSUk9SRUQpO1xuXG4gICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgb25FcnJvcih7XG4gICAgICAgICAgICBuYXRpdmVFdmVudDoge1xuICAgICAgICAgICAgICBlcnJvcjogXCJGYWlsZWQgdG8gbG9hZCByZXNvdXJjZSBcIiArIHVyaSArIFwiICg0MDQpXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvbkxvYWRFbmQpIHtcbiAgICAgICAgICBvbkxvYWRFbmQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWJvcnRQZW5kaW5nUmVxdWVzdCgpIHtcbiAgICAgIGlmIChyZXF1ZXN0UmVmLmN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICBfSW1hZ2VMb2FkZXIuZGVmYXVsdC5hYm9ydChyZXF1ZXN0UmVmLmN1cnJlbnQpO1xuXG4gICAgICAgIHJlcXVlc3RSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFib3J0UGVuZGluZ1JlcXVlc3Q7XG4gIH0sIFt1cmksIHJlcXVlc3RSZWYsIHVwZGF0ZVN0YXRlLCBvbkVycm9yLCBvbkxvYWQsIG9uTG9hZEVuZCwgb25Mb2FkU3RhcnRdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgYWNjZXNzaWJpbGl0eUxhYmVsOiBhY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgb25MYXlvdXQ6IGhhbmRsZUxheW91dCxcbiAgICBwb2ludGVyRXZlbnRzOiBwb2ludGVyRXZlbnRzLFxuICAgIHJlZjogcmVmLFxuICAgIHN0eWxlOiBbc3R5bGVzLnJvb3QsIGhhc1RleHRBbmNlc3RvciAmJiBzdHlsZXMuaW5saW5lLCBpbWFnZVNpemVTdHlsZSwgZmxhdFN0eWxlXVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgIHN0eWxlOiBbc3R5bGVzLmltYWdlLCByZXNpemVNb2RlU3R5bGVzW3Jlc2l6ZU1vZGVdLCB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGJhY2tncm91bmRJbWFnZSxcbiAgICAgIGZpbHRlcjogZmlsdGVyXG4gICAgfSwgYmFja2dyb3VuZFNpemUgIT0gbnVsbCAmJiB7XG4gICAgICBiYWNrZ3JvdW5kU2l6ZTogYmFja2dyb3VuZFNpemVcbiAgICB9XSxcbiAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWVcbiAgfSksIGhpZGRlbkltYWdlLCBjcmVhdGVUaW50Q29sb3JTVkcodGludENvbG9yLCBmaWx0ZXJSZWYuY3VycmVudCkpO1xufSk7XG5JbWFnZS5kaXNwbGF5TmFtZSA9ICdJbWFnZSc7IC8vICRGbG93SWdub3JlOiBUaGlzIGlzIHRoZSBjb3JyZWN0IHR5cGUsIGJ1dCBjYXN0aW5nIG1ha2VzIGl0IHVuaGFwcHkgc2luY2UgdGhlIHZhcmlhYmxlcyBhcmVuJ3QgZGVmaW5lZCB5ZXRcblxudmFyIEltYWdlV2l0aFN0YXRpY3MgPSBJbWFnZTtcblxuSW1hZ2VXaXRoU3RhdGljcy5nZXRTaXplID0gZnVuY3Rpb24gKHVyaSwgc3VjY2VzcywgZmFpbHVyZSkge1xuICBfSW1hZ2VMb2FkZXIuZGVmYXVsdC5nZXRTaXplKHVyaSwgc3VjY2VzcywgZmFpbHVyZSk7XG59O1xuXG5JbWFnZVdpdGhTdGF0aWNzLnByZWZldGNoID0gZnVuY3Rpb24gKHVyaSkge1xuICByZXR1cm4gX0ltYWdlTG9hZGVyLmRlZmF1bHQucHJlZmV0Y2godXJpKTtcbn07XG5cbkltYWdlV2l0aFN0YXRpY3MucXVlcnlDYWNoZSA9IGZ1bmN0aW9uICh1cmlzKSB7XG4gIHJldHVybiBfSW1hZ2VMb2FkZXIuZGVmYXVsdC5xdWVyeUNhY2hlKHVyaXMpO1xufTtcblxudmFyIGNsYXNzZXMgPSBfY3NzLmRlZmF1bHQuY3JlYXRlKHtcbiAgYWNjZXNzaWJpbGl0eUltYWdlOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9TdHlsZVNoZWV0LmRlZmF1bHQuYWJzb2x1dGVGaWxsT2JqZWN0KSwge30sIHtcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBvcGFjaXR5OiAwLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgekluZGV4OiAtMVxuICB9KVxufSk7XG5cbnZhciBzdHlsZXMgPSBfU3R5bGVTaGVldC5kZWZhdWx0LmNyZWF0ZSh7XG4gIHJvb3Q6IHtcbiAgICBmbGV4QmFzaXM6ICdhdXRvJyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgekluZGV4OiAwXG4gIH0sXG4gIGlubGluZToge1xuICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCdcbiAgfSxcbiAgaW1hZ2U6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX1N0eWxlU2hlZXQuZGVmYXVsdC5hYnNvbHV0ZUZpbGxPYmplY3QpLCB7fSwge1xuICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICdjZW50ZXInLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgIGJhY2tncm91bmRTaXplOiAnY292ZXInLFxuICAgIGhlaWdodDogJzEwMCUnLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgekluZGV4OiAtMVxuICB9KVxufSk7XG5cbnZhciByZXNpemVNb2RlU3R5bGVzID0gX1N0eWxlU2hlZXQuZGVmYXVsdC5jcmVhdGUoe1xuICBjZW50ZXI6IHtcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2F1dG8nXG4gIH0sXG4gIGNvbnRhaW46IHtcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvbnRhaW4nXG4gIH0sXG4gIGNvdmVyOiB7XG4gICAgYmFja2dyb3VuZFNpemU6ICdjb3ZlcidcbiAgfSxcbiAgbm9uZToge1xuICAgIGJhY2tncm91bmRQb3NpdGlvbjogJzAgMCcsXG4gICAgYmFja2dyb3VuZFNpemU6ICdhdXRvJ1xuICB9LFxuICByZXBlYXQ6IHtcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICcwIDAnLFxuICAgIGJhY2tncm91bmRSZXBlYXQ6ICdyZXBlYXQnLFxuICAgIGJhY2tncm91bmRTaXplOiAnYXV0bydcbiAgfSxcbiAgc3RyZXRjaDoge1xuICAgIGJhY2tncm91bmRTaXplOiAnMTAwJSAxMDAlJ1xuICB9XG59KTtcblxudmFyIF9kZWZhdWx0ID0gSW1hZ2VXaXRoU3RhdGljcztcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il19