f031c25b4d7f316f2072ef6ae82b631a
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _Batchinator = _interopRequireDefault(require("../Batchinator"));

var _FillRateHelper = _interopRequireDefault(require("../FillRateHelper"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var React = _interopRequireWildcard(require("react"));

var _RefreshControl = _interopRequireDefault(require("../../../exports/RefreshControl"));

var _ScrollView = _interopRequireDefault(require("../../../exports/ScrollView"));

var _StyleSheet = _interopRequireDefault(require("../../../exports/StyleSheet"));

var _UIManager = _interopRequireDefault(require("../../../exports/UIManager"));

var _View = _interopRequireDefault(require("../../../exports/View"));

var _ViewabilityHelper = _interopRequireDefault(require("../ViewabilityHelper"));

var _findNodeHandle = _interopRequireDefault(require("../../../exports/findNodeHandle"));

var _infoLog = _interopRequireDefault(require("../infoLog"));

var _invariant = _interopRequireDefault(require("fbjs/lib/invariant"));

var _warning = _interopRequireDefault(require("fbjs/lib/warning"));

var _VirtualizeUtils = require("../VirtualizeUtils");

var _VirtualizedListContext = require("./VirtualizedListContext.js");

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _createForOfIteratorHelperLoose(o, allowArrayLike) {
  var it;

  if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {
    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
      if (it) o = it;
      var i = 0;
      return function () {
        if (i >= o.length) return {
          done: true
        };
        return {
          done: false,
          value: o[i++]
        };
      };
    }

    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  it = o[Symbol.iterator]();
  return it.next.bind(it);
}

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;

  _setPrototypeOf(subClass, superClass);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

var flattenStyle = _StyleSheet.default.flatten;

var __DEV__ = process.env.NODE_ENV !== 'production';

var _usedIndexForKey = false;
var _keylessItemComponentName = '';

var VirtualizedList = function (_React$PureComponent) {
  _inheritsLoose(VirtualizedList, _React$PureComponent);

  var _proto = VirtualizedList.prototype;

  _proto.scrollToEnd = function scrollToEnd(params) {
    var animated = params ? params.animated : true;
    var veryLast = this.props.getItemCount(this.props.data) - 1;

    var frame = this._getFrameMetricsApprox(veryLast);

    var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);

    if (this._scrollRef == null) {
      return;
    }

    if (this._scrollRef.scrollTo == null) {
      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
      return;
    }

    this._scrollRef.scrollTo(this.props.horizontal ? {
      x: offset,
      animated: animated
    } : {
      y: offset,
      animated: animated
    });
  };

  _proto.scrollToIndex = function scrollToIndex(params) {
    var _this$props = this.props,
        data = _this$props.data,
        horizontal = _this$props.horizontal,
        getItemCount = _this$props.getItemCount,
        getItemLayout = _this$props.getItemLayout,
        onScrollToIndexFailed = _this$props.onScrollToIndexFailed;
    var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
    (0, _invariant.default)(index >= 0, "scrollToIndex out of range: requested index " + index + " but minimum is 0");
    (0, _invariant.default)(getItemCount(data) >= 1, "scrollToIndex out of range: item length " + getItemCount(data) + " but minimum is 1");
    (0, _invariant.default)(index < getItemCount(data), "scrollToIndex out of range: requested index " + index + " is out of 0 to " + (getItemCount(data) - 1));

    if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
      (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
      onScrollToIndexFailed({
        averageItemLength: this._averageCellLength,
        highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
        index: index
      });
      return;
    }

    var frame = this._getFrameMetricsApprox(index);

    var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);

    if (this._scrollRef == null) {
      return;
    }

    if (this._scrollRef.scrollTo == null) {
      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
      return;
    }

    this._scrollRef.scrollTo(horizontal ? {
      x: offset,
      animated: animated
    } : {
      y: offset,
      animated: animated
    });
  };

  _proto.scrollToItem = function scrollToItem(params) {
    var item = params.item;
    var _this$props2 = this.props,
        data = _this$props2.data,
        getItem = _this$props2.getItem,
        getItemCount = _this$props2.getItemCount;
    var itemCount = getItemCount(data);

    for (var _index = 0; _index < itemCount; _index++) {
      if (getItem(data, _index) === item) {
        this.scrollToIndex(_objectSpread(_objectSpread({}, params), {}, {
          index: _index
        }));
        break;
      }
    }
  };

  _proto.scrollToOffset = function scrollToOffset(params) {
    var animated = params.animated,
        offset = params.offset;

    if (this._scrollRef == null) {
      return;
    }

    if (this._scrollRef.scrollTo == null) {
      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
      return;
    }

    this._scrollRef.scrollTo(this.props.horizontal ? {
      x: offset,
      animated: animated
    } : {
      y: offset,
      animated: animated
    });
  };

  _proto.recordInteraction = function recordInteraction() {
    this._nestedChildLists.forEach(function (childList) {
      childList.ref && childList.ref.recordInteraction();
    });

    this._viewabilityTuples.forEach(function (t) {
      t.viewabilityHelper.recordInteraction();
    });

    this._updateViewableItems(this.props.data);
  };

  _proto.flashScrollIndicators = function flashScrollIndicators() {
    if (this._scrollRef == null) {
      return;
    }

    this._scrollRef.flashScrollIndicators();
  };

  _proto.getScrollResponder = function getScrollResponder() {
    if (this._scrollRef && this._scrollRef.getScrollResponder) {
      return this._scrollRef.getScrollResponder();
    }
  };

  _proto.getScrollableNode = function getScrollableNode() {
    if (this._scrollRef && this._scrollRef.getScrollableNode) {
      return this._scrollRef.getScrollableNode();
    } else {
      return (0, _findNodeHandle.default)(this._scrollRef);
    }
  };

  _proto.getScrollRef = function getScrollRef() {
    if (this._scrollRef && this._scrollRef.getScrollRef) {
      return this._scrollRef.getScrollRef();
    } else {
      return this._scrollRef;
    }
  };

  _proto.setNativeProps = function setNativeProps(props) {
    if (this._scrollRef) {
      this._scrollRef.setNativeProps(props);
    }
  };

  _proto._getCellKey = function _getCellKey() {
    var _this$context;

    return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
  };

  _proto._getListKey = function _getListKey() {
    return this.props.listKey || this._getCellKey();
  };

  _proto._getDebugInfo = function _getDebugInfo() {
    var _this$context2;

    return {
      listKey: this._getListKey(),
      cellKey: this._getCellKey(),
      horizontal: !!this.props.horizontal,
      parent: (_this$context2 = this.context) == null ? void 0 : _this$context2.debugInfo
    };
  };

  _proto.hasMore = function hasMore() {
    return this._hasMore;
  };

  function VirtualizedList(_props) {
    var _this;

    _this = _React$PureComponent.call(this, _props) || this;

    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };

    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _assertThisInitialized(_this);
      }
    };

    _this._getNestedChildState = function (key) {
      var existingChildData = _this._nestedChildLists.get(key);

      return existingChildData && existingChildData.state;
    };

    _this._registerAsNestedChild = function (childList) {
      var childListsInCell = _this._cellKeysToChildListKeys.get(childList.cellKey) || new Set();
      childListsInCell.add(childList.key);

      _this._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);

      var existingChildData = _this._nestedChildLists.get(childList.key);

      if (existingChildData && existingChildData.ref !== null) {
        console.error('A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.\n\n' + describeNestedLists(_objectSpread(_objectSpread({}, childList), {}, {
          horizontal: !!childList.ref.props.horizontal
        })));
      }

      _this._nestedChildLists.set(childList.key, {
        ref: childList.ref,
        state: null
      });

      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };

    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.set(childList.key, {
        ref: null,
        state: childList.state
      });
    };

    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };

    _this._averageCellLength = 0;
    _this._cellKeysToChildListKeys = new Map();
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasDoneInitialScroll = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._nestedChildLists = new Map();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0
    };
    _this._scrollRef = null;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];

    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };

    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;

      if (_this._isNestedWithSameOrientation()) {
        return React.createElement(_View.default, props);
      } else if (onRefresh) {
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');
        return React.createElement(_ScrollView.default, _extends({}, props, {
          refreshControl: props.refreshControl == null ? React.createElement(_RefreshControl.default, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return React.createElement(_ScrollView.default, props);
      }
    };

    _this._onCellUnmount = function (cellKey) {
      var curr = _this._frames[cellKey];

      if (curr) {
        _this._frames[cellKey] = _objectSpread(_objectSpread({}, curr), {}, {
          inLayout: false
        });
      }
    };

    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }

      _this.props.onLayout && _this.props.onLayout(e);

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };

    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());

      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasDoneInitialScroll) {
        _this._hasDoneInitialScroll = true;
      }

      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }

      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };

    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScroll(e);
      });

      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }

      var timestamp = e.timeStamp;

      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);

      var contentLength = _this._selectLength(e.nativeEvent.contentSize);

      var offset = _this._selectOffset(e.nativeEvent.contentOffset);

      var dOffset = offset - _this._scrollMetrics.offset;

      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }

        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });

        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }

      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;

      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }

      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength
      };

      _this._updateViewableItems(_this.props.data);

      if (!_this.props) {
        return;
      }

      _this._maybeCallOnEndReached();

      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }

      _this._computeBlankness();

      _this._scheduleCellsToRenderUpdate();
    };

    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollBeginDrag(e);
      });

      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });

      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };

    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollEndDrag(e);
      });

      var velocity = e.nativeEvent.velocity;

      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }

      _this._computeBlankness();

      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };

    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onMomentumScrollBegin(e);
      });

      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };

    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onMomentumScrollEnd(e);
      });

      _this._scrollMetrics.velocity = 0;

      _this._computeBlankness();

      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };

    _this._updateCellsToRender = function () {
      var _this$props3 = _this.props,
          data = _this$props3.data,
          getItemCount = _this$props3.getItemCount,
          onEndReachedThreshold = _this$props3.onEndReachedThreshold;

      var isVirtualizationDisabled = _this._isVirtualizationDisabled();

      _this._updateViewableItems(data);

      if (!data) {
        return;
      }

      _this.setState(function (state) {
        var newState;
        var _this$_scrollMetrics = _this._scrollMetrics,
            contentLength = _this$_scrollMetrics.contentLength,
            offset = _this$_scrollMetrics.offset,
            visibleLength = _this$_scrollMetrics.visibleLength;

        if (!isVirtualizationDisabled) {
          if (visibleLength > 0 && contentLength > 0) {
            if (!_this.props.initialScrollIndex || _this._scrollMetrics.offset) {
              newState = (0, _VirtualizeUtils.computeWindowedRenderLimits)(_this.props, state, _this._getFrameMetricsApprox, _this._scrollMetrics);
            }
          }
        } else {
          var distanceFromEnd = contentLength - visibleLength - offset;
          var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? _this.props.maxToRenderPerBatch : 0;
          newState = {
            first: 0,
            last: Math.min(state.last + renderAhead, getItemCount(data) - 1)
          };
        }

        if (newState && _this._nestedChildLists.size > 0) {
          var newFirst = newState.first;
          var newLast = newState.last;

          for (var ii = newFirst; ii <= newLast; ii++) {
            var cellKeyForIndex = _this._indicesToKeys.get(ii);

            var childListKeys = cellKeyForIndex && _this._cellKeysToChildListKeys.get(cellKeyForIndex);

            if (!childListKeys) {
              continue;
            }

            var someChildHasMore = false;

            for (var _iterator = _createForOfIteratorHelperLoose(childListKeys), _step; !(_step = _iterator()).done;) {
              var childKey = _step.value;

              var childList = _this._nestedChildLists.get(childKey);

              if (childList && childList.ref && childList.ref.hasMore()) {
                someChildHasMore = true;
                break;
              }
            }

            if (someChildHasMore && newState) {
              newState.last = ii;
              break;
            }
          }
        }

        if (newState != null && newState.first === state.first && newState.last === state.last) {
          newState = null;
        }

        return newState;
      });
    };

    _this._createViewToken = function (index, isViewable) {
      var _this$props4 = _this.props,
          data = _this$props4.data,
          getItem = _this$props4.getItem,
          keyExtractor = _this$props4.keyExtractor;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: keyExtractor(item, index),
        isViewable: isViewable
      };
    };

    _this._getFrameMetricsApprox = function (index) {
      var frame = _this._getFrameMetrics(index);

      if (frame && frame.index === index) {
        return frame;
      } else {
        var getItemLayout = _this.props.getItemLayout;
        (0, _invariant.default)(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };

    _this._getFrameMetrics = function (index) {
      var _this$props5 = _this.props,
          data = _this$props5.data,
          getItem = _this$props5.getItem,
          getItemCount = _this$props5.getItemCount,
          getItemLayout = _this$props5.getItemLayout,
          keyExtractor = _this$props5.keyExtractor;
      (0, _invariant.default)(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);

      var frame = item && _this._frames[keyExtractor(item, index)];

      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          frame = getItemLayout(data, index);
        }
      }

      return frame;
    };

    (0, _invariant.default)(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    (0, _invariant.default)(_props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    _this._fillRateHelper = new _FillRateHelper.default(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);

    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else if (_this.props.onViewableItemsChanged) {
      var onViewableItemsChanged = _this.props.onViewableItemsChanged;

      _this._viewabilityTuples.push({
        viewabilityHelper: new _ViewabilityHelper.default(_this.props.viewabilityConfig),
        onViewableItemsChanged: onViewableItemsChanged
      });
    }

    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1
    };

    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.getNestedChildState(_this._getListKey());

      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }

    _this.state = initialState;
    return _this;
  }

  _proto.componentDidMount = function componentDidMount() {
    if (this._isNestedWithSameOrientation()) {
      this.context.registerAsNestedChild({
        cellKey: this._getCellKey(),
        key: this._getListKey(),
        ref: this,
        parentDebugInfo: this.context.debugInfo
      });
    }
  };

  _proto.componentWillUnmount = function componentWillUnmount() {
    if (this._isNestedWithSameOrientation()) {
      this.context.unregisterAsNestedChild({
        key: this._getListKey(),
        state: {
          first: this.state.first,
          last: this.state.last,
          frames: this._frames
        }
      });
    }

    this._updateViewableItems(null);

    this._updateCellsToRenderBatcher.dispose({
      abort: true
    });

    this._viewabilityTuples.forEach(function (tuple) {
      tuple.viewabilityHelper.dispose();
    });

    this._fillRateHelper.deactivateAndFlush();
  };

  VirtualizedList.getDerivedStateFromProps = function getDerivedStateFromProps(newProps, prevState) {
    var data = newProps.data,
        getItemCount = newProps.getItemCount,
        maxToRenderPerBatch = newProps.maxToRenderPerBatch;
    return {
      first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),
      last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))
    };
  };

  _proto._pushCells = function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
    var _this2 = this;

    var _this$props6 = this.props,
        CellRendererComponent = _this$props6.CellRendererComponent,
        ItemSeparatorComponent = _this$props6.ItemSeparatorComponent,
        data = _this$props6.data,
        getItem = _this$props6.getItem,
        getItemCount = _this$props6.getItemCount,
        horizontal = _this$props6.horizontal,
        keyExtractor = _this$props6.keyExtractor;
    var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;
    var end = getItemCount(data) - 1;
    var prevCellKey;
    last = Math.min(end, last);

    var _loop = function _loop(ii) {
      var item = getItem(data, ii);
      var key = keyExtractor(item, ii);

      _this2._indicesToKeys.set(ii, key);

      if (stickyIndicesFromProps.has(ii + stickyOffset)) {
        stickyHeaderIndices.push(cells.length);
      }

      cells.push(React.createElement(CellRenderer, {
        CellRendererComponent: CellRendererComponent,
        ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
        cellKey: key,
        fillRateHelper: _this2._fillRateHelper,
        horizontal: horizontal,
        index: ii,
        inversionStyle: inversionStyle,
        item: item,
        key: key,
        prevCellKey: prevCellKey,
        onUpdateSeparators: _this2._onUpdateSeparators,
        onLayout: function onLayout(e) {
          return _this2._onCellLayout(e, key, ii);
        },
        onUnmount: _this2._onCellUnmount,
        parentProps: _this2.props,
        ref: function ref(_ref) {
          _this2._cellRefs[key] = _ref;
        }
      }));
      prevCellKey = key;
    };

    for (var ii = first; ii <= last; ii++) {
      _loop(ii);
    }
  };

  _proto._isVirtualizationDisabled = function _isVirtualizationDisabled() {
    return this.props.disableVirtualization || false;
  };

  _proto._isNestedWithSameOrientation = function _isNestedWithSameOrientation() {
    var nestedContext = this.context;
    return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);
  };

  _proto.render = function render() {
    var _this3 = this;

    if (__DEV__) {
      var flatStyles = flattenStyle(this.props.contentContainerStyle);

      if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
        console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
      }
    }

    var _this$props7 = this.props,
        ListEmptyComponent = _this$props7.ListEmptyComponent,
        ListFooterComponent = _this$props7.ListFooterComponent,
        ListHeaderComponent = _this$props7.ListHeaderComponent;
    var _this$props8 = this.props,
        data = _this$props8.data,
        horizontal = _this$props8.horizontal;

    var isVirtualizationDisabled = this._isVirtualizationDisabled();

    var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;
    var cells = [];
    var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
    var stickyHeaderIndices = [];

    if (ListHeaderComponent) {
      if (stickyIndicesFromProps.has(0)) {
        stickyHeaderIndices.push(0);
      }

      var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : React.createElement(ListHeaderComponent, null);
      cells.push(React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
        cellKey: this._getCellKey() + '-header',
        key: "$header"
      }, React.createElement(_View.default, {
        onLayout: this._onLayoutHeader,
        style: _StyleSheet.default.compose(inversionStyle, this.props.ListHeaderComponentStyle)
      }, element)));
    }

    var itemCount = this.props.getItemCount(data);

    if (itemCount > 0) {
      _usedIndexForKey = false;
      _keylessItemComponentName = '';
      var spacerKey = !horizontal ? 'height' : 'width';
      var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;
      var _this$state = this.state,
          first = _this$state.first,
          last = _this$state.last;

      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);

      var firstAfterInitial = Math.max(lastInitialIndex + 1, first);

      if (!isVirtualizationDisabled && first > lastInitialIndex + 1) {
        var insertedStickySpacer = false;

        if (stickyIndicesFromProps.size > 0) {
          var stickyOffset = ListHeaderComponent ? 1 : 0;

          for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
            if (stickyIndicesFromProps.has(ii + stickyOffset)) {
              var _ref2, _ref3;

              var initBlock = this._getFrameMetricsApprox(lastInitialIndex);

              var stickyBlock = this._getFrameMetricsApprox(ii);

              var leadSpace = stickyBlock.offset - initBlock.offset - (this.props.initialScrollIndex ? 0 : initBlock.length);
              cells.push(React.createElement(_View.default, {
                key: "$sticky_lead",
                style: (_ref2 = {}, _ref2[spacerKey] = leadSpace, _ref2)
              }));

              this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);

              var trailSpace = this._getFrameMetricsApprox(first).offset - (stickyBlock.offset + stickyBlock.length);
              cells.push(React.createElement(_View.default, {
                key: "$sticky_trail",
                style: (_ref3 = {}, _ref3[spacerKey] = trailSpace, _ref3)
              }));
              insertedStickySpacer = true;
              break;
            }
          }
        }

        if (!insertedStickySpacer) {
          var _ref4;

          var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);

          var firstSpace = this._getFrameMetricsApprox(first).offset - (_initBlock.offset + _initBlock.length);

          cells.push(React.createElement(_View.default, {
            key: "$lead_spacer",
            style: (_ref4 = {}, _ref4[spacerKey] = firstSpace, _ref4)
          }));
        }
      }

      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, last, inversionStyle);

      if (!this._hasWarned.keys && _usedIndexForKey) {
        console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
        this._hasWarned.keys = true;
      }

      if (!isVirtualizationDisabled && last < itemCount - 1) {
        var _ref5;

        var lastFrame = this._getFrameMetricsApprox(last);

        var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);

        var endFrame = this._getFrameMetricsApprox(end);

        var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);
        cells.push(React.createElement(_View.default, {
          key: "$tail_spacer",
          style: (_ref5 = {}, _ref5[spacerKey] = tailSpacerLength, _ref5)
        }));
      }
    } else if (ListEmptyComponent) {
      var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : React.createElement(ListEmptyComponent, null);

      cells.push(React.cloneElement(_element, {
        key: '$empty',
        onLayout: function onLayout(event) {
          _this3._onLayoutEmpty(event);

          if (_element.props.onLayout) {
            _element.props.onLayout(event);
          }
        },
        style: _StyleSheet.default.compose(inversionStyle, _element.props.style)
      }));
    }

    if (ListFooterComponent) {
      var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : React.createElement(ListFooterComponent, null);

      cells.push(React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
        cellKey: this._getFooterCellKey(),
        key: "$footer"
      }, React.createElement(_View.default, {
        onLayout: this._onLayoutFooter,
        style: _StyleSheet.default.compose(inversionStyle, this.props.ListFooterComponentStyle)
      }, _element2)));
    }

    var scrollProps = _objectSpread(_objectSpread({}, this.props), {}, {
      onContentSizeChange: this._onContentSizeChange,
      onLayout: this._onLayout,
      onScroll: this._onScroll,
      onScrollBeginDrag: this._onScrollBeginDrag,
      onScrollEndDrag: this._onScrollEndDrag,
      onMomentumScrollBegin: this._onMomentumScrollBegin,
      onMomentumScrollEnd: this._onMomentumScrollEnd,
      scrollEventThrottle: this.props.scrollEventThrottle,
      stickyHeaderIndices: stickyHeaderIndices,
      style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style
    });

    this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;
    var innerRet = React.createElement(_VirtualizedListContext.VirtualizedListContextProvider, {
      value: {
        cellKey: null,
        getScrollMetrics: this._getScrollMetrics,
        horizontal: this.props.horizontal,
        getOutermostParentListRef: this._getOutermostParentListRef,
        getNestedChildState: this._getNestedChildState,
        registerAsNestedChild: this._registerAsNestedChild,
        unregisterAsNestedChild: this._unregisterAsNestedChild,
        debugInfo: this._getDebugInfo()
      }
    }, React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
      ref: this._captureScrollRef
    }, cells));
    var ret = innerRet;

    if (this.props.debug) {
      return React.createElement(_View.default, {
        style: styles.debug
      }, ret, this._renderDebugOverlay());
    } else {
      return ret;
    }
  };

  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var _this$props9 = this.props,
        data = _this$props9.data,
        extraData = _this$props9.extraData;

    if (data !== prevProps.data || extraData !== prevProps.extraData) {
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.resetViewableIndices();
      });
    }

    var hiPriInProgress = this._hiPriInProgress;

    this._scheduleCellsToRenderUpdate();

    if (hiPriInProgress) {
      this._hiPriInProgress = false;
    }
  };

  _proto._computeBlankness = function _computeBlankness() {
    this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);
  };

  _proto._onCellLayout = function _onCellLayout(e, cellKey, index) {
    var layout = e.nativeEvent.layout;
    var next = {
      offset: this._selectOffset(layout),
      length: this._selectLength(layout),
      index: index,
      inLayout: true
    };
    var curr = this._frames[cellKey];

    if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
      this._totalCellLength += next.length - (curr ? curr.length : 0);
      this._totalCellsMeasured += curr ? 0 : 1;
      this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;
      this._frames[cellKey] = next;
      this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);

      this._scheduleCellsToRenderUpdate();
    } else {
      this._frames[cellKey].inLayout = true;
    }

    this._triggerRemeasureForChildListsInCell(cellKey);

    this._computeBlankness();

    this._updateViewableItems(this.props.data);
  };

  _proto._triggerRemeasureForChildListsInCell = function _triggerRemeasureForChildListsInCell(cellKey) {
    var childListKeys = this._cellKeysToChildListKeys.get(cellKey);

    if (childListKeys) {
      for (var _iterator2 = _createForOfIteratorHelperLoose(childListKeys), _step2; !(_step2 = _iterator2()).done;) {
        var childKey = _step2.value;

        var childList = this._nestedChildLists.get(childKey);

        childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
      }
    }
  };

  _proto.measureLayoutRelativeToContainingList = function measureLayoutRelativeToContainingList() {
    var _this4 = this;

    try {
      if (!this._scrollRef) {
        return;
      }

      this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
        _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
          x: x,
          y: y
        });
        _this4._scrollMetrics.contentLength = _this4._selectLength({
          width: width,
          height: height
        });

        var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());

        _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
        _this4._scrollMetrics.offset = scrollMetrics.offset;
      }, function (error) {
        console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
      });
    } catch (error) {
      console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
    }
  };

  _proto._getFooterCellKey = function _getFooterCellKey() {
    return this._getCellKey() + '-footer';
  };

  _proto._renderDebugOverlay = function _renderDebugOverlay() {
    var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
    var framesInLayout = [];
    var itemCount = this.props.getItemCount(this.props.data);

    for (var ii = 0; ii < itemCount; ii++) {
      var frame = this._getFrameMetricsApprox(ii);

      if (frame.inLayout) {
        framesInLayout.push(frame);
      }
    }

    var windowTop = this._getFrameMetricsApprox(this.state.first).offset;

    var frameLast = this._getFrameMetricsApprox(this.state.last);

    var windowLen = frameLast.offset + frameLast.length - windowTop;
    var visTop = this._scrollMetrics.offset;
    var visLen = this._scrollMetrics.visibleLength;
    return React.createElement(_View.default, {
      style: [styles.debugOverlayBase, styles.debugOverlay]
    }, framesInLayout.map(function (f, ii) {
      return React.createElement(_View.default, {
        key: 'f' + ii,
        style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
          top: f.offset * normalize,
          height: f.length * normalize
        }]
      });
    }), React.createElement(_View.default, {
      style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
        top: windowTop * normalize,
        height: windowLen * normalize
      }]
    }), React.createElement(_View.default, {
      style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
        top: visTop * normalize,
        height: visLen * normalize
      }]
    }));
  };

  _proto._selectLength = function _selectLength(metrics) {
    return !this.props.horizontal ? metrics.height : metrics.width;
  };

  _proto._selectOffset = function _selectOffset(metrics) {
    return !this.props.horizontal ? metrics.y : metrics.x;
  };

  _proto._maybeCallOnEndReached = function _maybeCallOnEndReached() {
    var _this$props10 = this.props,
        data = _this$props10.data,
        getItemCount = _this$props10.getItemCount,
        onEndReached = _this$props10.onEndReached,
        onEndReachedThreshold = _this$props10.onEndReachedThreshold;
    var _this$_scrollMetrics2 = this._scrollMetrics,
        contentLength = _this$_scrollMetrics2.contentLength,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
    var distanceFromEnd = contentLength - visibleLength - offset;
    var threshold = onEndReachedThreshold ? onEndReachedThreshold * visibleLength : 2;

    if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < threshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
      this._sentEndForContentLength = this._scrollMetrics.contentLength;
      onEndReached({
        distanceFromEnd: distanceFromEnd
      });
    } else if (distanceFromEnd > threshold) {
      this._sentEndForContentLength = 0;
    }
  };

  _proto._scheduleCellsToRenderUpdate = function _scheduleCellsToRenderUpdate() {
    var _this$state2 = this.state,
        first = _this$state2.first,
        last = _this$state2.last;
    var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
    var itemCount = this.props.getItemCount(this.props.data);
    var hiPri = false;
    var scrollingThreshold = this.props.onEndReachedThreshold * visibleLength / 2;

    if (first > 0) {
      var distTop = offset - this._getFrameMetricsApprox(first).offset;

      hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
    }

    if (last < itemCount - 1) {
      var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);
      hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
    }

    if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
      this._hiPriInProgress = true;

      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });

      this._updateCellsToRender();

      return;
    } else {
      this._updateCellsToRenderBatcher.schedule();
    }
  };

  _proto._updateViewableItems = function _updateViewableItems(data) {
    var _this5 = this;

    var getItemCount = this.props.getItemCount;

    this._viewabilityTuples.forEach(function (tuple) {
      tuple.viewabilityHelper.onUpdate(getItemCount(data), _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, _this5.state);
    });
  };

  return VirtualizedList;
}(React.PureComponent);

VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
VirtualizedList.defaultProps = {
  disableVirtualization: false,
  horizontal: false,
  initialNumToRender: 10,
  keyExtractor: function keyExtractor(item, index) {
    if (item.key != null) {
      return item.key;
    }

    if (item.id != null) {
      return item.id;
    }

    _usedIndexForKey = true;

    if (item.type && item.type.displayName) {
      _keylessItemComponentName = item.type.displayName;
    }

    return String(index);
  },
  maxToRenderPerBatch: 10,
  onEndReachedThreshold: 2,
  scrollEventThrottle: 50,
  updateCellsBatchingPeriod: 50,
  windowSize: 21
};

var CellRenderer = function (_React$Component) {
  _inheritsLoose(CellRenderer, _React$Component);

  function CellRenderer() {
    var _this6;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this6 = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;
    _this6.state = {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item
      }
    };
    _this6._separators = {
      highlight: function highlight() {
        var _this6$props = _this6.props,
            cellKey = _this6$props.cellKey,
            prevCellKey = _this6$props.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true
        });
      },
      unhighlight: function unhighlight() {
        var _this6$props2 = _this6.props,
            cellKey = _this6$props2.cellKey,
            prevCellKey = _this6$props2.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false
        });
      },
      updateProps: function updateProps(select, newProps) {
        var _this6$props3 = _this6.props,
            cellKey = _this6$props3.cellKey,
            prevCellKey = _this6$props3.prevCellKey;

        _this6.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);
      }
    };
    return _this6;
  }

  CellRenderer.getDerivedStateFromProps = function getDerivedStateFromProps(props, prevState) {
    return {
      separatorProps: _objectSpread(_objectSpread({}, prevState.separatorProps), {}, {
        leadingItem: props.item
      })
    };
  };

  var _proto2 = CellRenderer.prototype;

  _proto2.updateSeparatorProps = function updateSeparatorProps(newProps) {
    this.setState(function (state) {
      return {
        separatorProps: _objectSpread(_objectSpread({}, state.separatorProps), newProps)
      };
    });
  };

  _proto2.componentWillUnmount = function componentWillUnmount() {
    this.props.onUnmount(this.props.cellKey);
  };

  _proto2._renderElement = function _renderElement(renderItem, ListItemComponent, item, index) {
    if (renderItem && ListItemComponent) {
      console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');
    }

    if (ListItemComponent) {
      return React.createElement(ListItemComponent, {
        item: item,
        index: index,
        separators: this._separators
      });
    }

    if (renderItem) {
      return renderItem({
        item: item,
        index: index,
        separators: this._separators
      });
    }

    (0, _invariant.default)(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');
  };

  _proto2.render = function render() {
    var _this$props11 = this.props,
        CellRendererComponent = _this$props11.CellRendererComponent,
        ItemSeparatorComponent = _this$props11.ItemSeparatorComponent,
        fillRateHelper = _this$props11.fillRateHelper,
        horizontal = _this$props11.horizontal,
        item = _this$props11.item,
        index = _this$props11.index,
        inversionStyle = _this$props11.inversionStyle,
        parentProps = _this$props11.parentProps;
    var renderItem = parentProps.renderItem,
        getItemLayout = parentProps.getItemLayout,
        ListItemComponent = parentProps.ListItemComponent;

    var element = this._renderElement(renderItem, ListItemComponent, item, index);

    var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;
    var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);
    var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;
    var result = !CellRendererComponent ? React.createElement(_View.default, {
      style: cellStyle,
      onLayout: onLayout
    }, element, itemSeparator) : React.createElement(CellRendererComponent, _extends({}, this.props, {
      style: cellStyle,
      onLayout: onLayout
    }), element, itemSeparator);
    return React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
      cellKey: this.props.cellKey
    }, result);
  };

  return CellRenderer;
}(React.Component);

function describeNestedLists(childList) {
  var trace = 'VirtualizedList trace:\n' + ("  Child (" + (childList.horizontal ? 'horizontal' : 'vertical') + "):\n") + ("    listKey: " + childList.key + "\n") + ("    cellKey: " + childList.cellKey);
  var debugInfo = childList.parentDebugInfo;

  while (debugInfo) {
    trace += "\n  Parent (" + (debugInfo.horizontal ? 'horizontal' : 'vertical') + "):\n" + ("    listKey: " + debugInfo.listKey + "\n") + ("    cellKey: " + debugInfo.cellKey);
    debugInfo = debugInfo.parent;
  }

  return trace;
}

var styles = _StyleSheet.default.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  row: {
    flexDirection: 'row'
  },
  rowReverse: {
    flexDirection: 'row-reverse'
  },
  columnReverse: {
    flexDirection: 'column-reverse'
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});

var _default = VirtualizedList;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9CYXRjaGluYXRvciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0ZpbGxSYXRlSGVscGVyIiwiX3Byb3BUeXBlcyIsIlJlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfUmVmcmVzaENvbnRyb2wiLCJfU2Nyb2xsVmlldyIsIl9TdHlsZVNoZWV0IiwiX1VJTWFuYWdlciIsIl9WaWV3IiwiX1ZpZXdhYmlsaXR5SGVscGVyIiwiX2ZpbmROb2RlSGFuZGxlIiwiX2luZm9Mb2ciLCJfaW52YXJpYW50IiwiX3dhcm5pbmciLCJfVmlydHVhbGl6ZVV0aWxzIiwiX1ZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJXZWFrTWFwIiwiY2FjaGUiLCJvYmoiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlIiwibyIsImFsbG93QXJyYXlMaWtlIiwiaXQiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkFycmF5IiwiaXNBcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsImxlbmd0aCIsImkiLCJkb25lIiwidmFsdWUiLCJUeXBlRXJyb3IiLCJuZXh0IiwiYmluZCIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsInRvU3RyaW5nIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsImFyciIsImxlbiIsImFycjIiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsImFyZ3VtZW50cyIsInNvdXJjZSIsImFwcGx5Iiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJlbnVtZXJhYmxlIiwicHVzaCIsIl9vYmplY3RTcHJlYWQiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHNMb29zZSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImZsYXR0ZW5TdHlsZSIsImZsYXR0ZW4iLCJfX0RFVl9fIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiX3VzZWRJbmRleEZvcktleSIsIl9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUiLCJWaXJ0dWFsaXplZExpc3QiLCJfUmVhY3QkUHVyZUNvbXBvbmVudCIsIl9wcm90byIsInNjcm9sbFRvRW5kIiwicGFyYW1zIiwiYW5pbWF0ZWQiLCJ2ZXJ5TGFzdCIsInByb3BzIiwiZ2V0SXRlbUNvdW50IiwiZGF0YSIsImZyYW1lIiwiX2dldEZyYW1lTWV0cmljc0FwcHJveCIsIm9mZnNldCIsIk1hdGgiLCJtYXgiLCJfZm9vdGVyTGVuZ3RoIiwiX3Njcm9sbE1ldHJpY3MiLCJ2aXNpYmxlTGVuZ3RoIiwiX3Njcm9sbFJlZiIsInNjcm9sbFRvIiwiY29uc29sZSIsIndhcm4iLCJob3Jpem9udGFsIiwieCIsInkiLCJzY3JvbGxUb0luZGV4IiwiX3RoaXMkcHJvcHMiLCJnZXRJdGVtTGF5b3V0Iiwib25TY3JvbGxUb0luZGV4RmFpbGVkIiwiaW5kZXgiLCJ2aWV3T2Zmc2V0Iiwidmlld1Bvc2l0aW9uIiwiX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgiLCJhdmVyYWdlSXRlbUxlbmd0aCIsIl9hdmVyYWdlQ2VsbExlbmd0aCIsImhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgiLCJzY3JvbGxUb0l0ZW0iLCJpdGVtIiwiX3RoaXMkcHJvcHMyIiwiZ2V0SXRlbSIsIml0ZW1Db3VudCIsIl9pbmRleCIsInNjcm9sbFRvT2Zmc2V0IiwicmVjb3JkSW50ZXJhY3Rpb24iLCJfbmVzdGVkQ2hpbGRMaXN0cyIsImNoaWxkTGlzdCIsInJlZiIsIl92aWV3YWJpbGl0eVR1cGxlcyIsInQiLCJ2aWV3YWJpbGl0eUhlbHBlciIsIl91cGRhdGVWaWV3YWJsZUl0ZW1zIiwiZmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwiZ2V0U2Nyb2xsUmVzcG9uZGVyIiwiZ2V0U2Nyb2xsYWJsZU5vZGUiLCJnZXRTY3JvbGxSZWYiLCJzZXROYXRpdmVQcm9wcyIsIl9nZXRDZWxsS2V5IiwiX3RoaXMkY29udGV4dCIsImNvbnRleHQiLCJjZWxsS2V5IiwiX2dldExpc3RLZXkiLCJsaXN0S2V5IiwiX2dldERlYnVnSW5mbyIsIl90aGlzJGNvbnRleHQyIiwicGFyZW50IiwiZGVidWdJbmZvIiwiaGFzTW9yZSIsIl9oYXNNb3JlIiwiX3Byb3BzIiwiX3RoaXMiLCJfZ2V0U2Nyb2xsTWV0cmljcyIsIl9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbiIsImdldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfZ2V0TmVzdGVkQ2hpbGRTdGF0ZSIsImV4aXN0aW5nQ2hpbGREYXRhIiwic3RhdGUiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY2hpbGRMaXN0c0luQ2VsbCIsIl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cyIsIlNldCIsImFkZCIsImVycm9yIiwiZGVzY3JpYmVOZXN0ZWRMaXN0cyIsIl9oYXNJbnRlcmFjdGVkIiwiX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiX29uVXBkYXRlU2VwYXJhdG9ycyIsIm5ld1Byb3BzIiwiX2NlbGxSZWZzIiwidXBkYXRlU2VwYXJhdG9yUHJvcHMiLCJNYXAiLCJfZnJhbWVzIiwiX2hhc0RvbmVJbml0aWFsU2Nyb2xsIiwiX2hhc1dhcm5lZCIsIl9oZWFkZXJMZW5ndGgiLCJfaGlQcmlJblByb2dyZXNzIiwiX2luZGljZXNUb0tleXMiLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiY29udGVudExlbmd0aCIsImRPZmZzZXQiLCJkdCIsInRpbWVzdGFtcCIsInZlbG9jaXR5IiwiX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoIiwiX3RvdGFsQ2VsbExlbmd0aCIsIl90b3RhbENlbGxzTWVhc3VyZWQiLCJfY2FwdHVyZVNjcm9sbFJlZiIsIl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50Iiwib25SZWZyZXNoIiwiY3JlYXRlRWxlbWVudCIsInJlZnJlc2hpbmciLCJKU09OIiwic3RyaW5naWZ5IiwicmVmcmVzaENvbnRyb2wiLCJwcm9ncmVzc1ZpZXdPZmZzZXQiLCJfb25DZWxsVW5tb3VudCIsImN1cnIiLCJpbkxheW91dCIsIl9vbkxheW91dCIsImUiLCJtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IiwiX3NlbGVjdExlbmd0aCIsIm5hdGl2ZUV2ZW50IiwibGF5b3V0Iiwib25MYXlvdXQiLCJfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlIiwiX21heWJlQ2FsbE9uRW5kUmVhY2hlZCIsIl9vbkxheW91dEVtcHR5IiwiX29uTGF5b3V0Rm9vdGVyIiwiX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsIiwiX2dldEZvb3RlckNlbGxLZXkiLCJfb25MYXlvdXRIZWFkZXIiLCJfb25Db250ZW50U2l6ZUNoYW5nZSIsIndpZHRoIiwiaGVpZ2h0IiwiaW5pdGlhbFNjcm9sbEluZGV4Iiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyIsIm1ldHJpY3MiLCJfb25TY3JvbGwiLCJvblNjcm9sbCIsInRpbWVTdGFtcCIsImxheW91dE1lYXN1cmVtZW50IiwiY29udGVudFNpemUiLCJfc2VsZWN0T2Zmc2V0IiwiY29udGVudE9mZnNldCIsIl90aGlzJF9jb252ZXJ0UGFyZW50UyIsInBlcmYiLCJwcmV2RHQiLCJfZmlsbFJhdGVIZWxwZXIiLCJhY3RpdmF0ZSIsIl9jb21wdXRlQmxhbmtuZXNzIiwiX29uU2Nyb2xsQmVnaW5EcmFnIiwidHVwbGUiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXIiLCJfdGhpcyRwcm9wczMiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQiLCJfaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkIiwic2V0U3RhdGUiLCJuZXdTdGF0ZSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzIiwiY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzIiwiZGlzdGFuY2VGcm9tRW5kIiwicmVuZGVyQWhlYWQiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwiZmlyc3QiLCJsYXN0IiwibWluIiwic2l6ZSIsIm5ld0ZpcnN0IiwibmV3TGFzdCIsImlpIiwiY2VsbEtleUZvckluZGV4IiwiY2hpbGRMaXN0S2V5cyIsInNvbWVDaGlsZEhhc01vcmUiLCJfaXRlcmF0b3IiLCJfc3RlcCIsImNoaWxkS2V5IiwiX2NyZWF0ZVZpZXdUb2tlbiIsImlzVmlld2FibGUiLCJfdGhpcyRwcm9wczQiLCJrZXlFeHRyYWN0b3IiLCJfZ2V0RnJhbWVNZXRyaWNzIiwiX3RoaXMkcHJvcHM1IiwiX19pc05hdGl2ZSIsIndpbmRvd1NpemUiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIiLCJ1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kIiwidmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzIiwibWFwIiwicGFpciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsImluaXRpYWxTdGF0ZSIsImluaXRpYWxOdW1Ub1JlbmRlciIsInN0b3JlZFN0YXRlIiwiZ2V0TmVzdGVkQ2hpbGRTdGF0ZSIsImZyYW1lcyIsImNvbXBvbmVudERpZE1vdW50IiwicmVnaXN0ZXJBc05lc3RlZENoaWxkIiwicGFyZW50RGVidWdJbmZvIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImRpc3Bvc2UiLCJhYm9ydCIsImRlYWN0aXZhdGVBbmRGbHVzaCIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInByZXZTdGF0ZSIsIl9wdXNoQ2VsbHMiLCJjZWxscyIsInN0aWNreUhlYWRlckluZGljZXMiLCJzdGlja3lJbmRpY2VzRnJvbVByb3BzIiwiaW52ZXJzaW9uU3R5bGUiLCJfdGhpczIiLCJfdGhpcyRwcm9wczYiLCJDZWxsUmVuZGVyZXJDb21wb25lbnQiLCJJdGVtU2VwYXJhdG9yQ29tcG9uZW50Iiwic3RpY2t5T2Zmc2V0IiwiTGlzdEhlYWRlckNvbXBvbmVudCIsImVuZCIsInByZXZDZWxsS2V5IiwiX2xvb3AiLCJDZWxsUmVuZGVyZXIiLCJ1bmRlZmluZWQiLCJmaWxsUmF0ZUhlbHBlciIsIm9uVXBkYXRlU2VwYXJhdG9ycyIsIl9vbkNlbGxMYXlvdXQiLCJvblVubW91bnQiLCJwYXJlbnRQcm9wcyIsIl9yZWYiLCJkaXNhYmxlVmlydHVhbGl6YXRpb24iLCJuZXN0ZWRDb250ZXh0IiwicmVuZGVyIiwiX3RoaXMzIiwiZmxhdFN0eWxlcyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsImZsZXhXcmFwIiwiX3RoaXMkcHJvcHM3IiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsIl90aGlzJHByb3BzOCIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJlbGVtZW50IiwiaXNWYWxpZEVsZW1lbnQiLCJWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyIiwic3R5bGUiLCJjb21wb3NlIiwiTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlIiwic3BhY2VyS2V5IiwibGFzdEluaXRpYWxJbmRleCIsIl90aGlzJHN0YXRlIiwiZmlyc3RBZnRlckluaXRpYWwiLCJpbnNlcnRlZFN0aWNreVNwYWNlciIsIl9yZWYyIiwiX3JlZjMiLCJpbml0QmxvY2siLCJzdGlja3lCbG9jayIsImxlYWRTcGFjZSIsInRyYWlsU3BhY2UiLCJfcmVmNCIsIl9pbml0QmxvY2siLCJmaXJzdFNwYWNlIiwiX3JlZjUiLCJsYXN0RnJhbWUiLCJlbmRGcmFtZSIsInRhaWxTcGFjZXJMZW5ndGgiLCJfZWxlbWVudCIsImNsb25lRWxlbWVudCIsImV2ZW50IiwiX2VsZW1lbnQyIiwiTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlIiwic2Nyb2xsUHJvcHMiLCJzY3JvbGxFdmVudFRocm90dGxlIiwiaW5uZXJSZXQiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXIiLCJnZXRTY3JvbGxNZXRyaWNzIiwicmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwicmV0IiwiZGVidWciLCJfcmVuZGVyRGVidWdPdmVybGF5IiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiX3RoaXMkcHJvcHM5IiwiZXh0cmFEYXRhIiwicmVzZXRWaWV3YWJsZUluZGljZXMiLCJoaVByaUluUHJvZ3Jlc3MiLCJjb21wdXRlQmxhbmtuZXNzIiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsIl90aGlzNCIsIm1lYXN1cmVMYXlvdXQiLCJzY3JvbGxNZXRyaWNzIiwic3RhY2siLCJub3JtYWxpemUiLCJmcmFtZXNJbkxheW91dCIsIndpbmRvd1RvcCIsImZyYW1lTGFzdCIsIndpbmRvd0xlbiIsInZpc1RvcCIsInZpc0xlbiIsImRlYnVnT3ZlcmxheUJhc2UiLCJkZWJ1Z092ZXJsYXkiLCJmIiwiZGVidWdPdmVybGF5RnJhbWUiLCJ0b3AiLCJkZWJ1Z092ZXJsYXlGcmFtZUxhc3QiLCJkZWJ1Z092ZXJsYXlGcmFtZVZpcyIsIl90aGlzJHByb3BzMTAiLCJvbkVuZFJlYWNoZWQiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczIiLCJ0aHJlc2hvbGQiLCJfdGhpcyRzdGF0ZTIiLCJfdGhpcyRfc2Nyb2xsTWV0cmljczMiLCJoaVByaSIsInNjcm9sbGluZ1RocmVzaG9sZCIsImRpc3RUb3AiLCJkaXN0Qm90dG9tIiwic2NoZWR1bGUiLCJfdGhpczUiLCJvblVwZGF0ZSIsIlB1cmVDb21wb25lbnQiLCJjb250ZXh0VHlwZSIsIlZpcnR1YWxpemVkTGlzdENvbnRleHQiLCJkZWZhdWx0UHJvcHMiLCJpZCIsInR5cGUiLCJkaXNwbGF5TmFtZSIsIlN0cmluZyIsIl9SZWFjdCRDb21wb25lbnQiLCJfdGhpczYiLCJfbGVuIiwiYXJncyIsIl9rZXkiLCJjb25jYXQiLCJzZXBhcmF0b3JQcm9wcyIsImhpZ2hsaWdodGVkIiwibGVhZGluZ0l0ZW0iLCJfc2VwYXJhdG9ycyIsImhpZ2hsaWdodCIsIl90aGlzNiRwcm9wcyIsInVuaGlnaGxpZ2h0IiwiX3RoaXM2JHByb3BzMiIsInVwZGF0ZVByb3BzIiwic2VsZWN0IiwiX3RoaXM2JHByb3BzMyIsIl9wcm90bzIiLCJfcmVuZGVyRWxlbWVudCIsInJlbmRlckl0ZW0iLCJMaXN0SXRlbUNvbXBvbmVudCIsInNlcGFyYXRvcnMiLCJfdGhpcyRwcm9wczExIiwiZW5hYmxlZCIsIml0ZW1TZXBhcmF0b3IiLCJjZWxsU3R5bGUiLCJyb3dSZXZlcnNlIiwiY29sdW1uUmV2ZXJzZSIsInJvdyIsInJlc3VsdCIsIkNvbXBvbmVudCIsInRyYWNlIiwidHJhbnNmb3JtIiwic2NhbGVZIiwic2NhbGVYIiwiZmxleERpcmVjdGlvbiIsImZsZXgiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImxlZnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJfZGVmYXVsdCIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFPLENBQUNFLE9BQVIsR0FBa0IsS0FBSyxDQUF2Qjs7QUFFQSxJQUFJQyxZQUFZLEdBQUdDLHNCQUFzQixDQUFDQyxPQUFPLGtCQUFSLENBQXpDOztBQUVBLElBQUlDLGVBQWUsR0FBR0Ysc0JBQXNCLENBQUNDLE9BQU8scUJBQVIsQ0FBNUM7O0FBRUEsSUFBSUUsVUFBVSxHQUFHSCxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLFlBQUQsQ0FBUixDQUF2Qzs7QUFFQSxJQUFJRyxLQUFLLEdBQUdDLHVCQUF1QixDQUFDSixPQUFPLENBQUMsT0FBRCxDQUFSLENBQW5DOztBQUVBLElBQUlLLGVBQWUsR0FBR04sc0JBQXNCLENBQUNDLE9BQU8sbUNBQVIsQ0FBNUM7O0FBRUEsSUFBSU0sV0FBVyxHQUFHUCxzQkFBc0IsQ0FBQ0MsT0FBTywrQkFBUixDQUF4Qzs7QUFFQSxJQUFJTyxXQUFXLEdBQUdSLHNCQUFzQixDQUFDQyxPQUFPLCtCQUFSLENBQXhDOztBQUVBLElBQUlRLFVBQVUsR0FBR1Qsc0JBQXNCLENBQUNDLE9BQU8sOEJBQVIsQ0FBdkM7O0FBRUEsSUFBSVMsS0FBSyxHQUFHVixzQkFBc0IsQ0FBQ0MsT0FBTyx5QkFBUixDQUFsQzs7QUFFQSxJQUFJVSxrQkFBa0IsR0FBR1gsc0JBQXNCLENBQUNDLE9BQU8sd0JBQVIsQ0FBL0M7O0FBRUEsSUFBSVcsZUFBZSxHQUFHWixzQkFBc0IsQ0FBQ0MsT0FBTyxtQ0FBUixDQUE1Qzs7QUFFQSxJQUFJWSxRQUFRLEdBQUdiLHNCQUFzQixDQUFDQyxPQUFPLGNBQVIsQ0FBckM7O0FBRUEsSUFBSWEsVUFBVSxHQUFHZCxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLG9CQUFELENBQVIsQ0FBdkM7O0FBRUEsSUFBSWMsUUFBUSxHQUFHZixzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLGtCQUFELENBQVIsQ0FBckM7O0FBRUEsSUFBSWUsZ0JBQWdCLEdBQUdmLE9BQU8sc0JBQTlCOztBQUVBLElBQUlnQix1QkFBdUIsR0FBR2hCLE9BQU8sK0JBQXJDOztBQUVBLFNBQVNpQix3QkFBVCxHQUFvQztBQUFFLE1BQUksT0FBT0MsT0FBUCxLQUFtQixVQUF2QixFQUFtQyxPQUFPLElBQVA7QUFBYSxNQUFJQyxLQUFLLEdBQUcsSUFBSUQsT0FBSixFQUFaOztBQUEyQkQsRUFBQUEsd0JBQXdCLEdBQUcsU0FBU0Esd0JBQVQsR0FBb0M7QUFBRSxXQUFPRSxLQUFQO0FBQWUsR0FBaEY7O0FBQWtGLFNBQU9BLEtBQVA7QUFBZTs7QUFFbE4sU0FBU2YsdUJBQVQsQ0FBaUNnQixHQUFqQyxFQUFzQztBQUFFLE1BQUlBLEdBQUcsSUFBSUEsR0FBRyxDQUFDeEIsVUFBZixFQUEyQjtBQUFFLFdBQU93QixHQUFQO0FBQWE7O0FBQUMsTUFBSUEsR0FBRyxLQUFLLElBQVIsSUFBZ0IsT0FBT0EsR0FBUCxLQUFlLFFBQWYsSUFBMkIsT0FBT0EsR0FBUCxLQUFlLFVBQTlELEVBQTBFO0FBQUUsV0FBTztBQUFFdkIsTUFBQUEsT0FBTyxFQUFFdUI7QUFBWCxLQUFQO0FBQTBCOztBQUFDLE1BQUlELEtBQUssR0FBR0Ysd0JBQXdCLEVBQXBDOztBQUF3QyxNQUFJRSxLQUFLLElBQUlBLEtBQUssQ0FBQ0UsR0FBTixDQUFVRCxHQUFWLENBQWIsRUFBNkI7QUFBRSxXQUFPRCxLQUFLLENBQUNHLEdBQU4sQ0FBVUYsR0FBVixDQUFQO0FBQXdCOztBQUFDLE1BQUlHLE1BQU0sR0FBRyxFQUFiO0FBQWlCLE1BQUlDLHFCQUFxQixHQUFHQyxNQUFNLENBQUNDLGNBQVAsSUFBeUJELE1BQU0sQ0FBQ0Usd0JBQTVEOztBQUFzRixPQUFLLElBQUlDLEdBQVQsSUFBZ0JSLEdBQWhCLEVBQXFCO0FBQUUsUUFBSUssTUFBTSxDQUFDSSxTQUFQLENBQWlCQyxjQUFqQixDQUFnQ0MsSUFBaEMsQ0FBcUNYLEdBQXJDLEVBQTBDUSxHQUExQyxDQUFKLEVBQW9EO0FBQUUsVUFBSUksSUFBSSxHQUFHUixxQkFBcUIsR0FBR0MsTUFBTSxDQUFDRSx3QkFBUCxDQUFnQ1AsR0FBaEMsRUFBcUNRLEdBQXJDLENBQUgsR0FBK0MsSUFBL0U7O0FBQXFGLFVBQUlJLElBQUksS0FBS0EsSUFBSSxDQUFDVixHQUFMLElBQVlVLElBQUksQ0FBQ0MsR0FBdEIsQ0FBUixFQUFvQztBQUFFUixRQUFBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JILE1BQXRCLEVBQThCSyxHQUE5QixFQUFtQ0ksSUFBbkM7QUFBMkMsT0FBakYsTUFBdUY7QUFBRVQsUUFBQUEsTUFBTSxDQUFDSyxHQUFELENBQU4sR0FBY1IsR0FBRyxDQUFDUSxHQUFELENBQWpCO0FBQXlCO0FBQUU7QUFBRTs7QUFBQ0wsRUFBQUEsTUFBTSxDQUFDMUIsT0FBUCxHQUFpQnVCLEdBQWpCOztBQUFzQixNQUFJRCxLQUFKLEVBQVc7QUFBRUEsSUFBQUEsS0FBSyxDQUFDYyxHQUFOLENBQVViLEdBQVYsRUFBZUcsTUFBZjtBQUF5Qjs7QUFBQyxTQUFPQSxNQUFQO0FBQWdCOztBQUV2dUIsU0FBU3hCLHNCQUFULENBQWdDcUIsR0FBaEMsRUFBcUM7QUFBRSxTQUFPQSxHQUFHLElBQUlBLEdBQUcsQ0FBQ3hCLFVBQVgsR0FBd0J3QixHQUF4QixHQUE4QjtBQUFFdkIsSUFBQUEsT0FBTyxFQUFFdUI7QUFBWCxHQUFyQztBQUF3RDs7QUFFL0YsU0FBU2MsK0JBQVQsQ0FBeUNDLENBQXpDLEVBQTRDQyxjQUE1QyxFQUE0RDtBQUFFLE1BQUlDLEVBQUo7O0FBQVEsTUFBSSxPQUFPQyxNQUFQLEtBQWtCLFdBQWxCLElBQWlDSCxDQUFDLENBQUNHLE1BQU0sQ0FBQ0MsUUFBUixDQUFELElBQXNCLElBQTNELEVBQWlFO0FBQUUsUUFBSUMsS0FBSyxDQUFDQyxPQUFOLENBQWNOLENBQWQsTUFBcUJFLEVBQUUsR0FBR0ssMkJBQTJCLENBQUNQLENBQUQsQ0FBckQsS0FBNkRDLGNBQWMsSUFBSUQsQ0FBbEIsSUFBdUIsT0FBT0EsQ0FBQyxDQUFDUSxNQUFULEtBQW9CLFFBQTVHLEVBQXNIO0FBQUUsVUFBSU4sRUFBSixFQUFRRixDQUFDLEdBQUdFLEVBQUo7QUFBUSxVQUFJTyxDQUFDLEdBQUcsQ0FBUjtBQUFXLGFBQU8sWUFBWTtBQUFFLFlBQUlBLENBQUMsSUFBSVQsQ0FBQyxDQUFDUSxNQUFYLEVBQW1CLE9BQU87QUFBRUUsVUFBQUEsSUFBSSxFQUFFO0FBQVIsU0FBUDtBQUF1QixlQUFPO0FBQUVBLFVBQUFBLElBQUksRUFBRSxLQUFSO0FBQWVDLFVBQUFBLEtBQUssRUFBRVgsQ0FBQyxDQUFDUyxDQUFDLEVBQUY7QUFBdkIsU0FBUDtBQUF3QyxPQUF2RztBQUEwRzs7QUFBQyxVQUFNLElBQUlHLFNBQUosQ0FBYyx1SUFBZCxDQUFOO0FBQStKOztBQUFDVixFQUFBQSxFQUFFLEdBQUdGLENBQUMsQ0FBQ0csTUFBTSxDQUFDQyxRQUFSLENBQUQsRUFBTDtBQUEyQixTQUFPRixFQUFFLENBQUNXLElBQUgsQ0FBUUMsSUFBUixDQUFhWixFQUFiLENBQVA7QUFBMEI7O0FBRTVsQixTQUFTSywyQkFBVCxDQUFxQ1AsQ0FBckMsRUFBd0NlLE1BQXhDLEVBQWdEO0FBQUUsTUFBSSxDQUFDZixDQUFMLEVBQVE7QUFBUSxNQUFJLE9BQU9BLENBQVAsS0FBYSxRQUFqQixFQUEyQixPQUFPZ0IsaUJBQWlCLENBQUNoQixDQUFELEVBQUllLE1BQUosQ0FBeEI7QUFBcUMsTUFBSUUsQ0FBQyxHQUFHM0IsTUFBTSxDQUFDSSxTQUFQLENBQWlCd0IsUUFBakIsQ0FBMEJ0QixJQUExQixDQUErQkksQ0FBL0IsRUFBa0NtQixLQUFsQyxDQUF3QyxDQUF4QyxFQUEyQyxDQUFDLENBQTVDLENBQVI7QUFBd0QsTUFBSUYsQ0FBQyxLQUFLLFFBQU4sSUFBa0JqQixDQUFDLENBQUNvQixXQUF4QixFQUFxQ0gsQ0FBQyxHQUFHakIsQ0FBQyxDQUFDb0IsV0FBRixDQUFjQyxJQUFsQjtBQUF3QixNQUFJSixDQUFDLEtBQUssS0FBTixJQUFlQSxDQUFDLEtBQUssS0FBekIsRUFBZ0MsT0FBT1osS0FBSyxDQUFDaUIsSUFBTixDQUFXdEIsQ0FBWCxDQUFQO0FBQXNCLE1BQUlpQixDQUFDLEtBQUssV0FBTixJQUFxQiwyQ0FBMkNNLElBQTNDLENBQWdETixDQUFoRCxDQUF6QixFQUE2RSxPQUFPRCxpQkFBaUIsQ0FBQ2hCLENBQUQsRUFBSWUsTUFBSixDQUF4QjtBQUFzQzs7QUFFaGEsU0FBU0MsaUJBQVQsQ0FBMkJRLEdBQTNCLEVBQWdDQyxHQUFoQyxFQUFxQztBQUFFLE1BQUlBLEdBQUcsSUFBSSxJQUFQLElBQWVBLEdBQUcsR0FBR0QsR0FBRyxDQUFDaEIsTUFBN0IsRUFBcUNpQixHQUFHLEdBQUdELEdBQUcsQ0FBQ2hCLE1BQVY7O0FBQWtCLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQVIsRUFBV2lCLElBQUksR0FBRyxJQUFJckIsS0FBSixDQUFVb0IsR0FBVixDQUF2QixFQUF1Q2hCLENBQUMsR0FBR2dCLEdBQTNDLEVBQWdEaEIsQ0FBQyxFQUFqRCxFQUFxRDtBQUFFaUIsSUFBQUEsSUFBSSxDQUFDakIsQ0FBRCxDQUFKLEdBQVVlLEdBQUcsQ0FBQ2YsQ0FBRCxDQUFiO0FBQW1COztBQUFDLFNBQU9pQixJQUFQO0FBQWM7O0FBRXZMLFNBQVNDLFFBQVQsR0FBb0I7QUFBRUEsRUFBQUEsUUFBUSxHQUFHckMsTUFBTSxDQUFDc0MsTUFBUCxJQUFpQixVQUFVQyxNQUFWLEVBQWtCO0FBQUUsU0FBSyxJQUFJcEIsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR3FCLFNBQVMsQ0FBQ3RCLE1BQTlCLEVBQXNDQyxDQUFDLEVBQXZDLEVBQTJDO0FBQUUsVUFBSXNCLE1BQU0sR0FBR0QsU0FBUyxDQUFDckIsQ0FBRCxDQUF0Qjs7QUFBMkIsV0FBSyxJQUFJaEIsR0FBVCxJQUFnQnNDLE1BQWhCLEVBQXdCO0FBQUUsWUFBSXpDLE1BQU0sQ0FBQ0ksU0FBUCxDQUFpQkMsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFDbUMsTUFBckMsRUFBNkN0QyxHQUE3QyxDQUFKLEVBQXVEO0FBQUVvQyxVQUFBQSxNQUFNLENBQUNwQyxHQUFELENBQU4sR0FBY3NDLE1BQU0sQ0FBQ3RDLEdBQUQsQ0FBcEI7QUFBNEI7QUFBRTtBQUFFOztBQUFDLFdBQU9vQyxNQUFQO0FBQWdCLEdBQTVQOztBQUE4UCxTQUFPRixRQUFRLENBQUNLLEtBQVQsQ0FBZSxJQUFmLEVBQXFCRixTQUFyQixDQUFQO0FBQXlDOztBQUU3VCxTQUFTRyxPQUFULENBQWlCQyxNQUFqQixFQUF5QkMsY0FBekIsRUFBeUM7QUFBRSxNQUFJQyxJQUFJLEdBQUc5QyxNQUFNLENBQUM4QyxJQUFQLENBQVlGLE1BQVosQ0FBWDs7QUFBZ0MsTUFBSTVDLE1BQU0sQ0FBQytDLHFCQUFYLEVBQWtDO0FBQUUsUUFBSUMsT0FBTyxHQUFHaEQsTUFBTSxDQUFDK0MscUJBQVAsQ0FBNkJILE1BQTdCLENBQWQ7QUFBb0QsUUFBSUMsY0FBSixFQUFvQkcsT0FBTyxHQUFHQSxPQUFPLENBQUNDLE1BQVIsQ0FBZSxVQUFVQyxHQUFWLEVBQWU7QUFBRSxhQUFPbEQsTUFBTSxDQUFDRSx3QkFBUCxDQUFnQzBDLE1BQWhDLEVBQXdDTSxHQUF4QyxFQUE2Q0MsVUFBcEQ7QUFBaUUsS0FBakcsQ0FBVjtBQUE4R0wsSUFBQUEsSUFBSSxDQUFDTSxJQUFMLENBQVVWLEtBQVYsQ0FBZ0JJLElBQWhCLEVBQXNCRSxPQUF0QjtBQUFpQzs7QUFBQyxTQUFPRixJQUFQO0FBQWM7O0FBRXJWLFNBQVNPLGFBQVQsQ0FBdUJkLE1BQXZCLEVBQStCO0FBQUUsT0FBSyxJQUFJcEIsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR3FCLFNBQVMsQ0FBQ3RCLE1BQTlCLEVBQXNDQyxDQUFDLEVBQXZDLEVBQTJDO0FBQUUsUUFBSXNCLE1BQU0sR0FBR0QsU0FBUyxDQUFDckIsQ0FBRCxDQUFULElBQWdCLElBQWhCLEdBQXVCcUIsU0FBUyxDQUFDckIsQ0FBRCxDQUFoQyxHQUFzQyxFQUFuRDs7QUFBdUQsUUFBSUEsQ0FBQyxHQUFHLENBQVIsRUFBVztBQUFFd0IsTUFBQUEsT0FBTyxDQUFDM0MsTUFBTSxDQUFDeUMsTUFBRCxDQUFQLEVBQWlCLElBQWpCLENBQVAsQ0FBOEJhLE9BQTlCLENBQXNDLFVBQVVuRCxHQUFWLEVBQWU7QUFBRW9ELFFBQUFBLGVBQWUsQ0FBQ2hCLE1BQUQsRUFBU3BDLEdBQVQsRUFBY3NDLE1BQU0sQ0FBQ3RDLEdBQUQsQ0FBcEIsQ0FBZjtBQUE0QyxPQUFuRztBQUF1RyxLQUFwSCxNQUEwSCxJQUFJSCxNQUFNLENBQUN3RCx5QkFBWCxFQUFzQztBQUFFeEQsTUFBQUEsTUFBTSxDQUFDeUQsZ0JBQVAsQ0FBd0JsQixNQUF4QixFQUFnQ3ZDLE1BQU0sQ0FBQ3dELHlCQUFQLENBQWlDZixNQUFqQyxDQUFoQztBQUE0RSxLQUFwSCxNQUEwSDtBQUFFRSxNQUFBQSxPQUFPLENBQUMzQyxNQUFNLENBQUN5QyxNQUFELENBQVAsQ0FBUCxDQUF3QmEsT0FBeEIsQ0FBZ0MsVUFBVW5ELEdBQVYsRUFBZTtBQUFFSCxRQUFBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JzQyxNQUF0QixFQUE4QnBDLEdBQTlCLEVBQW1DSCxNQUFNLENBQUNFLHdCQUFQLENBQWdDdUMsTUFBaEMsRUFBd0N0QyxHQUF4QyxDQUFuQztBQUFtRixPQUFwSTtBQUF3STtBQUFFOztBQUFDLFNBQU9vQyxNQUFQO0FBQWdCOztBQUV0aEIsU0FBU2dCLGVBQVQsQ0FBeUI1RCxHQUF6QixFQUE4QlEsR0FBOUIsRUFBbUNrQixLQUFuQyxFQUEwQztBQUFFLE1BQUlsQixHQUFHLElBQUlSLEdBQVgsRUFBZ0I7QUFBRUssSUFBQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCTixHQUF0QixFQUEyQlEsR0FBM0IsRUFBZ0M7QUFBRWtCLE1BQUFBLEtBQUssRUFBRUEsS0FBVDtBQUFnQjhCLE1BQUFBLFVBQVUsRUFBRSxJQUE1QjtBQUFrQ08sTUFBQUEsWUFBWSxFQUFFLElBQWhEO0FBQXNEQyxNQUFBQSxRQUFRLEVBQUU7QUFBaEUsS0FBaEM7QUFBMEcsR0FBNUgsTUFBa0k7QUFBRWhFLElBQUFBLEdBQUcsQ0FBQ1EsR0FBRCxDQUFILEdBQVdrQixLQUFYO0FBQW1COztBQUFDLFNBQU8xQixHQUFQO0FBQWE7O0FBRWpOLFNBQVNpRSxzQkFBVCxDQUFnQ0MsSUFBaEMsRUFBc0M7QUFBRSxNQUFJQSxJQUFJLEtBQUssS0FBSyxDQUFsQixFQUFxQjtBQUFFLFVBQU0sSUFBSUMsY0FBSixDQUFtQiwyREFBbkIsQ0FBTjtBQUF3Rjs7QUFBQyxTQUFPRCxJQUFQO0FBQWM7O0FBRXRLLFNBQVNFLGNBQVQsQ0FBd0JDLFFBQXhCLEVBQWtDQyxVQUFsQyxFQUE4QztBQUFFRCxFQUFBQSxRQUFRLENBQUM1RCxTQUFULEdBQXFCSixNQUFNLENBQUNrRSxNQUFQLENBQWNELFVBQVUsQ0FBQzdELFNBQXpCLENBQXJCO0FBQTBENEQsRUFBQUEsUUFBUSxDQUFDNUQsU0FBVCxDQUFtQjBCLFdBQW5CLEdBQWlDa0MsUUFBakM7O0FBQTJDRyxFQUFBQSxlQUFlLENBQUNILFFBQUQsRUFBV0MsVUFBWCxDQUFmO0FBQXdDOztBQUU3TCxTQUFTRSxlQUFULENBQXlCekQsQ0FBekIsRUFBNEIwRCxDQUE1QixFQUErQjtBQUFFRCxFQUFBQSxlQUFlLEdBQUduRSxNQUFNLENBQUNxRSxjQUFQLElBQXlCLFNBQVNGLGVBQVQsQ0FBeUJ6RCxDQUF6QixFQUE0QjBELENBQTVCLEVBQStCO0FBQUUxRCxJQUFBQSxDQUFDLENBQUM0RCxTQUFGLEdBQWNGLENBQWQ7QUFBaUIsV0FBTzFELENBQVA7QUFBVyxHQUF4Rzs7QUFBMEcsU0FBT3lELGVBQWUsQ0FBQ3pELENBQUQsRUFBSTBELENBQUosQ0FBdEI7QUFBK0I7O0FBRTFLLElBQUlHLFlBQVksR0FBR3pGLFdBQVcsQ0FBQ1YsT0FBWixDQUFvQm9HLE9BQXZDOztBQUVBLElBQUlDLE9BQU8sR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBdkM7O0FBRUEsSUFBSUMsZ0JBQWdCLEdBQUcsS0FBdkI7QUFDQSxJQUFJQyx5QkFBeUIsR0FBRyxFQUFoQzs7QUE4QkEsSUFBSUMsZUFBZSxHQUFnQixVQUFVQyxvQkFBVixFQUFnQztBQUNqRWpCLEVBQUFBLGNBQWMsQ0FBQ2dCLGVBQUQsRUFBa0JDLG9CQUFsQixDQUFkOztBQUVBLE1BQUlDLE1BQU0sR0FBR0YsZUFBZSxDQUFDM0UsU0FBN0I7O0FBR0E2RSxFQUFBQSxNQUFNLENBQUNDLFdBQVAsR0FBcUIsU0FBU0EsV0FBVCxDQUFxQkMsTUFBckIsRUFBNkI7QUFDaEQsUUFBSUMsUUFBUSxHQUFHRCxNQUFNLEdBQUdBLE1BQU0sQ0FBQ0MsUUFBVixHQUFxQixJQUExQztBQUNBLFFBQUlDLFFBQVEsR0FBRyxLQUFLQyxLQUFMLENBQVdDLFlBQVgsQ0FBd0IsS0FBS0QsS0FBTCxDQUFXRSxJQUFuQyxJQUEyQyxDQUExRDs7QUFFQSxRQUFJQyxLQUFLLEdBQUcsS0FBS0Msc0JBQUwsQ0FBNEJMLFFBQTVCLENBQVo7O0FBRUEsUUFBSU0sTUFBTSxHQUFHQyxJQUFJLENBQUNDLEdBQUwsQ0FBUyxDQUFULEVBQVlKLEtBQUssQ0FBQ0UsTUFBTixHQUFlRixLQUFLLENBQUN2RSxNQUFyQixHQUE4QixLQUFLNEUsYUFBbkMsR0FBbUQsS0FBS0MsY0FBTCxDQUFvQkMsYUFBbkYsQ0FBYjs7QUFFQSxRQUFJLEtBQUtDLFVBQUwsSUFBbUIsSUFBdkIsRUFBNkI7QUFDM0I7QUFDRDs7QUFFRCxRQUFJLEtBQUtBLFVBQUwsQ0FBZ0JDLFFBQWhCLElBQTRCLElBQWhDLEVBQXNDO0FBQ3BDQyxNQUFBQSxPQUFPLENBQUNDLElBQVIsQ0FBYSwwRUFBMEUsaUVBQTFFLEdBQThJLDREQUEzSjtBQUNBO0FBQ0Q7O0FBRUQsU0FBS0gsVUFBTCxDQUFnQkMsUUFBaEIsQ0FBeUIsS0FBS1osS0FBTCxDQUFXZSxVQUFYLEdBQXdCO0FBQy9DQyxNQUFBQSxDQUFDLEVBQUVYLE1BRDRDO0FBRS9DUCxNQUFBQSxRQUFRLEVBQUVBO0FBRnFDLEtBQXhCLEdBR3JCO0FBQ0ZtQixNQUFBQSxDQUFDLEVBQUVaLE1BREQ7QUFFRlAsTUFBQUEsUUFBUSxFQUFFQTtBQUZSLEtBSEo7QUFPRCxHQXhCRDs7QUEyQkFILEVBQUFBLE1BQU0sQ0FBQ3VCLGFBQVAsR0FBdUIsU0FBU0EsYUFBVCxDQUF1QnJCLE1BQXZCLEVBQStCO0FBQ3BELFFBQUlzQixXQUFXLEdBQUcsS0FBS25CLEtBQXZCO0FBQUEsUUFDSUUsSUFBSSxHQUFHaUIsV0FBVyxDQUFDakIsSUFEdkI7QUFBQSxRQUVJYSxVQUFVLEdBQUdJLFdBQVcsQ0FBQ0osVUFGN0I7QUFBQSxRQUdJZCxZQUFZLEdBQUdrQixXQUFXLENBQUNsQixZQUgvQjtBQUFBLFFBSUltQixhQUFhLEdBQUdELFdBQVcsQ0FBQ0MsYUFKaEM7QUFBQSxRQUtJQyxxQkFBcUIsR0FBR0YsV0FBVyxDQUFDRSxxQkFMeEM7QUFNQSxRQUFJdkIsUUFBUSxHQUFHRCxNQUFNLENBQUNDLFFBQXRCO0FBQUEsUUFDSXdCLEtBQUssR0FBR3pCLE1BQU0sQ0FBQ3lCLEtBRG5CO0FBQUEsUUFFSUMsVUFBVSxHQUFHMUIsTUFBTSxDQUFDMEIsVUFGeEI7QUFBQSxRQUdJQyxZQUFZLEdBQUczQixNQUFNLENBQUMyQixZQUgxQjtBQUlBLEtBQUMsR0FBRzFILFVBQVUsQ0FBQ2hCLE9BQWYsRUFBd0J3SSxLQUFLLElBQUksQ0FBakMsRUFBb0MsaURBQWlEQSxLQUFqRCxHQUF5RCxtQkFBN0Y7QUFDQSxLQUFDLEdBQUd4SCxVQUFVLENBQUNoQixPQUFmLEVBQXdCbUgsWUFBWSxDQUFDQyxJQUFELENBQVosSUFBc0IsQ0FBOUMsRUFBaUQsNkNBQTZDRCxZQUFZLENBQUNDLElBQUQsQ0FBekQsR0FBa0UsbUJBQW5IO0FBQ0EsS0FBQyxHQUFHcEcsVUFBVSxDQUFDaEIsT0FBZixFQUF3QndJLEtBQUssR0FBR3JCLFlBQVksQ0FBQ0MsSUFBRCxDQUE1QyxFQUFvRCxpREFBaURvQixLQUFqRCxHQUF5RCxrQkFBekQsSUFBK0VyQixZQUFZLENBQUNDLElBQUQsQ0FBWixHQUFxQixDQUFwRyxDQUFwRDs7QUFFQSxRQUFJLENBQUNrQixhQUFELElBQWtCRSxLQUFLLEdBQUcsS0FBS0csMEJBQW5DLEVBQStEO0FBQzdELE9BQUMsR0FBRzNILFVBQVUsQ0FBQ2hCLE9BQWYsRUFBd0IsQ0FBQyxDQUFDdUkscUJBQTFCLEVBQWlELDhGQUE4Rix5RkFBL0k7QUFDQUEsTUFBQUEscUJBQXFCLENBQUM7QUFDcEJLLFFBQUFBLGlCQUFpQixFQUFFLEtBQUtDLGtCQURKO0FBRXBCQyxRQUFBQSx5QkFBeUIsRUFBRSxLQUFLSCwwQkFGWjtBQUdwQkgsUUFBQUEsS0FBSyxFQUFFQTtBQUhhLE9BQUQsQ0FBckI7QUFLQTtBQUNEOztBQUVELFFBQUluQixLQUFLLEdBQUcsS0FBS0Msc0JBQUwsQ0FBNEJrQixLQUE1QixDQUFaOztBQUVBLFFBQUlqQixNQUFNLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUFTLENBQVQsRUFBWUosS0FBSyxDQUFDRSxNQUFOLEdBQWUsQ0FBQ21CLFlBQVksSUFBSSxDQUFqQixLQUF1QixLQUFLZixjQUFMLENBQW9CQyxhQUFwQixHQUFvQ1AsS0FBSyxDQUFDdkUsTUFBakUsQ0FBM0IsS0FBd0cyRixVQUFVLElBQUksQ0FBdEgsQ0FBYjs7QUFFQSxRQUFJLEtBQUtaLFVBQUwsSUFBbUIsSUFBdkIsRUFBNkI7QUFDM0I7QUFDRDs7QUFFRCxRQUFJLEtBQUtBLFVBQUwsQ0FBZ0JDLFFBQWhCLElBQTRCLElBQWhDLEVBQXNDO0FBQ3BDQyxNQUFBQSxPQUFPLENBQUNDLElBQVIsQ0FBYSwwRUFBMEUsaUVBQTFFLEdBQThJLDREQUEzSjtBQUNBO0FBQ0Q7O0FBRUQsU0FBS0gsVUFBTCxDQUFnQkMsUUFBaEIsQ0FBeUJHLFVBQVUsR0FBRztBQUNwQ0MsTUFBQUEsQ0FBQyxFQUFFWCxNQURpQztBQUVwQ1AsTUFBQUEsUUFBUSxFQUFFQTtBQUYwQixLQUFILEdBRy9CO0FBQ0ZtQixNQUFBQSxDQUFDLEVBQUVaLE1BREQ7QUFFRlAsTUFBQUEsUUFBUSxFQUFFQTtBQUZSLEtBSEo7QUFPRCxHQTdDRDs7QUFpREFILEVBQUFBLE1BQU0sQ0FBQ2tDLFlBQVAsR0FBc0IsU0FBU0EsWUFBVCxDQUFzQmhDLE1BQXRCLEVBQThCO0FBQ2xELFFBQUlpQyxJQUFJLEdBQUdqQyxNQUFNLENBQUNpQyxJQUFsQjtBQUNBLFFBQUlDLFlBQVksR0FBRyxLQUFLL0IsS0FBeEI7QUFBQSxRQUNJRSxJQUFJLEdBQUc2QixZQUFZLENBQUM3QixJQUR4QjtBQUFBLFFBRUk4QixPQUFPLEdBQUdELFlBQVksQ0FBQ0MsT0FGM0I7QUFBQSxRQUdJL0IsWUFBWSxHQUFHOEIsWUFBWSxDQUFDOUIsWUFIaEM7QUFJQSxRQUFJZ0MsU0FBUyxHQUFHaEMsWUFBWSxDQUFDQyxJQUFELENBQTVCOztBQUVBLFNBQUssSUFBSWdDLE1BQU0sR0FBRyxDQUFsQixFQUFxQkEsTUFBTSxHQUFHRCxTQUE5QixFQUF5Q0MsTUFBTSxFQUEvQyxFQUFtRDtBQUNqRCxVQUFJRixPQUFPLENBQUM5QixJQUFELEVBQU9nQyxNQUFQLENBQVAsS0FBMEJKLElBQTlCLEVBQW9DO0FBQ2xDLGFBQUtaLGFBQUwsQ0FBbUJuRCxhQUFhLENBQUNBLGFBQWEsQ0FBQyxFQUFELEVBQUs4QixNQUFMLENBQWQsRUFBNEIsRUFBNUIsRUFBZ0M7QUFDOUR5QixVQUFBQSxLQUFLLEVBQUVZO0FBRHVELFNBQWhDLENBQWhDO0FBR0E7QUFDRDtBQUNGO0FBQ0YsR0FoQkQ7O0FBNkJBdkMsRUFBQUEsTUFBTSxDQUFDd0MsY0FBUCxHQUF3QixTQUFTQSxjQUFULENBQXdCdEMsTUFBeEIsRUFBZ0M7QUFDdEQsUUFBSUMsUUFBUSxHQUFHRCxNQUFNLENBQUNDLFFBQXRCO0FBQUEsUUFDSU8sTUFBTSxHQUFHUixNQUFNLENBQUNRLE1BRHBCOztBQUdBLFFBQUksS0FBS00sVUFBTCxJQUFtQixJQUF2QixFQUE2QjtBQUMzQjtBQUNEOztBQUVELFFBQUksS0FBS0EsVUFBTCxDQUFnQkMsUUFBaEIsSUFBNEIsSUFBaEMsRUFBc0M7QUFDcENDLE1BQUFBLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLDBFQUEwRSxpRUFBMUUsR0FBOEksNERBQTNKO0FBQ0E7QUFDRDs7QUFFRCxTQUFLSCxVQUFMLENBQWdCQyxRQUFoQixDQUF5QixLQUFLWixLQUFMLENBQVdlLFVBQVgsR0FBd0I7QUFDL0NDLE1BQUFBLENBQUMsRUFBRVgsTUFENEM7QUFFL0NQLE1BQUFBLFFBQVEsRUFBRUE7QUFGcUMsS0FBeEIsR0FHckI7QUFDRm1CLE1BQUFBLENBQUMsRUFBRVosTUFERDtBQUVGUCxNQUFBQSxRQUFRLEVBQUVBO0FBRlIsS0FISjtBQU9ELEdBcEJEOztBQXNCQUgsRUFBQUEsTUFBTSxDQUFDeUMsaUJBQVAsR0FBMkIsU0FBU0EsaUJBQVQsR0FBNkI7QUFDdEQsU0FBS0MsaUJBQUwsQ0FBdUJyRSxPQUF2QixDQUErQixVQUFVc0UsU0FBVixFQUFxQjtBQUNsREEsTUFBQUEsU0FBUyxDQUFDQyxHQUFWLElBQWlCRCxTQUFTLENBQUNDLEdBQVYsQ0FBY0gsaUJBQWQsRUFBakI7QUFDRCxLQUZEOztBQUlBLFNBQUtJLGtCQUFMLENBQXdCeEUsT0FBeEIsQ0FBZ0MsVUFBVXlFLENBQVYsRUFBYTtBQUMzQ0EsTUFBQUEsQ0FBQyxDQUFDQyxpQkFBRixDQUFvQk4saUJBQXBCO0FBQ0QsS0FGRDs7QUFJQSxTQUFLTyxvQkFBTCxDQUEwQixLQUFLM0MsS0FBTCxDQUFXRSxJQUFyQztBQUNELEdBVkQ7O0FBWUFQLEVBQUFBLE1BQU0sQ0FBQ2lELHFCQUFQLEdBQStCLFNBQVNBLHFCQUFULEdBQWlDO0FBQzlELFFBQUksS0FBS2pDLFVBQUwsSUFBbUIsSUFBdkIsRUFBNkI7QUFDM0I7QUFDRDs7QUFFRCxTQUFLQSxVQUFMLENBQWdCaUMscUJBQWhCO0FBQ0QsR0FORDs7QUFjQWpELEVBQUFBLE1BQU0sQ0FBQ2tELGtCQUFQLEdBQTRCLFNBQVNBLGtCQUFULEdBQThCO0FBQ3hELFFBQUksS0FBS2xDLFVBQUwsSUFBbUIsS0FBS0EsVUFBTCxDQUFnQmtDLGtCQUF2QyxFQUEyRDtBQUN6RCxhQUFPLEtBQUtsQyxVQUFMLENBQWdCa0Msa0JBQWhCLEVBQVA7QUFDRDtBQUNGLEdBSkQ7O0FBTUFsRCxFQUFBQSxNQUFNLENBQUNtRCxpQkFBUCxHQUEyQixTQUFTQSxpQkFBVCxHQUE2QjtBQUN0RCxRQUFJLEtBQUtuQyxVQUFMLElBQW1CLEtBQUtBLFVBQUwsQ0FBZ0JtQyxpQkFBdkMsRUFBMEQ7QUFDeEQsYUFBTyxLQUFLbkMsVUFBTCxDQUFnQm1DLGlCQUFoQixFQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsYUFBTyxDQUFDLEdBQUdsSixlQUFlLENBQUNkLE9BQXBCLEVBQTZCLEtBQUs2SCxVQUFsQyxDQUFQO0FBQ0Q7QUFDRixHQU5EOztBQVFBaEIsRUFBQUEsTUFBTSxDQUFDb0QsWUFBUCxHQUFzQixTQUFTQSxZQUFULEdBQXdCO0FBQzVDLFFBQUksS0FBS3BDLFVBQUwsSUFBbUIsS0FBS0EsVUFBTCxDQUFnQm9DLFlBQXZDLEVBQXFEO0FBQ25ELGFBQU8sS0FBS3BDLFVBQUwsQ0FBZ0JvQyxZQUFoQixFQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsYUFBTyxLQUFLcEMsVUFBWjtBQUNEO0FBQ0YsR0FORDs7QUFRQWhCLEVBQUFBLE1BQU0sQ0FBQ3FELGNBQVAsR0FBd0IsU0FBU0EsY0FBVCxDQUF3QmhELEtBQXhCLEVBQStCO0FBQ3JELFFBQUksS0FBS1csVUFBVCxFQUFxQjtBQUNuQixXQUFLQSxVQUFMLENBQWdCcUMsY0FBaEIsQ0FBK0JoRCxLQUEvQjtBQUNEO0FBQ0YsR0FKRDs7QUFNQUwsRUFBQUEsTUFBTSxDQUFDc0QsV0FBUCxHQUFxQixTQUFTQSxXQUFULEdBQXVCO0FBQzFDLFFBQUlDLGFBQUo7O0FBRUEsV0FBTyxDQUFDLENBQUNBLGFBQWEsR0FBRyxLQUFLQyxPQUF0QixLQUFrQyxJQUFsQyxHQUF5QyxLQUFLLENBQTlDLEdBQWtERCxhQUFhLENBQUNFLE9BQWpFLEtBQTZFLFVBQXBGO0FBQ0QsR0FKRDs7QUFNQXpELEVBQUFBLE1BQU0sQ0FBQzBELFdBQVAsR0FBcUIsU0FBU0EsV0FBVCxHQUF1QjtBQUMxQyxXQUFPLEtBQUtyRCxLQUFMLENBQVdzRCxPQUFYLElBQXNCLEtBQUtMLFdBQUwsRUFBN0I7QUFDRCxHQUZEOztBQUlBdEQsRUFBQUEsTUFBTSxDQUFDNEQsYUFBUCxHQUF1QixTQUFTQSxhQUFULEdBQXlCO0FBQzlDLFFBQUlDLGNBQUo7O0FBRUEsV0FBTztBQUNMRixNQUFBQSxPQUFPLEVBQUUsS0FBS0QsV0FBTCxFQURKO0FBRUxELE1BQUFBLE9BQU8sRUFBRSxLQUFLSCxXQUFMLEVBRko7QUFHTGxDLE1BQUFBLFVBQVUsRUFBRSxDQUFDLENBQUMsS0FBS2YsS0FBTCxDQUFXZSxVQUhwQjtBQUlMMEMsTUFBQUEsTUFBTSxFQUFFLENBQUNELGNBQWMsR0FBRyxLQUFLTCxPQUF2QixLQUFtQyxJQUFuQyxHQUEwQyxLQUFLLENBQS9DLEdBQW1ESyxjQUFjLENBQUNFO0FBSnJFLEtBQVA7QUFNRCxHQVREOztBQVdBL0QsRUFBQUEsTUFBTSxDQUFDZ0UsT0FBUCxHQUFpQixTQUFTQSxPQUFULEdBQW1CO0FBQ2xDLFdBQU8sS0FBS0MsUUFBWjtBQUNELEdBRkQ7O0FBSUEsV0FBU25FLGVBQVQsQ0FBeUJvRSxNQUF6QixFQUFpQztBQUMvQixRQUFJQyxLQUFKOztBQUVBQSxJQUFBQSxLQUFLLEdBQUdwRSxvQkFBb0IsQ0FBQzFFLElBQXJCLENBQTBCLElBQTFCLEVBQWdDNkksTUFBaEMsS0FBMkMsSUFBbkQ7O0FBRUFDLElBQUFBLEtBQUssQ0FBQ0MsaUJBQU4sR0FBMEIsWUFBWTtBQUNwQyxhQUFPRCxLQUFLLENBQUNyRCxjQUFiO0FBQ0QsS0FGRDs7QUFJQXFELElBQUFBLEtBQUssQ0FBQ0UsMEJBQU4sR0FBbUMsWUFBWTtBQUM3QyxVQUFJRixLQUFLLENBQUNHLDRCQUFOLEVBQUosRUFBMEM7QUFDeEMsZUFBT0gsS0FBSyxDQUFDWCxPQUFOLENBQWNlLHlCQUFkLEVBQVA7QUFDRCxPQUZELE1BRU87QUFDTCxlQUFPNUYsc0JBQXNCLENBQUN3RixLQUFELENBQTdCO0FBQ0Q7QUFDRixLQU5EOztBQVFBQSxJQUFBQSxLQUFLLENBQUNLLG9CQUFOLEdBQTZCLFVBQVV0SixHQUFWLEVBQWU7QUFDMUMsVUFBSXVKLGlCQUFpQixHQUFHTixLQUFLLENBQUN6QixpQkFBTixDQUF3QjlILEdBQXhCLENBQTRCTSxHQUE1QixDQUF4Qjs7QUFFQSxhQUFPdUosaUJBQWlCLElBQUlBLGlCQUFpQixDQUFDQyxLQUE5QztBQUNELEtBSkQ7O0FBTUFQLElBQUFBLEtBQUssQ0FBQ1Esc0JBQU4sR0FBK0IsVUFBVWhDLFNBQVYsRUFBcUI7QUFFbEQsVUFBSWlDLGdCQUFnQixHQUFHVCxLQUFLLENBQUNVLHdCQUFOLENBQStCakssR0FBL0IsQ0FBbUMrSCxTQUFTLENBQUNjLE9BQTdDLEtBQXlELElBQUlxQixHQUFKLEVBQWhGO0FBQ0FGLE1BQUFBLGdCQUFnQixDQUFDRyxHQUFqQixDQUFxQnBDLFNBQVMsQ0FBQ3pILEdBQS9COztBQUVBaUosTUFBQUEsS0FBSyxDQUFDVSx3QkFBTixDQUErQnRKLEdBQS9CLENBQW1Db0gsU0FBUyxDQUFDYyxPQUE3QyxFQUFzRG1CLGdCQUF0RDs7QUFFQSxVQUFJSCxpQkFBaUIsR0FBR04sS0FBSyxDQUFDekIsaUJBQU4sQ0FBd0I5SCxHQUF4QixDQUE0QitILFNBQVMsQ0FBQ3pILEdBQXRDLENBQXhCOztBQUVBLFVBQUl1SixpQkFBaUIsSUFBSUEsaUJBQWlCLENBQUM3QixHQUFsQixLQUEwQixJQUFuRCxFQUF5RDtBQUN2RDFCLFFBQUFBLE9BQU8sQ0FBQzhELEtBQVIsQ0FBYyw2REFBNkQsc0VBQTdELEdBQXNJLHFFQUF0SSxHQUE4TUMsbUJBQW1CLENBQUM3RyxhQUFhLENBQUNBLGFBQWEsQ0FBQyxFQUFELEVBQUt1RSxTQUFMLENBQWQsRUFBK0IsRUFBL0IsRUFBbUM7QUFHOVJ2QixVQUFBQSxVQUFVLEVBQUUsQ0FBQyxDQUFDdUIsU0FBUyxDQUFDQyxHQUFWLENBQWN2QyxLQUFkLENBQW9CZTtBQUg0UCxTQUFuQyxDQUFkLENBQS9PO0FBS0Q7O0FBRUQrQyxNQUFBQSxLQUFLLENBQUN6QixpQkFBTixDQUF3Qm5ILEdBQXhCLENBQTRCb0gsU0FBUyxDQUFDekgsR0FBdEMsRUFBMkM7QUFDekMwSCxRQUFBQSxHQUFHLEVBQUVELFNBQVMsQ0FBQ0MsR0FEMEI7QUFFekM4QixRQUFBQSxLQUFLLEVBQUU7QUFGa0MsT0FBM0M7O0FBS0EsVUFBSVAsS0FBSyxDQUFDZSxjQUFWLEVBQTBCO0FBQ3hCdkMsUUFBQUEsU0FBUyxDQUFDQyxHQUFWLENBQWNILGlCQUFkO0FBQ0Q7QUFDRixLQXpCRDs7QUEyQkEwQixJQUFBQSxLQUFLLENBQUNnQix3QkFBTixHQUFpQyxVQUFVeEMsU0FBVixFQUFxQjtBQUNwRHdCLE1BQUFBLEtBQUssQ0FBQ3pCLGlCQUFOLENBQXdCbkgsR0FBeEIsQ0FBNEJvSCxTQUFTLENBQUN6SCxHQUF0QyxFQUEyQztBQUN6QzBILFFBQUFBLEdBQUcsRUFBRSxJQURvQztBQUV6QzhCLFFBQUFBLEtBQUssRUFBRS9CLFNBQVMsQ0FBQytCO0FBRndCLE9BQTNDO0FBSUQsS0FMRDs7QUFPQVAsSUFBQUEsS0FBSyxDQUFDaUIsbUJBQU4sR0FBNEIsVUFBVXZILElBQVYsRUFBZ0J3SCxRQUFoQixFQUEwQjtBQUNwRHhILE1BQUFBLElBQUksQ0FBQ1EsT0FBTCxDQUFhLFVBQVVuRCxHQUFWLEVBQWU7QUFDMUIsWUFBSTBILEdBQUcsR0FBRzFILEdBQUcsSUFBSSxJQUFQLElBQWVpSixLQUFLLENBQUNtQixTQUFOLENBQWdCcEssR0FBaEIsQ0FBekI7QUFDQTBILFFBQUFBLEdBQUcsSUFBSUEsR0FBRyxDQUFDMkMsb0JBQUosQ0FBeUJGLFFBQXpCLENBQVA7QUFDRCxPQUhEO0FBSUQsS0FMRDs7QUFPQWxCLElBQUFBLEtBQUssQ0FBQ25DLGtCQUFOLEdBQTJCLENBQTNCO0FBQ0FtQyxJQUFBQSxLQUFLLENBQUNVLHdCQUFOLEdBQWlDLElBQUlXLEdBQUosRUFBakM7QUFDQXJCLElBQUFBLEtBQUssQ0FBQ21CLFNBQU4sR0FBa0IsRUFBbEI7QUFDQW5CLElBQUFBLEtBQUssQ0FBQ3NCLE9BQU4sR0FBZ0IsRUFBaEI7QUFDQXRCLElBQUFBLEtBQUssQ0FBQ3RELGFBQU4sR0FBc0IsQ0FBdEI7QUFDQXNELElBQUFBLEtBQUssQ0FBQ3VCLHFCQUFOLEdBQThCLEtBQTlCO0FBQ0F2QixJQUFBQSxLQUFLLENBQUNlLGNBQU4sR0FBdUIsS0FBdkI7QUFDQWYsSUFBQUEsS0FBSyxDQUFDRixRQUFOLEdBQWlCLEtBQWpCO0FBQ0FFLElBQUFBLEtBQUssQ0FBQ3dCLFVBQU4sR0FBbUIsRUFBbkI7QUFDQXhCLElBQUFBLEtBQUssQ0FBQ3lCLGFBQU4sR0FBc0IsQ0FBdEI7QUFDQXpCLElBQUFBLEtBQUssQ0FBQzBCLGdCQUFOLEdBQXlCLEtBQXpCO0FBQ0ExQixJQUFBQSxLQUFLLENBQUNyQywwQkFBTixHQUFtQyxDQUFuQztBQUNBcUMsSUFBQUEsS0FBSyxDQUFDMkIsY0FBTixHQUF1QixJQUFJTixHQUFKLEVBQXZCO0FBQ0FyQixJQUFBQSxLQUFLLENBQUN6QixpQkFBTixHQUEwQixJQUFJOEMsR0FBSixFQUExQjtBQUNBckIsSUFBQUEsS0FBSyxDQUFDNEIsZ0NBQU4sR0FBeUMsQ0FBekM7QUFDQTVCLElBQUFBLEtBQUssQ0FBQzZCLGlCQUFOLEdBQTBCLENBQTFCO0FBQ0E3QixJQUFBQSxLQUFLLENBQUNyRCxjQUFOLEdBQXVCO0FBQ3JCbUYsTUFBQUEsYUFBYSxFQUFFLENBRE07QUFFckJDLE1BQUFBLE9BQU8sRUFBRSxDQUZZO0FBR3JCQyxNQUFBQSxFQUFFLEVBQUUsRUFIaUI7QUFJckJ6RixNQUFBQSxNQUFNLEVBQUUsQ0FKYTtBQUtyQjBGLE1BQUFBLFNBQVMsRUFBRSxDQUxVO0FBTXJCQyxNQUFBQSxRQUFRLEVBQUUsQ0FOVztBQU9yQnRGLE1BQUFBLGFBQWEsRUFBRTtBQVBNLEtBQXZCO0FBU0FvRCxJQUFBQSxLQUFLLENBQUNuRCxVQUFOLEdBQW1CLElBQW5CO0FBQ0FtRCxJQUFBQSxLQUFLLENBQUNtQyx3QkFBTixHQUFpQyxDQUFqQztBQUNBbkMsSUFBQUEsS0FBSyxDQUFDb0MsZ0JBQU4sR0FBeUIsQ0FBekI7QUFDQXBDLElBQUFBLEtBQUssQ0FBQ3FDLG1CQUFOLEdBQTRCLENBQTVCO0FBQ0FyQyxJQUFBQSxLQUFLLENBQUN0QixrQkFBTixHQUEyQixFQUEzQjs7QUFFQXNCLElBQUFBLEtBQUssQ0FBQ3NDLGlCQUFOLEdBQTBCLFVBQVU3RCxHQUFWLEVBQWU7QUFDdkN1QixNQUFBQSxLQUFLLENBQUNuRCxVQUFOLEdBQW1CNEIsR0FBbkI7QUFDRCxLQUZEOztBQUlBdUIsSUFBQUEsS0FBSyxDQUFDdUMsNkJBQU4sR0FBc0MsVUFBVXJHLEtBQVYsRUFBaUI7QUFDckQsVUFBSXNHLFNBQVMsR0FBR3RHLEtBQUssQ0FBQ3NHLFNBQXRCOztBQUVBLFVBQUl4QyxLQUFLLENBQUNHLDRCQUFOLEVBQUosRUFBMEM7QUFFeEMsZUFBb0I3SyxLQUFLLENBQUNtTixhQUFOLENBQW9CN00sS0FBSyxDQUFDWixPQUExQixFQUFtQ2tILEtBQW5DLENBQXBCO0FBQ0QsT0FIRCxNQUdPLElBQUlzRyxTQUFKLEVBQWU7QUFDcEIsU0FBQyxHQUFHeE0sVUFBVSxDQUFDaEIsT0FBZixFQUF3QixPQUFPa0gsS0FBSyxDQUFDd0csVUFBYixLQUE0QixTQUFwRCxFQUErRCxzRkFJL0RDLElBQUksQ0FBQ0MsU0FBTCxDQUFlMUcsS0FBSyxDQUFDd0csVUFBckIsQ0FKK0QsR0FJNUIsR0FKbkM7QUFLQSxlQUdFcE4sS0FBSyxDQUFDbU4sYUFBTixDQUFvQmhOLFdBQVcsQ0FBQ1QsT0FBaEMsRUFBeUNpRSxRQUFRLENBQUMsRUFBRCxFQUFLaUQsS0FBTCxFQUFZO0FBQzNEMkcsVUFBQUEsY0FBYyxFQUFFM0csS0FBSyxDQUFDMkcsY0FBTixJQUF3QixJQUF4QixHQUE0Q3ZOLEtBQUssQ0FBQ21OLGFBQU4sQ0FBb0JqTixlQUFlLENBQUNSLE9BQXBDLEVBQTZDO0FBQ3ZHME4sWUFBQUEsVUFBVSxFQUFFeEcsS0FBSyxDQUFDd0csVUFEcUY7QUFFdkdGLFlBQUFBLFNBQVMsRUFBRUEsU0FGNEY7QUFHdkdNLFlBQUFBLGtCQUFrQixFQUFFNUcsS0FBSyxDQUFDNEc7QUFINkUsV0FBN0MsQ0FBNUMsR0FJWDVHLEtBQUssQ0FBQzJHO0FBTGdELFNBQVosQ0FBakQsQ0FIRjtBQVdELE9BakJNLE1BaUJBO0FBRUwsZUFBb0J2TixLQUFLLENBQUNtTixhQUFOLENBQW9CaE4sV0FBVyxDQUFDVCxPQUFoQyxFQUF5Q2tILEtBQXpDLENBQXBCO0FBQ0Q7QUFDRixLQTNCRDs7QUE2QkE4RCxJQUFBQSxLQUFLLENBQUMrQyxjQUFOLEdBQXVCLFVBQVV6RCxPQUFWLEVBQW1CO0FBQ3hDLFVBQUkwRCxJQUFJLEdBQUdoRCxLQUFLLENBQUNzQixPQUFOLENBQWNoQyxPQUFkLENBQVg7O0FBRUEsVUFBSTBELElBQUosRUFBVTtBQUNSaEQsUUFBQUEsS0FBSyxDQUFDc0IsT0FBTixDQUFjaEMsT0FBZCxJQUF5QnJGLGFBQWEsQ0FBQ0EsYUFBYSxDQUFDLEVBQUQsRUFBSytJLElBQUwsQ0FBZCxFQUEwQixFQUExQixFQUE4QjtBQUNsRUMsVUFBQUEsUUFBUSxFQUFFO0FBRHdELFNBQTlCLENBQXRDO0FBR0Q7QUFDRixLQVJEOztBQVVBakQsSUFBQUEsS0FBSyxDQUFDa0QsU0FBTixHQUFrQixVQUFVQyxDQUFWLEVBQWE7QUFDN0IsVUFBSW5ELEtBQUssQ0FBQ0csNEJBQU4sRUFBSixFQUEwQztBQUd4Q0gsUUFBQUEsS0FBSyxDQUFDb0QscUNBQU47QUFDRCxPQUpELE1BSU87QUFDTHBELFFBQUFBLEtBQUssQ0FBQ3JELGNBQU4sQ0FBcUJDLGFBQXJCLEdBQXFDb0QsS0FBSyxDQUFDcUQsYUFBTixDQUFvQkYsQ0FBQyxDQUFDRyxXQUFGLENBQWNDLE1BQWxDLENBQXJDO0FBQ0Q7O0FBRUR2RCxNQUFBQSxLQUFLLENBQUM5RCxLQUFOLENBQVlzSCxRQUFaLElBQXdCeEQsS0FBSyxDQUFDOUQsS0FBTixDQUFZc0gsUUFBWixDQUFxQkwsQ0FBckIsQ0FBeEI7O0FBRUFuRCxNQUFBQSxLQUFLLENBQUN5RCw0QkFBTjs7QUFFQXpELE1BQUFBLEtBQUssQ0FBQzBELHNCQUFOO0FBQ0QsS0FkRDs7QUFnQkExRCxJQUFBQSxLQUFLLENBQUMyRCxjQUFOLEdBQXVCLFVBQVVSLENBQVYsRUFBYTtBQUNsQ25ELE1BQUFBLEtBQUssQ0FBQzlELEtBQU4sQ0FBWXNILFFBQVosSUFBd0J4RCxLQUFLLENBQUM5RCxLQUFOLENBQVlzSCxRQUFaLENBQXFCTCxDQUFyQixDQUF4QjtBQUNELEtBRkQ7O0FBSUFuRCxJQUFBQSxLQUFLLENBQUM0RCxlQUFOLEdBQXdCLFVBQVVULENBQVYsRUFBYTtBQUNuQ25ELE1BQUFBLEtBQUssQ0FBQzZELG9DQUFOLENBQTJDN0QsS0FBSyxDQUFDOEQsaUJBQU4sRUFBM0M7O0FBRUE5RCxNQUFBQSxLQUFLLENBQUN0RCxhQUFOLEdBQXNCc0QsS0FBSyxDQUFDcUQsYUFBTixDQUFvQkYsQ0FBQyxDQUFDRyxXQUFGLENBQWNDLE1BQWxDLENBQXRCO0FBQ0QsS0FKRDs7QUFNQXZELElBQUFBLEtBQUssQ0FBQytELGVBQU4sR0FBd0IsVUFBVVosQ0FBVixFQUFhO0FBQ25DbkQsTUFBQUEsS0FBSyxDQUFDeUIsYUFBTixHQUFzQnpCLEtBQUssQ0FBQ3FELGFBQU4sQ0FBb0JGLENBQUMsQ0FBQ0csV0FBRixDQUFjQyxNQUFsQyxDQUF0QjtBQUNELEtBRkQ7O0FBSUF2RCxJQUFBQSxLQUFLLENBQUNnRSxvQkFBTixHQUE2QixVQUFVQyxLQUFWLEVBQWlCQyxNQUFqQixFQUF5QjtBQUNwRCxVQUFJRCxLQUFLLEdBQUcsQ0FBUixJQUFhQyxNQUFNLEdBQUcsQ0FBdEIsSUFBMkJsRSxLQUFLLENBQUM5RCxLQUFOLENBQVlpSSxrQkFBWixJQUFrQyxJQUE3RCxJQUFxRW5FLEtBQUssQ0FBQzlELEtBQU4sQ0FBWWlJLGtCQUFaLEdBQWlDLENBQXRHLElBQTJHLENBQUNuRSxLQUFLLENBQUN1QixxQkFBdEgsRUFBNkk7QUFDM0l2QixRQUFBQSxLQUFLLENBQUN1QixxQkFBTixHQUE4QixJQUE5QjtBQUNEOztBQUVELFVBQUl2QixLQUFLLENBQUM5RCxLQUFOLENBQVlrSSxtQkFBaEIsRUFBcUM7QUFDbkNwRSxRQUFBQSxLQUFLLENBQUM5RCxLQUFOLENBQVlrSSxtQkFBWixDQUFnQ0gsS0FBaEMsRUFBdUNDLE1BQXZDO0FBQ0Q7O0FBRURsRSxNQUFBQSxLQUFLLENBQUNyRCxjQUFOLENBQXFCbUYsYUFBckIsR0FBcUM5QixLQUFLLENBQUNxRCxhQUFOLENBQW9CO0FBQ3ZEYSxRQUFBQSxNQUFNLEVBQUVBLE1BRCtDO0FBRXZERCxRQUFBQSxLQUFLLEVBQUVBO0FBRmdELE9BQXBCLENBQXJDOztBQUtBakUsTUFBQUEsS0FBSyxDQUFDeUQsNEJBQU47O0FBRUF6RCxNQUFBQSxLQUFLLENBQUMwRCxzQkFBTjtBQUNELEtBakJEOztBQW1CQTFELElBQUFBLEtBQUssQ0FBQ3FFLDJCQUFOLEdBQW9DLFVBQVVDLE9BQVYsRUFBbUI7QUFFckQsVUFBSS9ILE1BQU0sR0FBRytILE9BQU8sQ0FBQy9ILE1BQVIsR0FBaUJ5RCxLQUFLLENBQUM0QixnQ0FBcEM7QUFFQSxVQUFJaEYsYUFBYSxHQUFHMEgsT0FBTyxDQUFDMUgsYUFBNUI7QUFDQSxVQUFJbUYsT0FBTyxHQUFHeEYsTUFBTSxHQUFHeUQsS0FBSyxDQUFDckQsY0FBTixDQUFxQkosTUFBNUM7QUFDQSxVQUFJdUYsYUFBYSxHQUFHOUIsS0FBSyxDQUFDckQsY0FBTixDQUFxQm1GLGFBQXpDO0FBQ0EsYUFBTztBQUNMbEYsUUFBQUEsYUFBYSxFQUFFQSxhQURWO0FBRUxrRixRQUFBQSxhQUFhLEVBQUVBLGFBRlY7QUFHTHZGLFFBQUFBLE1BQU0sRUFBRUEsTUFISDtBQUlMd0YsUUFBQUEsT0FBTyxFQUFFQTtBQUpKLE9BQVA7QUFNRCxLQWJEOztBQWVBL0IsSUFBQUEsS0FBSyxDQUFDdUUsU0FBTixHQUFrQixVQUFVcEIsQ0FBVixFQUFhO0FBQzdCbkQsTUFBQUEsS0FBSyxDQUFDekIsaUJBQU4sQ0FBd0JyRSxPQUF4QixDQUFnQyxVQUFVc0UsU0FBVixFQUFxQjtBQUNuREEsUUFBQUEsU0FBUyxDQUFDQyxHQUFWLElBQWlCRCxTQUFTLENBQUNDLEdBQVYsQ0FBYzhGLFNBQWQsQ0FBd0JwQixDQUF4QixDQUFqQjtBQUNELE9BRkQ7O0FBSUEsVUFBSW5ELEtBQUssQ0FBQzlELEtBQU4sQ0FBWXNJLFFBQWhCLEVBQTBCO0FBQ3hCeEUsUUFBQUEsS0FBSyxDQUFDOUQsS0FBTixDQUFZc0ksUUFBWixDQUFxQnJCLENBQXJCO0FBQ0Q7O0FBRUQsVUFBSWxCLFNBQVMsR0FBR2tCLENBQUMsQ0FBQ3NCLFNBQWxCOztBQUVBLFVBQUk3SCxhQUFhLEdBQUdvRCxLQUFLLENBQUNxRCxhQUFOLENBQW9CRixDQUFDLENBQUNHLFdBQUYsQ0FBY29CLGlCQUFsQyxDQUFwQjs7QUFFQSxVQUFJNUMsYUFBYSxHQUFHOUIsS0FBSyxDQUFDcUQsYUFBTixDQUFvQkYsQ0FBQyxDQUFDRyxXQUFGLENBQWNxQixXQUFsQyxDQUFwQjs7QUFFQSxVQUFJcEksTUFBTSxHQUFHeUQsS0FBSyxDQUFDNEUsYUFBTixDQUFvQnpCLENBQUMsQ0FBQ0csV0FBRixDQUFjdUIsYUFBbEMsQ0FBYjs7QUFFQSxVQUFJOUMsT0FBTyxHQUFHeEYsTUFBTSxHQUFHeUQsS0FBSyxDQUFDckQsY0FBTixDQUFxQkosTUFBNUM7O0FBRUEsVUFBSXlELEtBQUssQ0FBQ0csNEJBQU4sRUFBSixFQUEwQztBQUN4QyxZQUFJSCxLQUFLLENBQUNyRCxjQUFOLENBQXFCbUYsYUFBckIsS0FBdUMsQ0FBM0MsRUFBOEM7QUFHNUM7QUFDRDs7QUFFRCxZQUFJZ0QscUJBQXFCLEdBQUc5RSxLQUFLLENBQUNxRSwyQkFBTixDQUFrQztBQUM1RHpILFVBQUFBLGFBQWEsRUFBRUEsYUFENkM7QUFFNURMLFVBQUFBLE1BQU0sRUFBRUE7QUFGb0QsU0FBbEMsQ0FBNUI7O0FBS0FLLFFBQUFBLGFBQWEsR0FBR2tJLHFCQUFxQixDQUFDbEksYUFBdEM7QUFDQWtGLFFBQUFBLGFBQWEsR0FBR2dELHFCQUFxQixDQUFDaEQsYUFBdEM7QUFDQXZGLFFBQUFBLE1BQU0sR0FBR3VJLHFCQUFxQixDQUFDdkksTUFBL0I7QUFDQXdGLFFBQUFBLE9BQU8sR0FBRytDLHFCQUFxQixDQUFDL0MsT0FBaEM7QUFDRDs7QUFFRCxVQUFJQyxFQUFFLEdBQUdoQyxLQUFLLENBQUNyRCxjQUFOLENBQXFCc0YsU0FBckIsR0FBaUN6RixJQUFJLENBQUNDLEdBQUwsQ0FBUyxDQUFULEVBQVl3RixTQUFTLEdBQUdqQyxLQUFLLENBQUNyRCxjQUFOLENBQXFCc0YsU0FBN0MsQ0FBakMsR0FBMkYsQ0FBcEc7QUFDQSxVQUFJQyxRQUFRLEdBQUdILE9BQU8sR0FBR0MsRUFBekI7O0FBRUEsVUFBSUEsRUFBRSxHQUFHLEdBQUwsSUFBWWhDLEtBQUssQ0FBQ3JELGNBQU4sQ0FBcUJxRixFQUFyQixHQUEwQixHQUF0QyxJQUE2Q0YsYUFBYSxHQUFHLElBQUlsRixhQUFqRSxJQUFrRixDQUFDb0QsS0FBSyxDQUFDd0IsVUFBTixDQUFpQnVELElBQXhHLEVBQThHO0FBQzVHLFNBQUMsR0FBR2hQLFFBQVEsQ0FBQ2YsT0FBYixFQUFzQixvRkFBb0Ysc0ZBQXBGLEdBQTZLLGlEQUFuTSxFQUFzUDtBQUNwUGdOLFVBQUFBLEVBQUUsRUFBRUEsRUFEZ1A7QUFFcFBnRCxVQUFBQSxNQUFNLEVBQUVoRixLQUFLLENBQUNyRCxjQUFOLENBQXFCcUYsRUFGdU47QUFHcFBGLFVBQUFBLGFBQWEsRUFBRUE7QUFIcU8sU0FBdFA7QUFLQTlCLFFBQUFBLEtBQUssQ0FBQ3dCLFVBQU4sQ0FBaUJ1RCxJQUFqQixHQUF3QixJQUF4QjtBQUNEOztBQUVEL0UsTUFBQUEsS0FBSyxDQUFDckQsY0FBTixHQUF1QjtBQUNyQm1GLFFBQUFBLGFBQWEsRUFBRUEsYUFETTtBQUVyQkUsUUFBQUEsRUFBRSxFQUFFQSxFQUZpQjtBQUdyQkQsUUFBQUEsT0FBTyxFQUFFQSxPQUhZO0FBSXJCeEYsUUFBQUEsTUFBTSxFQUFFQSxNQUphO0FBS3JCMEYsUUFBQUEsU0FBUyxFQUFFQSxTQUxVO0FBTXJCQyxRQUFBQSxRQUFRLEVBQUVBLFFBTlc7QUFPckJ0RixRQUFBQSxhQUFhLEVBQUVBO0FBUE0sT0FBdkI7O0FBVUFvRCxNQUFBQSxLQUFLLENBQUNuQixvQkFBTixDQUEyQm1CLEtBQUssQ0FBQzlELEtBQU4sQ0FBWUUsSUFBdkM7O0FBRUEsVUFBSSxDQUFDNEQsS0FBSyxDQUFDOUQsS0FBWCxFQUFrQjtBQUNoQjtBQUNEOztBQUVEOEQsTUFBQUEsS0FBSyxDQUFDMEQsc0JBQU47O0FBRUEsVUFBSXhCLFFBQVEsS0FBSyxDQUFqQixFQUFvQjtBQUNsQmxDLFFBQUFBLEtBQUssQ0FBQ2lGLGVBQU4sQ0FBc0JDLFFBQXRCO0FBQ0Q7O0FBRURsRixNQUFBQSxLQUFLLENBQUNtRixpQkFBTjs7QUFFQW5GLE1BQUFBLEtBQUssQ0FBQ3lELDRCQUFOO0FBQ0QsS0ExRUQ7O0FBNEVBekQsSUFBQUEsS0FBSyxDQUFDb0Ysa0JBQU4sR0FBMkIsVUFBVWpDLENBQVYsRUFBYTtBQUN0Q25ELE1BQUFBLEtBQUssQ0FBQ3pCLGlCQUFOLENBQXdCckUsT0FBeEIsQ0FBZ0MsVUFBVXNFLFNBQVYsRUFBcUI7QUFDbkRBLFFBQUFBLFNBQVMsQ0FBQ0MsR0FBVixJQUFpQkQsU0FBUyxDQUFDQyxHQUFWLENBQWMyRyxrQkFBZCxDQUFpQ2pDLENBQWpDLENBQWpCO0FBQ0QsT0FGRDs7QUFJQW5ELE1BQUFBLEtBQUssQ0FBQ3RCLGtCQUFOLENBQXlCeEUsT0FBekIsQ0FBaUMsVUFBVW1MLEtBQVYsRUFBaUI7QUFDaERBLFFBQUFBLEtBQUssQ0FBQ3pHLGlCQUFOLENBQXdCTixpQkFBeEI7QUFDRCxPQUZEOztBQUlBMEIsTUFBQUEsS0FBSyxDQUFDZSxjQUFOLEdBQXVCLElBQXZCO0FBQ0FmLE1BQUFBLEtBQUssQ0FBQzlELEtBQU4sQ0FBWW9KLGlCQUFaLElBQWlDdEYsS0FBSyxDQUFDOUQsS0FBTixDQUFZb0osaUJBQVosQ0FBOEJuQyxDQUE5QixDQUFqQztBQUNELEtBWEQ7O0FBYUFuRCxJQUFBQSxLQUFLLENBQUN1RixnQkFBTixHQUF5QixVQUFVcEMsQ0FBVixFQUFhO0FBQ3BDbkQsTUFBQUEsS0FBSyxDQUFDekIsaUJBQU4sQ0FBd0JyRSxPQUF4QixDQUFnQyxVQUFVc0UsU0FBVixFQUFxQjtBQUNuREEsUUFBQUEsU0FBUyxDQUFDQyxHQUFWLElBQWlCRCxTQUFTLENBQUNDLEdBQVYsQ0FBYzhHLGdCQUFkLENBQStCcEMsQ0FBL0IsQ0FBakI7QUFDRCxPQUZEOztBQUlBLFVBQUlqQixRQUFRLEdBQUdpQixDQUFDLENBQUNHLFdBQUYsQ0FBY3BCLFFBQTdCOztBQUVBLFVBQUlBLFFBQUosRUFBYztBQUNabEMsUUFBQUEsS0FBSyxDQUFDckQsY0FBTixDQUFxQnVGLFFBQXJCLEdBQWdDbEMsS0FBSyxDQUFDNEUsYUFBTixDQUFvQjFDLFFBQXBCLENBQWhDO0FBQ0Q7O0FBRURsQyxNQUFBQSxLQUFLLENBQUNtRixpQkFBTjs7QUFFQW5GLE1BQUFBLEtBQUssQ0FBQzlELEtBQU4sQ0FBWXNKLGVBQVosSUFBK0J4RixLQUFLLENBQUM5RCxLQUFOLENBQVlzSixlQUFaLENBQTRCckMsQ0FBNUIsQ0FBL0I7QUFDRCxLQWREOztBQWdCQW5ELElBQUFBLEtBQUssQ0FBQ3lGLHNCQUFOLEdBQStCLFVBQVV0QyxDQUFWLEVBQWE7QUFDMUNuRCxNQUFBQSxLQUFLLENBQUN6QixpQkFBTixDQUF3QnJFLE9BQXhCLENBQWdDLFVBQVVzRSxTQUFWLEVBQXFCO0FBQ25EQSxRQUFBQSxTQUFTLENBQUNDLEdBQVYsSUFBaUJELFNBQVMsQ0FBQ0MsR0FBVixDQUFjZ0gsc0JBQWQsQ0FBcUN0QyxDQUFyQyxDQUFqQjtBQUNELE9BRkQ7O0FBSUFuRCxNQUFBQSxLQUFLLENBQUM5RCxLQUFOLENBQVl3SixxQkFBWixJQUFxQzFGLEtBQUssQ0FBQzlELEtBQU4sQ0FBWXdKLHFCQUFaLENBQWtDdkMsQ0FBbEMsQ0FBckM7QUFDRCxLQU5EOztBQVFBbkQsSUFBQUEsS0FBSyxDQUFDMkYsb0JBQU4sR0FBNkIsVUFBVXhDLENBQVYsRUFBYTtBQUN4Q25ELE1BQUFBLEtBQUssQ0FBQ3pCLGlCQUFOLENBQXdCckUsT0FBeEIsQ0FBZ0MsVUFBVXNFLFNBQVYsRUFBcUI7QUFDbkRBLFFBQUFBLFNBQVMsQ0FBQ0MsR0FBVixJQUFpQkQsU0FBUyxDQUFDQyxHQUFWLENBQWNrSCxvQkFBZCxDQUFtQ3hDLENBQW5DLENBQWpCO0FBQ0QsT0FGRDs7QUFJQW5ELE1BQUFBLEtBQUssQ0FBQ3JELGNBQU4sQ0FBcUJ1RixRQUFyQixHQUFnQyxDQUFoQzs7QUFFQWxDLE1BQUFBLEtBQUssQ0FBQ21GLGlCQUFOOztBQUVBbkYsTUFBQUEsS0FBSyxDQUFDOUQsS0FBTixDQUFZMEosbUJBQVosSUFBbUM1RixLQUFLLENBQUM5RCxLQUFOLENBQVkwSixtQkFBWixDQUFnQ3pDLENBQWhDLENBQW5DO0FBQ0QsS0FWRDs7QUFZQW5ELElBQUFBLEtBQUssQ0FBQzZGLG9CQUFOLEdBQTZCLFlBQVk7QUFDdkMsVUFBSUMsWUFBWSxHQUFHOUYsS0FBSyxDQUFDOUQsS0FBekI7QUFBQSxVQUNJRSxJQUFJLEdBQUcwSixZQUFZLENBQUMxSixJQUR4QjtBQUFBLFVBRUlELFlBQVksR0FBRzJKLFlBQVksQ0FBQzNKLFlBRmhDO0FBQUEsVUFHSTRKLHFCQUFxQixHQUFHRCxZQUFZLENBQUNDLHFCQUh6Qzs7QUFLQSxVQUFJQyx3QkFBd0IsR0FBR2hHLEtBQUssQ0FBQ2lHLHlCQUFOLEVBQS9COztBQUVBakcsTUFBQUEsS0FBSyxDQUFDbkIsb0JBQU4sQ0FBMkJ6QyxJQUEzQjs7QUFFQSxVQUFJLENBQUNBLElBQUwsRUFBVztBQUNUO0FBQ0Q7O0FBRUQ0RCxNQUFBQSxLQUFLLENBQUNrRyxRQUFOLENBQWUsVUFBVTNGLEtBQVYsRUFBaUI7QUFDOUIsWUFBSTRGLFFBQUo7QUFDQSxZQUFJQyxvQkFBb0IsR0FBR3BHLEtBQUssQ0FBQ3JELGNBQWpDO0FBQUEsWUFDSW1GLGFBQWEsR0FBR3NFLG9CQUFvQixDQUFDdEUsYUFEekM7QUFBQSxZQUVJdkYsTUFBTSxHQUFHNkosb0JBQW9CLENBQUM3SixNQUZsQztBQUFBLFlBR0lLLGFBQWEsR0FBR3dKLG9CQUFvQixDQUFDeEosYUFIekM7O0FBS0EsWUFBSSxDQUFDb0osd0JBQUwsRUFBK0I7QUFLN0IsY0FBSXBKLGFBQWEsR0FBRyxDQUFoQixJQUFxQmtGLGFBQWEsR0FBRyxDQUF6QyxFQUE0QztBQUsxQyxnQkFBSSxDQUFDOUIsS0FBSyxDQUFDOUQsS0FBTixDQUFZaUksa0JBQWIsSUFBbUNuRSxLQUFLLENBQUNyRCxjQUFOLENBQXFCSixNQUE1RCxFQUFvRTtBQUNsRTRKLGNBQUFBLFFBQVEsR0FBRyxDQUFDLEdBQUdqUSxnQkFBZ0IsQ0FBQ21RLDJCQUFyQixFQUFrRHJHLEtBQUssQ0FBQzlELEtBQXhELEVBQStEcUUsS0FBL0QsRUFBc0VQLEtBQUssQ0FBQzFELHNCQUE1RSxFQUFvRzBELEtBQUssQ0FBQ3JELGNBQTFHLENBQVg7QUFDRDtBQUNGO0FBQ0YsU0FkRCxNQWNPO0FBQ0wsY0FBSTJKLGVBQWUsR0FBR3hFLGFBQWEsR0FBR2xGLGFBQWhCLEdBQWdDTCxNQUF0RDtBQUNBLGNBQUlnSyxXQUFXLEdBSWZELGVBQWUsR0FBR1AscUJBQXFCLEdBQUduSixhQUExQyxHQUEwRG9ELEtBQUssQ0FBQzlELEtBQU4sQ0FBWXNLLG1CQUF0RSxHQUE0RixDQUo1RjtBQUtBTCxVQUFBQSxRQUFRLEdBQUc7QUFDVE0sWUFBQUEsS0FBSyxFQUFFLENBREU7QUFFVEMsWUFBQUEsSUFBSSxFQUFFbEssSUFBSSxDQUFDbUssR0FBTCxDQUFTcEcsS0FBSyxDQUFDbUcsSUFBTixHQUFhSCxXQUF0QixFQUFtQ3BLLFlBQVksQ0FBQ0MsSUFBRCxDQUFaLEdBQXFCLENBQXhEO0FBRkcsV0FBWDtBQUlEOztBQUVELFlBQUkrSixRQUFRLElBQUluRyxLQUFLLENBQUN6QixpQkFBTixDQUF3QnFJLElBQXhCLEdBQStCLENBQS9DLEVBQWtEO0FBQ2hELGNBQUlDLFFBQVEsR0FBR1YsUUFBUSxDQUFDTSxLQUF4QjtBQUNBLGNBQUlLLE9BQU8sR0FBR1gsUUFBUSxDQUFDTyxJQUF2Qjs7QUFLQSxlQUFLLElBQUlLLEVBQUUsR0FBR0YsUUFBZCxFQUF3QkUsRUFBRSxJQUFJRCxPQUE5QixFQUF1Q0MsRUFBRSxFQUF6QyxFQUE2QztBQUMzQyxnQkFBSUMsZUFBZSxHQUFHaEgsS0FBSyxDQUFDMkIsY0FBTixDQUFxQmxMLEdBQXJCLENBQXlCc1EsRUFBekIsQ0FBdEI7O0FBRUEsZ0JBQUlFLGFBQWEsR0FBR0QsZUFBZSxJQUFJaEgsS0FBSyxDQUFDVSx3QkFBTixDQUErQmpLLEdBQS9CLENBQW1DdVEsZUFBbkMsQ0FBdkM7O0FBRUEsZ0JBQUksQ0FBQ0MsYUFBTCxFQUFvQjtBQUNsQjtBQUNEOztBQUVELGdCQUFJQyxnQkFBZ0IsR0FBRyxLQUF2Qjs7QUFFQSxpQkFBSyxJQUFJQyxTQUFTLEdBQUc5UCwrQkFBK0IsQ0FBQzRQLGFBQUQsQ0FBL0MsRUFBZ0VHLEtBQXJFLEVBQTRFLENBQUMsQ0FBQ0EsS0FBSyxHQUFHRCxTQUFTLEVBQWxCLEVBQXNCblAsSUFBbkcsR0FBMEc7QUFDeEcsa0JBQUlxUCxRQUFRLEdBQUdELEtBQUssQ0FBQ25QLEtBQXJCOztBQUVBLGtCQUFJdUcsU0FBUyxHQUFHd0IsS0FBSyxDQUFDekIsaUJBQU4sQ0FBd0I5SCxHQUF4QixDQUE0QjRRLFFBQTVCLENBQWhCOztBQUVBLGtCQUFJN0ksU0FBUyxJQUFJQSxTQUFTLENBQUNDLEdBQXZCLElBQThCRCxTQUFTLENBQUNDLEdBQVYsQ0FBY29CLE9BQWQsRUFBbEMsRUFBMkQ7QUFDekRxSCxnQkFBQUEsZ0JBQWdCLEdBQUcsSUFBbkI7QUFDQTtBQUNEO0FBQ0Y7O0FBRUQsZ0JBQUlBLGdCQUFnQixJQUFJZixRQUF4QixFQUFrQztBQUNoQ0EsY0FBQUEsUUFBUSxDQUFDTyxJQUFULEdBQWdCSyxFQUFoQjtBQUNBO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFlBQUlaLFFBQVEsSUFBSSxJQUFaLElBQW9CQSxRQUFRLENBQUNNLEtBQVQsS0FBbUJsRyxLQUFLLENBQUNrRyxLQUE3QyxJQUFzRE4sUUFBUSxDQUFDTyxJQUFULEtBQWtCbkcsS0FBSyxDQUFDbUcsSUFBbEYsRUFBd0Y7QUFDdEZQLFVBQUFBLFFBQVEsR0FBRyxJQUFYO0FBQ0Q7O0FBRUQsZUFBT0EsUUFBUDtBQUNELE9BM0VEO0FBNEVELEtBMUZEOztBQTRGQW5HLElBQUFBLEtBQUssQ0FBQ3NILGdCQUFOLEdBQXlCLFVBQVU5SixLQUFWLEVBQWlCK0osVUFBakIsRUFBNkI7QUFDcEQsVUFBSUMsWUFBWSxHQUFHeEgsS0FBSyxDQUFDOUQsS0FBekI7QUFBQSxVQUNJRSxJQUFJLEdBQUdvTCxZQUFZLENBQUNwTCxJQUR4QjtBQUFBLFVBRUk4QixPQUFPLEdBQUdzSixZQUFZLENBQUN0SixPQUYzQjtBQUFBLFVBR0l1SixZQUFZLEdBQUdELFlBQVksQ0FBQ0MsWUFIaEM7QUFJQSxVQUFJekosSUFBSSxHQUFHRSxPQUFPLENBQUM5QixJQUFELEVBQU9vQixLQUFQLENBQWxCO0FBQ0EsYUFBTztBQUNMQSxRQUFBQSxLQUFLLEVBQUVBLEtBREY7QUFFTFEsUUFBQUEsSUFBSSxFQUFFQSxJQUZEO0FBR0xqSCxRQUFBQSxHQUFHLEVBQUUwUSxZQUFZLENBQUN6SixJQUFELEVBQU9SLEtBQVAsQ0FIWjtBQUlMK0osUUFBQUEsVUFBVSxFQUFFQTtBQUpQLE9BQVA7QUFNRCxLQVpEOztBQWNBdkgsSUFBQUEsS0FBSyxDQUFDMUQsc0JBQU4sR0FBK0IsVUFBVWtCLEtBQVYsRUFBaUI7QUFDOUMsVUFBSW5CLEtBQUssR0FBRzJELEtBQUssQ0FBQzBILGdCQUFOLENBQXVCbEssS0FBdkIsQ0FBWjs7QUFFQSxVQUFJbkIsS0FBSyxJQUFJQSxLQUFLLENBQUNtQixLQUFOLEtBQWdCQSxLQUE3QixFQUFvQztBQUVsQyxlQUFPbkIsS0FBUDtBQUNELE9BSEQsTUFHTztBQUNMLFlBQUlpQixhQUFhLEdBQUcwQyxLQUFLLENBQUM5RCxLQUFOLENBQVlvQixhQUFoQztBQUNBLFNBQUMsR0FBR3RILFVBQVUsQ0FBQ2hCLE9BQWYsRUFBd0IsQ0FBQ3NJLGFBQXpCLEVBQXdDLG9GQUF4QztBQUNBLGVBQU87QUFDTHhGLFVBQUFBLE1BQU0sRUFBRWtJLEtBQUssQ0FBQ25DLGtCQURUO0FBRUx0QixVQUFBQSxNQUFNLEVBQUV5RCxLQUFLLENBQUNuQyxrQkFBTixHQUEyQkw7QUFGOUIsU0FBUDtBQUlEO0FBQ0YsS0FkRDs7QUFnQkF3QyxJQUFBQSxLQUFLLENBQUMwSCxnQkFBTixHQUF5QixVQUFVbEssS0FBVixFQUFpQjtBQUN4QyxVQUFJbUssWUFBWSxHQUFHM0gsS0FBSyxDQUFDOUQsS0FBekI7QUFBQSxVQUNJRSxJQUFJLEdBQUd1TCxZQUFZLENBQUN2TCxJQUR4QjtBQUFBLFVBRUk4QixPQUFPLEdBQUd5SixZQUFZLENBQUN6SixPQUYzQjtBQUFBLFVBR0kvQixZQUFZLEdBQUd3TCxZQUFZLENBQUN4TCxZQUhoQztBQUFBLFVBSUltQixhQUFhLEdBQUdxSyxZQUFZLENBQUNySyxhQUpqQztBQUFBLFVBS0ltSyxZQUFZLEdBQUdFLFlBQVksQ0FBQ0YsWUFMaEM7QUFNQSxPQUFDLEdBQUd6UixVQUFVLENBQUNoQixPQUFmLEVBQXdCbUgsWUFBWSxDQUFDQyxJQUFELENBQVosR0FBcUJvQixLQUE3QyxFQUFvRCwrQ0FBK0NBLEtBQW5HO0FBQ0EsVUFBSVEsSUFBSSxHQUFHRSxPQUFPLENBQUM5QixJQUFELEVBQU9vQixLQUFQLENBQWxCOztBQUVBLFVBQUluQixLQUFLLEdBQUcyQixJQUFJLElBQUlnQyxLQUFLLENBQUNzQixPQUFOLENBQWNtRyxZQUFZLENBQUN6SixJQUFELEVBQU9SLEtBQVAsQ0FBMUIsQ0FBcEI7O0FBRUEsVUFBSSxDQUFDbkIsS0FBRCxJQUFVQSxLQUFLLENBQUNtQixLQUFOLEtBQWdCQSxLQUE5QixFQUFxQztBQUNuQyxZQUFJRixhQUFKLEVBQW1CO0FBQ2pCakIsVUFBQUEsS0FBSyxHQUFHaUIsYUFBYSxDQUFDbEIsSUFBRCxFQUFPb0IsS0FBUCxDQUFyQjtBQUNEO0FBQ0Y7O0FBTUQsYUFBT25CLEtBQVA7QUFDRCxLQXZCRDs7QUF5QkEsS0FBQyxHQUFHckcsVUFBVSxDQUFDaEIsT0FBZixFQUNBLENBQUMrSyxNQUFNLENBQUN5RSxRQUFSLElBQW9CLENBQUN6RSxNQUFNLENBQUN5RSxRQUFQLENBQWdCb0QsVUFEckMsRUFDaUQsK0ZBQStGLHdEQURoSjtBQUVBLEtBQUMsR0FBRzVSLFVBQVUsQ0FBQ2hCLE9BQWYsRUFBd0IrSyxNQUFNLENBQUM4SCxVQUFQLEdBQW9CLENBQTVDLEVBQStDLHlGQUEvQztBQUNBN0gsSUFBQUEsS0FBSyxDQUFDaUYsZUFBTixHQUF3QixJQUFJN1AsZUFBZSxDQUFDSixPQUFwQixDQUE0QmdMLEtBQUssQ0FBQzBILGdCQUFsQyxDQUF4QjtBQUNBMUgsSUFBQUEsS0FBSyxDQUFDOEgsMkJBQU4sR0FBb0MsSUFBSTdTLFlBQVksQ0FBQ0QsT0FBakIsQ0FBeUJnTCxLQUFLLENBQUM2RixvQkFBL0IsRUFBcUQ3RixLQUFLLENBQUM5RCxLQUFOLENBQVk2TCx5QkFBakUsQ0FBcEM7O0FBRUEsUUFBSS9ILEtBQUssQ0FBQzlELEtBQU4sQ0FBWThMLDhCQUFoQixFQUFnRDtBQUM5Q2hJLE1BQUFBLEtBQUssQ0FBQ3RCLGtCQUFOLEdBQTJCc0IsS0FBSyxDQUFDOUQsS0FBTixDQUFZOEwsOEJBQVosQ0FBMkNDLEdBQTNDLENBQStDLFVBQVVDLElBQVYsRUFBZ0I7QUFDeEYsZUFBTztBQUNMdEosVUFBQUEsaUJBQWlCLEVBQUUsSUFBSS9JLGtCQUFrQixDQUFDYixPQUF2QixDQUErQmtULElBQUksQ0FBQ0MsaUJBQXBDLENBRGQ7QUFFTEMsVUFBQUEsc0JBQXNCLEVBQUVGLElBQUksQ0FBQ0U7QUFGeEIsU0FBUDtBQUlELE9BTDBCLENBQTNCO0FBTUQsS0FQRCxNQU9PLElBQUlwSSxLQUFLLENBQUM5RCxLQUFOLENBQVlrTSxzQkFBaEIsRUFBd0M7QUFDN0MsVUFBSUEsc0JBQXNCLEdBQUdwSSxLQUFLLENBQUM5RCxLQUFOLENBQVlrTSxzQkFBekM7O0FBRUFwSSxNQUFBQSxLQUFLLENBQUN0QixrQkFBTixDQUF5QjFFLElBQXpCLENBQThCO0FBQzVCNEUsUUFBQUEsaUJBQWlCLEVBQUUsSUFBSS9JLGtCQUFrQixDQUFDYixPQUF2QixDQUErQmdMLEtBQUssQ0FBQzlELEtBQU4sQ0FBWWlNLGlCQUEzQyxDQURTO0FBRTVCQyxRQUFBQSxzQkFBc0IsRUFBRUE7QUFGSSxPQUE5QjtBQUlEOztBQUVELFFBQUlDLFlBQVksR0FBRztBQUNqQjVCLE1BQUFBLEtBQUssRUFBRXpHLEtBQUssQ0FBQzlELEtBQU4sQ0FBWWlJLGtCQUFaLElBQWtDLENBRHhCO0FBRWpCdUMsTUFBQUEsSUFBSSxFQUFFbEssSUFBSSxDQUFDbUssR0FBTCxDQUFTM0csS0FBSyxDQUFDOUQsS0FBTixDQUFZQyxZQUFaLENBQXlCNkQsS0FBSyxDQUFDOUQsS0FBTixDQUFZRSxJQUFyQyxDQUFULEVBQXFELENBQUM0RCxLQUFLLENBQUM5RCxLQUFOLENBQVlpSSxrQkFBWixJQUFrQyxDQUFuQyxJQUF3Q25FLEtBQUssQ0FBQzlELEtBQU4sQ0FBWW9NLGtCQUF6RyxJQUErSDtBQUZwSCxLQUFuQjs7QUFLQSxRQUFJdEksS0FBSyxDQUFDRyw0QkFBTixFQUFKLEVBQTBDO0FBQ3hDLFVBQUlvSSxXQUFXLEdBQUd2SSxLQUFLLENBQUNYLE9BQU4sQ0FBY21KLG1CQUFkLENBQWtDeEksS0FBSyxDQUFDVCxXQUFOLEVBQWxDLENBQWxCOztBQUVBLFVBQUlnSixXQUFKLEVBQWlCO0FBQ2ZGLFFBQUFBLFlBQVksR0FBR0UsV0FBZjtBQUNBdkksUUFBQUEsS0FBSyxDQUFDTyxLQUFOLEdBQWNnSSxXQUFkO0FBQ0F2SSxRQUFBQSxLQUFLLENBQUNzQixPQUFOLEdBQWdCaUgsV0FBVyxDQUFDRSxNQUE1QjtBQUNEO0FBQ0Y7O0FBRUR6SSxJQUFBQSxLQUFLLENBQUNPLEtBQU4sR0FBYzhILFlBQWQ7QUFDQSxXQUFPckksS0FBUDtBQUNEOztBQUVEbkUsRUFBQUEsTUFBTSxDQUFDNk0saUJBQVAsR0FBMkIsU0FBU0EsaUJBQVQsR0FBNkI7QUFDdEQsUUFBSSxLQUFLdkksNEJBQUwsRUFBSixFQUF5QztBQUN2QyxXQUFLZCxPQUFMLENBQWFzSixxQkFBYixDQUFtQztBQUNqQ3JKLFFBQUFBLE9BQU8sRUFBRSxLQUFLSCxXQUFMLEVBRHdCO0FBRWpDcEksUUFBQUEsR0FBRyxFQUFFLEtBQUt3SSxXQUFMLEVBRjRCO0FBR2pDZCxRQUFBQSxHQUFHLEVBQUUsSUFINEI7QUFRakNtSyxRQUFBQSxlQUFlLEVBQUUsS0FBS3ZKLE9BQUwsQ0FBYU87QUFSRyxPQUFuQztBQVVEO0FBQ0YsR0FiRDs7QUFlQS9ELEVBQUFBLE1BQU0sQ0FBQ2dOLG9CQUFQLEdBQThCLFNBQVNBLG9CQUFULEdBQWdDO0FBQzVELFFBQUksS0FBSzFJLDRCQUFMLEVBQUosRUFBeUM7QUFDdkMsV0FBS2QsT0FBTCxDQUFheUosdUJBQWIsQ0FBcUM7QUFDbkMvUixRQUFBQSxHQUFHLEVBQUUsS0FBS3dJLFdBQUwsRUFEOEI7QUFFbkNnQixRQUFBQSxLQUFLLEVBQUU7QUFDTGtHLFVBQUFBLEtBQUssRUFBRSxLQUFLbEcsS0FBTCxDQUFXa0csS0FEYjtBQUVMQyxVQUFBQSxJQUFJLEVBQUUsS0FBS25HLEtBQUwsQ0FBV21HLElBRlo7QUFHTCtCLFVBQUFBLE1BQU0sRUFBRSxLQUFLbkg7QUFIUjtBQUY0QixPQUFyQztBQVFEOztBQUVELFNBQUt6QyxvQkFBTCxDQUEwQixJQUExQjs7QUFFQSxTQUFLaUosMkJBQUwsQ0FBaUNpQixPQUFqQyxDQUF5QztBQUN2Q0MsTUFBQUEsS0FBSyxFQUFFO0FBRGdDLEtBQXpDOztBQUlBLFNBQUt0SyxrQkFBTCxDQUF3QnhFLE9BQXhCLENBQWdDLFVBQVVtTCxLQUFWLEVBQWlCO0FBQy9DQSxNQUFBQSxLQUFLLENBQUN6RyxpQkFBTixDQUF3Qm1LLE9BQXhCO0FBQ0QsS0FGRDs7QUFJQSxTQUFLOUQsZUFBTCxDQUFxQmdFLGtCQUFyQjtBQUNELEdBdkJEOztBQXlCQXROLEVBQUFBLGVBQWUsQ0FBQ3VOLHdCQUFoQixHQUEyQyxTQUFTQSx3QkFBVCxDQUFrQ2hJLFFBQWxDLEVBQTRDaUksU0FBNUMsRUFBdUQ7QUFDaEcsUUFBSS9NLElBQUksR0FBRzhFLFFBQVEsQ0FBQzlFLElBQXBCO0FBQUEsUUFDSUQsWUFBWSxHQUFHK0UsUUFBUSxDQUFDL0UsWUFENUI7QUFBQSxRQUVJcUssbUJBQW1CLEdBQUd0RixRQUFRLENBQUNzRixtQkFGbkM7QUFLQSxXQUFPO0FBQ0xDLE1BQUFBLEtBQUssRUFBRWpLLElBQUksQ0FBQ0MsR0FBTCxDQUFTLENBQVQsRUFBWUQsSUFBSSxDQUFDbUssR0FBTCxDQUFTd0MsU0FBUyxDQUFDMUMsS0FBbkIsRUFBMEJ0SyxZQUFZLENBQUNDLElBQUQsQ0FBWixHQUFxQixDQUFyQixHQUF5Qm9LLG1CQUFuRCxDQUFaLENBREY7QUFFTEUsTUFBQUEsSUFBSSxFQUFFbEssSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZRCxJQUFJLENBQUNtSyxHQUFMLENBQVN3QyxTQUFTLENBQUN6QyxJQUFuQixFQUF5QnZLLFlBQVksQ0FBQ0MsSUFBRCxDQUFaLEdBQXFCLENBQTlDLENBQVo7QUFGRCxLQUFQO0FBSUQsR0FWRDs7QUFZQVAsRUFBQUEsTUFBTSxDQUFDdU4sVUFBUCxHQUFvQixTQUFTQSxVQUFULENBQW9CQyxLQUFwQixFQUEyQkMsbUJBQTNCLEVBQWdEQyxzQkFBaEQsRUFBd0U5QyxLQUF4RSxFQUErRUMsSUFBL0UsRUFBcUY4QyxjQUFyRixFQUFxRztBQUN2SCxRQUFJQyxNQUFNLEdBQUcsSUFBYjs7QUFFQSxRQUFJQyxZQUFZLEdBQUcsS0FBS3hOLEtBQXhCO0FBQUEsUUFDSXlOLHFCQUFxQixHQUFHRCxZQUFZLENBQUNDLHFCQUR6QztBQUFBLFFBRUlDLHNCQUFzQixHQUFHRixZQUFZLENBQUNFLHNCQUYxQztBQUFBLFFBR0l4TixJQUFJLEdBQUdzTixZQUFZLENBQUN0TixJQUh4QjtBQUFBLFFBSUk4QixPQUFPLEdBQUd3TCxZQUFZLENBQUN4TCxPQUozQjtBQUFBLFFBS0kvQixZQUFZLEdBQUd1TixZQUFZLENBQUN2TixZQUxoQztBQUFBLFFBTUljLFVBQVUsR0FBR3lNLFlBQVksQ0FBQ3pNLFVBTjlCO0FBQUEsUUFPSXdLLFlBQVksR0FBR2lDLFlBQVksQ0FBQ2pDLFlBUGhDO0FBUUEsUUFBSW9DLFlBQVksR0FBRyxLQUFLM04sS0FBTCxDQUFXNE4sbUJBQVgsR0FBaUMsQ0FBakMsR0FBcUMsQ0FBeEQ7QUFDQSxRQUFJQyxHQUFHLEdBQUc1TixZQUFZLENBQUNDLElBQUQsQ0FBWixHQUFxQixDQUEvQjtBQUNBLFFBQUk0TixXQUFKO0FBQ0F0RCxJQUFBQSxJQUFJLEdBQUdsSyxJQUFJLENBQUNtSyxHQUFMLENBQVNvRCxHQUFULEVBQWNyRCxJQUFkLENBQVA7O0FBRUEsUUFBSXVELEtBQUssR0FBRyxTQUFTQSxLQUFULENBQWVsRCxFQUFmLEVBQW1CO0FBQzdCLFVBQUkvSSxJQUFJLEdBQUdFLE9BQU8sQ0FBQzlCLElBQUQsRUFBTzJLLEVBQVAsQ0FBbEI7QUFDQSxVQUFJaFEsR0FBRyxHQUFHMFEsWUFBWSxDQUFDekosSUFBRCxFQUFPK0ksRUFBUCxDQUF0Qjs7QUFFQTBDLE1BQUFBLE1BQU0sQ0FBQzlILGNBQVAsQ0FBc0J2SyxHQUF0QixDQUEwQjJQLEVBQTFCLEVBQThCaFEsR0FBOUI7O0FBRUEsVUFBSXdTLHNCQUFzQixDQUFDL1MsR0FBdkIsQ0FBMkJ1USxFQUFFLEdBQUc4QyxZQUFoQyxDQUFKLEVBQW1EO0FBQ2pEUCxRQUFBQSxtQkFBbUIsQ0FBQ3RQLElBQXBCLENBQXlCcVAsS0FBSyxDQUFDdlIsTUFBL0I7QUFDRDs7QUFFRHVSLE1BQUFBLEtBQUssQ0FBQ3JQLElBQU4sQ0FBeUIxRSxLQUFLLENBQUNtTixhQUFOLENBQW9CeUgsWUFBcEIsRUFBa0M7QUFDekRQLFFBQUFBLHFCQUFxQixFQUFFQSxxQkFEa0M7QUFFekRDLFFBQUFBLHNCQUFzQixFQUFFN0MsRUFBRSxHQUFHZ0QsR0FBTCxHQUFXSCxzQkFBWCxHQUFvQ08sU0FGSDtBQUd6RDdLLFFBQUFBLE9BQU8sRUFBRXZJLEdBSGdEO0FBSXpEcVQsUUFBQUEsY0FBYyxFQUFFWCxNQUFNLENBQUN4RSxlQUprQztBQUt6RGhJLFFBQUFBLFVBQVUsRUFBRUEsVUFMNkM7QUFNekRPLFFBQUFBLEtBQUssRUFBRXVKLEVBTmtEO0FBT3pEeUMsUUFBQUEsY0FBYyxFQUFFQSxjQVB5QztBQVF6RHhMLFFBQUFBLElBQUksRUFBRUEsSUFSbUQ7QUFTekRqSCxRQUFBQSxHQUFHLEVBQUVBLEdBVG9EO0FBVXpEaVQsUUFBQUEsV0FBVyxFQUFFQSxXQVY0QztBQVd6REssUUFBQUEsa0JBQWtCLEVBQUVaLE1BQU0sQ0FBQ3hJLG1CQVg4QjtBQVl6RHVDLFFBQUFBLFFBQVEsRUFBRSxTQUFTQSxRQUFULENBQWtCTCxDQUFsQixFQUFxQjtBQUM3QixpQkFBT3NHLE1BQU0sQ0FBQ2EsYUFBUCxDQUFxQm5ILENBQXJCLEVBQXdCcE0sR0FBeEIsRUFBNkJnUSxFQUE3QixDQUFQO0FBQ0QsU0Fkd0Q7QUFlekR3RCxRQUFBQSxTQUFTLEVBQUVkLE1BQU0sQ0FBQzFHLGNBZnVDO0FBZ0J6RHlILFFBQUFBLFdBQVcsRUFBRWYsTUFBTSxDQUFDdk4sS0FoQnFDO0FBaUJ6RHVDLFFBQUFBLEdBQUcsRUFBRSxTQUFTQSxHQUFULENBQWFnTSxJQUFiLEVBQW1CO0FBQ3RCaEIsVUFBQUEsTUFBTSxDQUFDdEksU0FBUCxDQUFpQnBLLEdBQWpCLElBQXdCMFQsSUFBeEI7QUFDRDtBQW5Cd0QsT0FBbEMsQ0FBekI7QUFxQkFULE1BQUFBLFdBQVcsR0FBR2pULEdBQWQ7QUFDRCxLQWhDRDs7QUFrQ0EsU0FBSyxJQUFJZ1EsRUFBRSxHQUFHTixLQUFkLEVBQXFCTSxFQUFFLElBQUlMLElBQTNCLEVBQWlDSyxFQUFFLEVBQW5DLEVBQXVDO0FBQ3JDa0QsTUFBQUEsS0FBSyxDQUFDbEQsRUFBRCxDQUFMO0FBQ0Q7QUFDRixHQXJERDs7QUF1REFsTCxFQUFBQSxNQUFNLENBQUNvSyx5QkFBUCxHQUFtQyxTQUFTQSx5QkFBVCxHQUFxQztBQUN0RSxXQUFPLEtBQUsvSixLQUFMLENBQVd3TyxxQkFBWCxJQUFvQyxLQUEzQztBQUNELEdBRkQ7O0FBSUE3TyxFQUFBQSxNQUFNLENBQUNzRSw0QkFBUCxHQUFzQyxTQUFTQSw0QkFBVCxHQUF3QztBQUM1RSxRQUFJd0ssYUFBYSxHQUFHLEtBQUt0TCxPQUF6QjtBQUNBLFdBQU8sQ0FBQyxFQUFFc0wsYUFBYSxJQUFJLENBQUMsQ0FBQ0EsYUFBYSxDQUFDMU4sVUFBaEIsS0FBK0IsQ0FBQyxDQUFDLEtBQUtmLEtBQUwsQ0FBV2UsVUFBL0QsQ0FBUjtBQUNELEdBSEQ7O0FBS0FwQixFQUFBQSxNQUFNLENBQUMrTyxNQUFQLEdBQWdCLFNBQVNBLE1BQVQsR0FBa0I7QUFDaEMsUUFBSUMsTUFBTSxHQUFHLElBQWI7O0FBRUEsUUFBSXhQLE9BQUosRUFBYTtBQUNYLFVBQUl5UCxVQUFVLEdBQUczUCxZQUFZLENBQUMsS0FBS2UsS0FBTCxDQUFXNk8scUJBQVosQ0FBN0I7O0FBRUEsVUFBSUQsVUFBVSxJQUFJLElBQWQsSUFBc0JBLFVBQVUsQ0FBQ0UsUUFBWCxLQUF3QixNQUFsRCxFQUEwRDtBQUN4RGpPLFFBQUFBLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLCtFQUErRSxzREFBNUY7QUFDRDtBQUNGOztBQUVELFFBQUlpTyxZQUFZLEdBQUcsS0FBSy9PLEtBQXhCO0FBQUEsUUFDSWdQLGtCQUFrQixHQUFHRCxZQUFZLENBQUNDLGtCQUR0QztBQUFBLFFBRUlDLG1CQUFtQixHQUFHRixZQUFZLENBQUNFLG1CQUZ2QztBQUFBLFFBR0lyQixtQkFBbUIsR0FBR21CLFlBQVksQ0FBQ25CLG1CQUh2QztBQUlBLFFBQUlzQixZQUFZLEdBQUcsS0FBS2xQLEtBQXhCO0FBQUEsUUFDSUUsSUFBSSxHQUFHZ1AsWUFBWSxDQUFDaFAsSUFEeEI7QUFBQSxRQUVJYSxVQUFVLEdBQUdtTyxZQUFZLENBQUNuTyxVQUY5Qjs7QUFJQSxRQUFJK0ksd0JBQXdCLEdBQUcsS0FBS0MseUJBQUwsRUFBL0I7O0FBRUEsUUFBSXVELGNBQWMsR0FBRyxLQUFLdE4sS0FBTCxDQUFXbVAsUUFBWCxHQUFzQixLQUFLblAsS0FBTCxDQUFXZSxVQUFYLEdBQXdCcU8sTUFBTSxDQUFDQyxvQkFBL0IsR0FBc0RELE1BQU0sQ0FBQ0Usa0JBQW5GLEdBQXdHLElBQTdIO0FBQ0EsUUFBSW5DLEtBQUssR0FBRyxFQUFaO0FBQ0EsUUFBSUUsc0JBQXNCLEdBQUcsSUFBSTVJLEdBQUosQ0FBUSxLQUFLekUsS0FBTCxDQUFXb04sbUJBQW5CLENBQTdCO0FBQ0EsUUFBSUEsbUJBQW1CLEdBQUcsRUFBMUI7O0FBRUEsUUFBSVEsbUJBQUosRUFBeUI7QUFDdkIsVUFBSVAsc0JBQXNCLENBQUMvUyxHQUF2QixDQUEyQixDQUEzQixDQUFKLEVBQW1DO0FBQ2pDOFMsUUFBQUEsbUJBQW1CLENBQUN0UCxJQUFwQixDQUF5QixDQUF6QjtBQUNEOztBQUVELFVBQUl5UixPQUFPLEdBQWdCblcsS0FBSyxDQUFDb1csY0FBTixDQUFxQjVCLG1CQUFyQixJQUE0Q0EsbUJBQTVDLEdBRzNCeFUsS0FBSyxDQUFDbU4sYUFBTixDQUFvQnFILG1CQUFwQixFQUF5QyxJQUF6QyxDQUhBO0FBSUFULE1BQUFBLEtBQUssQ0FBQ3JQLElBQU4sQ0FBeUIxRSxLQUFLLENBQUNtTixhQUFOLENBQW9CdE0sdUJBQXVCLENBQUN3VixrQ0FBNUMsRUFBZ0Y7QUFDdkdyTSxRQUFBQSxPQUFPLEVBQUUsS0FBS0gsV0FBTCxLQUFxQixTQUR5RTtBQUV2R3BJLFFBQUFBLEdBQUcsRUFBRTtBQUZrRyxPQUFoRixFQUdUekIsS0FBSyxDQUFDbU4sYUFBTixDQUFvQjdNLEtBQUssQ0FBQ1osT0FBMUIsRUFBbUM7QUFDakR3TyxRQUFBQSxRQUFRLEVBQUUsS0FBS08sZUFEa0M7QUFFakQ2SCxRQUFBQSxLQUFLLEVBQUVsVyxXQUFXLENBQUNWLE9BQVosQ0FBb0I2VyxPQUFwQixDQUE0QnJDLGNBQTVCLEVBQTRDLEtBQUt0TixLQUFMLENBQVc0UCx3QkFBdkQ7QUFGMEMsT0FBbkMsRUFJaEJMLE9BSmdCLENBSFMsQ0FBekI7QUFRRDs7QUFFRCxRQUFJdE4sU0FBUyxHQUFHLEtBQUtqQyxLQUFMLENBQVdDLFlBQVgsQ0FBd0JDLElBQXhCLENBQWhCOztBQUVBLFFBQUkrQixTQUFTLEdBQUcsQ0FBaEIsRUFBbUI7QUFDakIxQyxNQUFBQSxnQkFBZ0IsR0FBRyxLQUFuQjtBQUNBQyxNQUFBQSx5QkFBeUIsR0FBRyxFQUE1QjtBQUNBLFVBQUlxUSxTQUFTLEdBQUcsQ0FBQzlPLFVBQUQsR0FBYyxRQUFkLEdBQXlCLE9BQXpDO0FBQ0EsVUFBSStPLGdCQUFnQixHQUFHLEtBQUs5UCxLQUFMLENBQVdpSSxrQkFBWCxHQUFnQyxDQUFDLENBQWpDLEdBQXFDLEtBQUtqSSxLQUFMLENBQVdvTSxrQkFBWCxHQUFnQyxDQUE1RjtBQUNBLFVBQUkyRCxXQUFXLEdBQUcsS0FBSzFMLEtBQXZCO0FBQUEsVUFDSWtHLEtBQUssR0FBR3dGLFdBQVcsQ0FBQ3hGLEtBRHhCO0FBQUEsVUFFSUMsSUFBSSxHQUFHdUYsV0FBVyxDQUFDdkYsSUFGdkI7O0FBSUEsV0FBSzBDLFVBQUwsQ0FBZ0JDLEtBQWhCLEVBQXVCQyxtQkFBdkIsRUFBNENDLHNCQUE1QyxFQUFvRSxDQUFwRSxFQUF1RXlDLGdCQUF2RSxFQUF5RnhDLGNBQXpGOztBQUVBLFVBQUkwQyxpQkFBaUIsR0FBRzFQLElBQUksQ0FBQ0MsR0FBTCxDQUFTdVAsZ0JBQWdCLEdBQUcsQ0FBNUIsRUFBK0J2RixLQUEvQixDQUF4Qjs7QUFFQSxVQUFJLENBQUNULHdCQUFELElBQTZCUyxLQUFLLEdBQUd1RixnQkFBZ0IsR0FBRyxDQUE1RCxFQUErRDtBQUM3RCxZQUFJRyxvQkFBb0IsR0FBRyxLQUEzQjs7QUFFQSxZQUFJNUMsc0JBQXNCLENBQUMzQyxJQUF2QixHQUE4QixDQUFsQyxFQUFxQztBQUNuQyxjQUFJaUQsWUFBWSxHQUFHQyxtQkFBbUIsR0FBRyxDQUFILEdBQU8sQ0FBN0M7O0FBRUEsZUFBSyxJQUFJL0MsRUFBRSxHQUFHbUYsaUJBQWlCLEdBQUcsQ0FBbEMsRUFBcUNuRixFQUFFLEdBQUdpRixnQkFBMUMsRUFBNERqRixFQUFFLEVBQTlELEVBQWtFO0FBQ2hFLGdCQUFJd0Msc0JBQXNCLENBQUMvUyxHQUF2QixDQUEyQnVRLEVBQUUsR0FBRzhDLFlBQWhDLENBQUosRUFBbUQ7QUFDakQsa0JBQUl1QyxLQUFKLEVBQVdDLEtBQVg7O0FBRUEsa0JBQUlDLFNBQVMsR0FBRyxLQUFLaFEsc0JBQUwsQ0FBNEIwUCxnQkFBNUIsQ0FBaEI7O0FBRUEsa0JBQUlPLFdBQVcsR0FBRyxLQUFLalEsc0JBQUwsQ0FBNEJ5SyxFQUE1QixDQUFsQjs7QUFFQSxrQkFBSXlGLFNBQVMsR0FBR0QsV0FBVyxDQUFDaFEsTUFBWixHQUFxQitQLFNBQVMsQ0FBQy9QLE1BQS9CLElBQXlDLEtBQUtMLEtBQUwsQ0FBV2lJLGtCQUFYLEdBQWdDLENBQWhDLEdBQW9DbUksU0FBUyxDQUFDeFUsTUFBdkYsQ0FBaEI7QUFDQXVSLGNBQUFBLEtBQUssQ0FBQ3JQLElBQU4sQ0FNQTFFLEtBQUssQ0FBQ21OLGFBQU4sQ0FBb0I3TSxLQUFLLENBQUNaLE9BQTFCLEVBQW1DO0FBQ2pDK0IsZ0JBQUFBLEdBQUcsRUFBRSxjQUQ0QjtBQUVqQzZVLGdCQUFBQSxLQUFLLEdBQUdRLEtBQUssR0FBRyxFQUFSLEVBQVlBLEtBQUssQ0FBQ0wsU0FBRCxDQUFMLEdBQW1CUyxTQUEvQixFQUEwQ0osS0FBN0M7QUFGNEIsZUFBbkMsQ0FOQTs7QUFXQSxtQkFBS2hELFVBQUwsQ0FBZ0JDLEtBQWhCLEVBQXVCQyxtQkFBdkIsRUFBNENDLHNCQUE1QyxFQUFvRXhDLEVBQXBFLEVBQXdFQSxFQUF4RSxFQUE0RXlDLGNBQTVFOztBQUVBLGtCQUFJaUQsVUFBVSxHQUFHLEtBQUtuUSxzQkFBTCxDQUE0Qm1LLEtBQTVCLEVBQW1DbEssTUFBbkMsSUFBNkNnUSxXQUFXLENBQUNoUSxNQUFaLEdBQXFCZ1EsV0FBVyxDQUFDelUsTUFBOUUsQ0FBakI7QUFDQXVSLGNBQUFBLEtBQUssQ0FBQ3JQLElBQU4sQ0FNQTFFLEtBQUssQ0FBQ21OLGFBQU4sQ0FBb0I3TSxLQUFLLENBQUNaLE9BQTFCLEVBQW1DO0FBQ2pDK0IsZ0JBQUFBLEdBQUcsRUFBRSxlQUQ0QjtBQUVqQzZVLGdCQUFBQSxLQUFLLEdBQUdTLEtBQUssR0FBRyxFQUFSLEVBQVlBLEtBQUssQ0FBQ04sU0FBRCxDQUFMLEdBQW1CVSxVQUEvQixFQUEyQ0osS0FBOUM7QUFGNEIsZUFBbkMsQ0FOQTtBQVVBRixjQUFBQSxvQkFBb0IsR0FBRyxJQUF2QjtBQUNBO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFlBQUksQ0FBQ0Esb0JBQUwsRUFBMkI7QUFDekIsY0FBSU8sS0FBSjs7QUFFQSxjQUFJQyxVQUFVLEdBQUcsS0FBS3JRLHNCQUFMLENBQTRCMFAsZ0JBQTVCLENBQWpCOztBQUVBLGNBQUlZLFVBQVUsR0FBRyxLQUFLdFEsc0JBQUwsQ0FBNEJtSyxLQUE1QixFQUFtQ2xLLE1BQW5DLElBQTZDb1EsVUFBVSxDQUFDcFEsTUFBWCxHQUFvQm9RLFVBQVUsQ0FBQzdVLE1BQTVFLENBQWpCOztBQUVBdVIsVUFBQUEsS0FBSyxDQUFDclAsSUFBTixDQU1BMUUsS0FBSyxDQUFDbU4sYUFBTixDQUFvQjdNLEtBQUssQ0FBQ1osT0FBMUIsRUFBbUM7QUFDakMrQixZQUFBQSxHQUFHLEVBQUUsY0FENEI7QUFFakM2VSxZQUFBQSxLQUFLLEdBQUdjLEtBQUssR0FBRyxFQUFSLEVBQVlBLEtBQUssQ0FBQ1gsU0FBRCxDQUFMLEdBQW1CYSxVQUEvQixFQUEyQ0YsS0FBOUM7QUFGNEIsV0FBbkMsQ0FOQTtBQVVEO0FBQ0Y7O0FBRUQsV0FBS3RELFVBQUwsQ0FBZ0JDLEtBQWhCLEVBQXVCQyxtQkFBdkIsRUFBNENDLHNCQUE1QyxFQUFvRTJDLGlCQUFwRSxFQUF1RnhGLElBQXZGLEVBQTZGOEMsY0FBN0Y7O0FBRUEsVUFBSSxDQUFDLEtBQUtoSSxVQUFMLENBQWdCOUgsSUFBakIsSUFBeUIrQixnQkFBN0IsRUFBK0M7QUFDN0NzQixRQUFBQSxPQUFPLENBQUNDLElBQVIsQ0FBYSxnR0FBZ0csd0NBQTdHLEVBQXVKdEIseUJBQXZKO0FBQ0EsYUFBSzhGLFVBQUwsQ0FBZ0I5SCxJQUFoQixHQUF1QixJQUF2QjtBQUNEOztBQUVELFVBQUksQ0FBQ3NNLHdCQUFELElBQTZCVSxJQUFJLEdBQUd2SSxTQUFTLEdBQUcsQ0FBcEQsRUFBdUQ7QUFDckQsWUFBSTBPLEtBQUo7O0FBRUEsWUFBSUMsU0FBUyxHQUFHLEtBQUt4USxzQkFBTCxDQUE0Qm9LLElBQTVCLENBQWhCOztBQUtBLFlBQUlxRCxHQUFHLEdBQUcsS0FBSzdOLEtBQUwsQ0FBV29CLGFBQVgsR0FBMkJhLFNBQVMsR0FBRyxDQUF2QyxHQUEyQzNCLElBQUksQ0FBQ21LLEdBQUwsQ0FBU3hJLFNBQVMsR0FBRyxDQUFyQixFQUF3QixLQUFLUiwwQkFBN0IsQ0FBckQ7O0FBRUEsWUFBSW9QLFFBQVEsR0FBRyxLQUFLelEsc0JBQUwsQ0FBNEJ5TixHQUE1QixDQUFmOztBQUVBLFlBQUlpRCxnQkFBZ0IsR0FBR0QsUUFBUSxDQUFDeFEsTUFBVCxHQUFrQndRLFFBQVEsQ0FBQ2pWLE1BQTNCLElBQXFDZ1YsU0FBUyxDQUFDdlEsTUFBVixHQUFtQnVRLFNBQVMsQ0FBQ2hWLE1BQWxFLENBQXZCO0FBQ0F1UixRQUFBQSxLQUFLLENBQUNyUCxJQUFOLENBTUExRSxLQUFLLENBQUNtTixhQUFOLENBQW9CN00sS0FBSyxDQUFDWixPQUExQixFQUFtQztBQUNqQytCLFVBQUFBLEdBQUcsRUFBRSxjQUQ0QjtBQUVqQzZVLFVBQUFBLEtBQUssR0FBR2lCLEtBQUssR0FBRyxFQUFSLEVBQVlBLEtBQUssQ0FBQ2QsU0FBRCxDQUFMLEdBQW1CaUIsZ0JBQS9CLEVBQWlESCxLQUFwRDtBQUY0QixTQUFuQyxDQU5BO0FBVUQ7QUFDRixLQTdHRCxNQTZHTyxJQUFJM0Isa0JBQUosRUFBd0I7QUFDN0IsVUFBSStCLFFBQVEsR0FBZ0IzWCxLQUFLLENBQUNvVyxjQUFOLENBQXFCUixrQkFBckIsSUFBMkNBLGtCQUEzQyxHQUc1QjVWLEtBQUssQ0FBQ21OLGFBQU4sQ0FBb0J5SSxrQkFBcEIsRUFBd0MsSUFBeEMsQ0FIQTs7QUFLQTdCLE1BQUFBLEtBQUssQ0FBQ3JQLElBQU4sQ0FBeUIxRSxLQUFLLENBQUM0WCxZQUFOLENBQW1CRCxRQUFuQixFQUE2QjtBQUNwRGxXLFFBQUFBLEdBQUcsRUFBRSxRQUQrQztBQUVwRHlNLFFBQUFBLFFBQVEsRUFBRSxTQUFTQSxRQUFULENBQWtCMkosS0FBbEIsRUFBeUI7QUFDakN0QyxVQUFBQSxNQUFNLENBQUNsSCxjQUFQLENBQXNCd0osS0FBdEI7O0FBRUEsY0FBSUYsUUFBUSxDQUFDL1EsS0FBVCxDQUFlc0gsUUFBbkIsRUFBNkI7QUFDM0J5SixZQUFBQSxRQUFRLENBQUMvUSxLQUFULENBQWVzSCxRQUFmLENBQXdCMkosS0FBeEI7QUFDRDtBQUNGLFNBUm1EO0FBU3BEdkIsUUFBQUEsS0FBSyxFQUFFbFcsV0FBVyxDQUFDVixPQUFaLENBQW9CNlcsT0FBcEIsQ0FBNEJyQyxjQUE1QixFQUE0Q3lELFFBQVEsQ0FBQy9RLEtBQVQsQ0FBZTBQLEtBQTNEO0FBVDZDLE9BQTdCLENBQXpCO0FBV0Q7O0FBRUQsUUFBSVQsbUJBQUosRUFBeUI7QUFDdkIsVUFBSWlDLFNBQVMsR0FBZ0I5WCxLQUFLLENBQUNvVyxjQUFOLENBQXFCUCxtQkFBckIsSUFBNENBLG1CQUE1QyxHQUc3QjdWLEtBQUssQ0FBQ21OLGFBQU4sQ0FBb0IwSSxtQkFBcEIsRUFBeUMsSUFBekMsQ0FIQTs7QUFLQTlCLE1BQUFBLEtBQUssQ0FBQ3JQLElBQU4sQ0FBeUIxRSxLQUFLLENBQUNtTixhQUFOLENBQW9CdE0sdUJBQXVCLENBQUN3VixrQ0FBNUMsRUFBZ0Y7QUFDdkdyTSxRQUFBQSxPQUFPLEVBQUUsS0FBS3dFLGlCQUFMLEVBRDhGO0FBRXZHL00sUUFBQUEsR0FBRyxFQUFFO0FBRmtHLE9BQWhGLEVBR1R6QixLQUFLLENBQUNtTixhQUFOLENBQW9CN00sS0FBSyxDQUFDWixPQUExQixFQUFtQztBQUNqRHdPLFFBQUFBLFFBQVEsRUFBRSxLQUFLSSxlQURrQztBQUVqRGdJLFFBQUFBLEtBQUssRUFBRWxXLFdBQVcsQ0FBQ1YsT0FBWixDQUFvQjZXLE9BQXBCLENBQTRCckMsY0FBNUIsRUFBNEMsS0FBS3ROLEtBQUwsQ0FBV21SLHdCQUF2RDtBQUYwQyxPQUFuQyxFQUloQkQsU0FKZ0IsQ0FIUyxDQUF6QjtBQVFEOztBQUVELFFBQUlFLFdBQVcsR0FBR3JULGFBQWEsQ0FBQ0EsYUFBYSxDQUFDLEVBQUQsRUFBSyxLQUFLaUMsS0FBVixDQUFkLEVBQWdDLEVBQWhDLEVBQW9DO0FBQ2pFa0ksTUFBQUEsbUJBQW1CLEVBQUUsS0FBS0osb0JBRHVDO0FBRWpFUixNQUFBQSxRQUFRLEVBQUUsS0FBS04sU0FGa0Q7QUFHakVzQixNQUFBQSxRQUFRLEVBQUUsS0FBS0QsU0FIa0Q7QUFJakVlLE1BQUFBLGlCQUFpQixFQUFFLEtBQUtGLGtCQUp5QztBQUtqRUksTUFBQUEsZUFBZSxFQUFFLEtBQUtELGdCQUwyQztBQU1qRUcsTUFBQUEscUJBQXFCLEVBQUUsS0FBS0Qsc0JBTnFDO0FBT2pFRyxNQUFBQSxtQkFBbUIsRUFBRSxLQUFLRCxvQkFQdUM7QUFRakU0SCxNQUFBQSxtQkFBbUIsRUFBRSxLQUFLclIsS0FBTCxDQUFXcVIsbUJBUmlDO0FBVWpFakUsTUFBQUEsbUJBQW1CLEVBQUVBLG1CQVY0QztBQVdqRXNDLE1BQUFBLEtBQUssRUFBRXBDLGNBQWMsR0FBRyxDQUFDQSxjQUFELEVBQWlCLEtBQUt0TixLQUFMLENBQVcwUCxLQUE1QixDQUFILEdBQXdDLEtBQUsxUCxLQUFMLENBQVcwUDtBQVhQLEtBQXBDLENBQS9COztBQWNBLFNBQUs5TCxRQUFMLEdBQWdCLEtBQUtTLEtBQUwsQ0FBV21HLElBQVgsR0FBa0IsS0FBS3hLLEtBQUwsQ0FBV0MsWUFBWCxDQUF3QixLQUFLRCxLQUFMLENBQVdFLElBQW5DLElBQTJDLENBQTdFO0FBQ0EsUUFBSW9SLFFBQVEsR0FBZ0JsWSxLQUFLLENBQUNtTixhQUFOLENBQW9CdE0sdUJBQXVCLENBQUNzWCw4QkFBNUMsRUFBNEU7QUFDdEd4VixNQUFBQSxLQUFLLEVBQUU7QUFDTHFILFFBQUFBLE9BQU8sRUFBRSxJQURKO0FBRUxvTyxRQUFBQSxnQkFBZ0IsRUFBRSxLQUFLek4saUJBRmxCO0FBR0xoRCxRQUFBQSxVQUFVLEVBQUUsS0FBS2YsS0FBTCxDQUFXZSxVQUhsQjtBQUlMbUQsUUFBQUEseUJBQXlCLEVBQUUsS0FBS0YsMEJBSjNCO0FBS0xzSSxRQUFBQSxtQkFBbUIsRUFBRSxLQUFLbkksb0JBTHJCO0FBTUxzSSxRQUFBQSxxQkFBcUIsRUFBRSxLQUFLbkksc0JBTnZCO0FBT0xzSSxRQUFBQSx1QkFBdUIsRUFBRSxLQUFLOUgsd0JBUHpCO0FBUUxwQixRQUFBQSxTQUFTLEVBQUUsS0FBS0gsYUFBTDtBQVJOO0FBRCtGLEtBQTVFLEVBV1puSyxLQUFLLENBQUM0WCxZQUFOLENBQW1CLENBQUMsS0FBS2hSLEtBQUwsQ0FBV3lSLHFCQUFYLElBQW9DLEtBQUtwTCw2QkFBMUMsRUFBeUUrSyxXQUF6RSxDQUFuQixFQUEwRztBQUN4SDdPLE1BQUFBLEdBQUcsRUFBRSxLQUFLNkQ7QUFEOEcsS0FBMUcsRUFFYitHLEtBRmEsQ0FYWSxDQUE1QjtBQWNBLFFBQUl1RSxHQUFHLEdBQUdKLFFBQVY7O0FBRUEsUUFBSSxLQUFLdFIsS0FBTCxDQUFXMlIsS0FBZixFQUFzQjtBQUNwQixhQUFvQnZZLEtBQUssQ0FBQ21OLGFBQU4sQ0FBb0I3TSxLQUFLLENBQUNaLE9BQTFCLEVBQW1DO0FBQ3JENFcsUUFBQUEsS0FBSyxFQUFFTixNQUFNLENBQUN1QztBQUR1QyxPQUFuQyxFQUVqQkQsR0FGaUIsRUFFWixLQUFLRSxtQkFBTCxFQUZZLENBQXBCO0FBR0QsS0FKRCxNQUlPO0FBQ0wsYUFBT0YsR0FBUDtBQUNEO0FBQ0YsR0FyT0Q7O0FBdU9BL1IsRUFBQUEsTUFBTSxDQUFDa1Msa0JBQVAsR0FBNEIsU0FBU0Esa0JBQVQsQ0FBNEJDLFNBQTVCLEVBQXVDO0FBQ2pFLFFBQUlDLFlBQVksR0FBRyxLQUFLL1IsS0FBeEI7QUFBQSxRQUNJRSxJQUFJLEdBQUc2UixZQUFZLENBQUM3UixJQUR4QjtBQUFBLFFBRUk4UixTQUFTLEdBQUdELFlBQVksQ0FBQ0MsU0FGN0I7O0FBSUEsUUFBSTlSLElBQUksS0FBSzRSLFNBQVMsQ0FBQzVSLElBQW5CLElBQTJCOFIsU0FBUyxLQUFLRixTQUFTLENBQUNFLFNBQXZELEVBQWtFO0FBR2hFLFdBQUt4UCxrQkFBTCxDQUF3QnhFLE9BQXhCLENBQWdDLFVBQVVtTCxLQUFWLEVBQWlCO0FBQy9DQSxRQUFBQSxLQUFLLENBQUN6RyxpQkFBTixDQUF3QnVQLG9CQUF4QjtBQUNELE9BRkQ7QUFHRDs7QUFRRCxRQUFJQyxlQUFlLEdBQUcsS0FBSzFNLGdCQUEzQjs7QUFFQSxTQUFLK0IsNEJBQUw7O0FBSUEsUUFBSTJLLGVBQUosRUFBcUI7QUFDbkIsV0FBSzFNLGdCQUFMLEdBQXdCLEtBQXhCO0FBQ0Q7QUFDRixHQTVCRDs7QUE4QkE3RixFQUFBQSxNQUFNLENBQUNzSixpQkFBUCxHQUEyQixTQUFTQSxpQkFBVCxHQUE2QjtBQUN0RCxTQUFLRixlQUFMLENBQXFCb0osZ0JBQXJCLENBQXNDLEtBQUtuUyxLQUEzQyxFQUFrRCxLQUFLcUUsS0FBdkQsRUFBOEQsS0FBSzVELGNBQW5FO0FBQ0QsR0FGRDs7QUFJQWQsRUFBQUEsTUFBTSxDQUFDeU8sYUFBUCxHQUF1QixTQUFTQSxhQUFULENBQXVCbkgsQ0FBdkIsRUFBMEI3RCxPQUExQixFQUFtQzlCLEtBQW5DLEVBQTBDO0FBQy9ELFFBQUkrRixNQUFNLEdBQUdKLENBQUMsQ0FBQ0csV0FBRixDQUFjQyxNQUEzQjtBQUNBLFFBQUlwTCxJQUFJLEdBQUc7QUFDVG9FLE1BQUFBLE1BQU0sRUFBRSxLQUFLcUksYUFBTCxDQUFtQnJCLE1BQW5CLENBREM7QUFFVHpMLE1BQUFBLE1BQU0sRUFBRSxLQUFLdUwsYUFBTCxDQUFtQkUsTUFBbkIsQ0FGQztBQUdUL0YsTUFBQUEsS0FBSyxFQUFFQSxLQUhFO0FBSVR5RixNQUFBQSxRQUFRLEVBQUU7QUFKRCxLQUFYO0FBTUEsUUFBSUQsSUFBSSxHQUFHLEtBQUsxQixPQUFMLENBQWFoQyxPQUFiLENBQVg7O0FBRUEsUUFBSSxDQUFDMEQsSUFBRCxJQUFTN0ssSUFBSSxDQUFDb0UsTUFBTCxLQUFnQnlHLElBQUksQ0FBQ3pHLE1BQTlCLElBQXdDcEUsSUFBSSxDQUFDTCxNQUFMLEtBQWdCa0wsSUFBSSxDQUFDbEwsTUFBN0QsSUFBdUUwRixLQUFLLEtBQUt3RixJQUFJLENBQUN4RixLQUExRixFQUFpRztBQUMvRixXQUFLNEUsZ0JBQUwsSUFBeUJqSyxJQUFJLENBQUNMLE1BQUwsSUFBZWtMLElBQUksR0FBR0EsSUFBSSxDQUFDbEwsTUFBUixHQUFpQixDQUFwQyxDQUF6QjtBQUNBLFdBQUt1SyxtQkFBTCxJQUE0QlcsSUFBSSxHQUFHLENBQUgsR0FBTyxDQUF2QztBQUNBLFdBQUtuRixrQkFBTCxHQUEwQixLQUFLdUUsZ0JBQUwsR0FBd0IsS0FBS0MsbUJBQXZEO0FBQ0EsV0FBS2YsT0FBTCxDQUFhaEMsT0FBYixJQUF3Qm5ILElBQXhCO0FBQ0EsV0FBS3dGLDBCQUFMLEdBQWtDbkIsSUFBSSxDQUFDQyxHQUFMLENBQVMsS0FBS2tCLDBCQUFkLEVBQTBDSCxLQUExQyxDQUFsQzs7QUFFQSxXQUFLaUcsNEJBQUw7QUFDRCxLQVJELE1BUU87QUFDTCxXQUFLbkMsT0FBTCxDQUFhaEMsT0FBYixFQUFzQjJELFFBQXRCLEdBQWlDLElBQWpDO0FBQ0Q7O0FBRUQsU0FBS1ksb0NBQUwsQ0FBMEN2RSxPQUExQzs7QUFFQSxTQUFLNkYsaUJBQUw7O0FBRUEsU0FBS3RHLG9CQUFMLENBQTBCLEtBQUszQyxLQUFMLENBQVdFLElBQXJDO0FBQ0QsR0EzQkQ7O0FBNkJBUCxFQUFBQSxNQUFNLENBQUNnSSxvQ0FBUCxHQUE4QyxTQUFTQSxvQ0FBVCxDQUE4Q3ZFLE9BQTlDLEVBQXVEO0FBQ25HLFFBQUkySCxhQUFhLEdBQUcsS0FBS3ZHLHdCQUFMLENBQThCakssR0FBOUIsQ0FBa0M2SSxPQUFsQyxDQUFwQjs7QUFFQSxRQUFJMkgsYUFBSixFQUFtQjtBQUNqQixXQUFLLElBQUlxSCxVQUFVLEdBQUdqWCwrQkFBK0IsQ0FBQzRQLGFBQUQsQ0FBaEQsRUFBaUVzSCxNQUF0RSxFQUE4RSxDQUFDLENBQUNBLE1BQU0sR0FBR0QsVUFBVSxFQUFwQixFQUF3QnRXLElBQXZHLEdBQThHO0FBQzVHLFlBQUlxUCxRQUFRLEdBQUdrSCxNQUFNLENBQUN0VyxLQUF0Qjs7QUFFQSxZQUFJdUcsU0FBUyxHQUFHLEtBQUtELGlCQUFMLENBQXVCOUgsR0FBdkIsQ0FBMkI0USxRQUEzQixDQUFoQjs7QUFFQTdJLFFBQUFBLFNBQVMsSUFBSUEsU0FBUyxDQUFDQyxHQUF2QixJQUE4QkQsU0FBUyxDQUFDQyxHQUFWLENBQWMyRSxxQ0FBZCxFQUE5QjtBQUNEO0FBQ0Y7QUFDRixHQVpEOztBQWNBdkgsRUFBQUEsTUFBTSxDQUFDdUgscUNBQVAsR0FBK0MsU0FBU0EscUNBQVQsR0FBaUQ7QUFDOUYsUUFBSW9MLE1BQU0sR0FBRyxJQUFiOztBQUlBLFFBQUk7QUFDRixVQUFJLENBQUMsS0FBSzNSLFVBQVYsRUFBc0I7QUFDcEI7QUFDRDs7QUFJRCxXQUFLQSxVQUFMLENBQWdCNFIsYUFBaEIsQ0FBOEIsS0FBS3BQLE9BQUwsQ0FBYWUseUJBQWIsR0FBeUNuQixZQUF6QyxFQUE5QixFQUF1RixVQUFVL0IsQ0FBVixFQUFhQyxDQUFiLEVBQWdCOEcsS0FBaEIsRUFBdUJDLE1BQXZCLEVBQStCO0FBQ3BIc0ssUUFBQUEsTUFBTSxDQUFDNU0sZ0NBQVAsR0FBMEM0TSxNQUFNLENBQUM1SixhQUFQLENBQXFCO0FBQzdEMUgsVUFBQUEsQ0FBQyxFQUFFQSxDQUQwRDtBQUU3REMsVUFBQUEsQ0FBQyxFQUFFQTtBQUYwRCxTQUFyQixDQUExQztBQUlBcVIsUUFBQUEsTUFBTSxDQUFDN1IsY0FBUCxDQUFzQm1GLGFBQXRCLEdBQXNDME0sTUFBTSxDQUFDbkwsYUFBUCxDQUFxQjtBQUN6RFksVUFBQUEsS0FBSyxFQUFFQSxLQURrRDtBQUV6REMsVUFBQUEsTUFBTSxFQUFFQTtBQUZpRCxTQUFyQixDQUF0Qzs7QUFLQSxZQUFJd0ssYUFBYSxHQUFHRixNQUFNLENBQUNuSywyQkFBUCxDQUFtQ21LLE1BQU0sQ0FBQ25QLE9BQVAsQ0FBZXFPLGdCQUFmLEVBQW5DLENBQXBCOztBQUVBYyxRQUFBQSxNQUFNLENBQUM3UixjQUFQLENBQXNCQyxhQUF0QixHQUFzQzhSLGFBQWEsQ0FBQzlSLGFBQXBEO0FBQ0E0UixRQUFBQSxNQUFNLENBQUM3UixjQUFQLENBQXNCSixNQUF0QixHQUErQm1TLGFBQWEsQ0FBQ25TLE1BQTdDO0FBQ0QsT0FkRCxFQWNHLFVBQVVzRSxLQUFWLEVBQWlCO0FBQ2xCOUQsUUFBQUEsT0FBTyxDQUFDQyxJQUFSLENBQWEsbUVBQW1FLDhDQUFoRjtBQUNELE9BaEJEO0FBaUJELEtBeEJELENBd0JFLE9BQU82RCxLQUFQLEVBQWM7QUFDZDlELE1BQUFBLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLHNEQUFiLEVBQXFFNkQsS0FBSyxDQUFDOE4sS0FBM0U7QUFDRDtBQUNGLEdBaENEOztBQWtDQTlTLEVBQUFBLE1BQU0sQ0FBQ2lJLGlCQUFQLEdBQTJCLFNBQVNBLGlCQUFULEdBQTZCO0FBQ3RELFdBQU8sS0FBSzNFLFdBQUwsS0FBcUIsU0FBNUI7QUFDRCxHQUZEOztBQUlBdEQsRUFBQUEsTUFBTSxDQUFDaVMsbUJBQVAsR0FBNkIsU0FBU0EsbUJBQVQsR0FBK0I7QUFDMUQsUUFBSWMsU0FBUyxHQUFHLEtBQUtqUyxjQUFMLENBQW9CQyxhQUFwQixJQUFxQyxLQUFLRCxjQUFMLENBQW9CbUYsYUFBcEIsSUFBcUMsQ0FBMUUsQ0FBaEI7QUFDQSxRQUFJK00sY0FBYyxHQUFHLEVBQXJCO0FBQ0EsUUFBSTFRLFNBQVMsR0FBRyxLQUFLakMsS0FBTCxDQUFXQyxZQUFYLENBQXdCLEtBQUtELEtBQUwsQ0FBV0UsSUFBbkMsQ0FBaEI7O0FBRUEsU0FBSyxJQUFJMkssRUFBRSxHQUFHLENBQWQsRUFBaUJBLEVBQUUsR0FBRzVJLFNBQXRCLEVBQWlDNEksRUFBRSxFQUFuQyxFQUF1QztBQUNyQyxVQUFJMUssS0FBSyxHQUFHLEtBQUtDLHNCQUFMLENBQTRCeUssRUFBNUIsQ0FBWjs7QUFNQSxVQUFJMUssS0FBSyxDQUFDNEcsUUFBVixFQUFvQjtBQUNsQjRMLFFBQUFBLGNBQWMsQ0FBQzdVLElBQWYsQ0FBb0JxQyxLQUFwQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBSXlTLFNBQVMsR0FBRyxLQUFLeFMsc0JBQUwsQ0FBNEIsS0FBS2lFLEtBQUwsQ0FBV2tHLEtBQXZDLEVBQThDbEssTUFBOUQ7O0FBRUEsUUFBSXdTLFNBQVMsR0FBRyxLQUFLelMsc0JBQUwsQ0FBNEIsS0FBS2lFLEtBQUwsQ0FBV21HLElBQXZDLENBQWhCOztBQUVBLFFBQUlzSSxTQUFTLEdBQUdELFNBQVMsQ0FBQ3hTLE1BQVYsR0FBbUJ3UyxTQUFTLENBQUNqWCxNQUE3QixHQUFzQ2dYLFNBQXREO0FBQ0EsUUFBSUcsTUFBTSxHQUFHLEtBQUt0UyxjQUFMLENBQW9CSixNQUFqQztBQUNBLFFBQUkyUyxNQUFNLEdBQUcsS0FBS3ZTLGNBQUwsQ0FBb0JDLGFBQWpDO0FBQ0EsV0FBb0J0SCxLQUFLLENBQUNtTixhQUFOLENBQW9CN00sS0FBSyxDQUFDWixPQUExQixFQUFtQztBQUNyRDRXLE1BQUFBLEtBQUssRUFBRSxDQUFDTixNQUFNLENBQUM2RCxnQkFBUixFQUEwQjdELE1BQU0sQ0FBQzhELFlBQWpDO0FBRDhDLEtBQW5DLEVBRWpCUCxjQUFjLENBQUM1RyxHQUFmLENBQW1CLFVBQVVvSCxDQUFWLEVBQWF0SSxFQUFiLEVBQWlCO0FBQ3JDLGFBQW9CelIsS0FBSyxDQUFDbU4sYUFBTixDQUFvQjdNLEtBQUssQ0FBQ1osT0FBMUIsRUFBbUM7QUFDckQrQixRQUFBQSxHQUFHLEVBQUUsTUFBTWdRLEVBRDBDO0FBRXJENkUsUUFBQUEsS0FBSyxFQUFFLENBQUNOLE1BQU0sQ0FBQzZELGdCQUFSLEVBQTBCN0QsTUFBTSxDQUFDZ0UsaUJBQWpDLEVBQW9EO0FBQ3pEQyxVQUFBQSxHQUFHLEVBQUVGLENBQUMsQ0FBQzlTLE1BQUYsR0FBV3FTLFNBRHlDO0FBRXpEMUssVUFBQUEsTUFBTSxFQUFFbUwsQ0FBQyxDQUFDdlgsTUFBRixHQUFXOFc7QUFGc0MsU0FBcEQ7QUFGOEMsT0FBbkMsQ0FBcEI7QUFPRCxLQVJFLENBRmlCLEVBVUh0WixLQUFLLENBQUNtTixhQUFOLENBQW9CN00sS0FBSyxDQUFDWixPQUExQixFQUFtQztBQUNsRDRXLE1BQUFBLEtBQUssRUFBRSxDQUFDTixNQUFNLENBQUM2RCxnQkFBUixFQUEwQjdELE1BQU0sQ0FBQ2tFLHFCQUFqQyxFQUF3RDtBQUM3REQsUUFBQUEsR0FBRyxFQUFFVCxTQUFTLEdBQUdGLFNBRDRDO0FBRTdEMUssUUFBQUEsTUFBTSxFQUFFOEssU0FBUyxHQUFHSjtBQUZ5QyxPQUF4RDtBQUQyQyxLQUFuQyxDQVZHLEVBZUh0WixLQUFLLENBQUNtTixhQUFOLENBQW9CN00sS0FBSyxDQUFDWixPQUExQixFQUFtQztBQUNsRDRXLE1BQUFBLEtBQUssRUFBRSxDQUFDTixNQUFNLENBQUM2RCxnQkFBUixFQUEwQjdELE1BQU0sQ0FBQ21FLG9CQUFqQyxFQUF1RDtBQUM1REYsUUFBQUEsR0FBRyxFQUFFTixNQUFNLEdBQUdMLFNBRDhDO0FBRTVEMUssUUFBQUEsTUFBTSxFQUFFZ0wsTUFBTSxHQUFHTjtBQUYyQyxPQUF2RDtBQUQyQyxLQUFuQyxDQWZHLENBQXBCO0FBcUJELEdBN0NEOztBQStDQS9TLEVBQUFBLE1BQU0sQ0FBQ3dILGFBQVAsR0FBdUIsU0FBU0EsYUFBVCxDQUF1QmlCLE9BQXZCLEVBQWdDO0FBQ3JELFdBQU8sQ0FBQyxLQUFLcEksS0FBTCxDQUFXZSxVQUFaLEdBQXlCcUgsT0FBTyxDQUFDSixNQUFqQyxHQUEwQ0ksT0FBTyxDQUFDTCxLQUF6RDtBQUNELEdBRkQ7O0FBSUFwSSxFQUFBQSxNQUFNLENBQUMrSSxhQUFQLEdBQXVCLFNBQVNBLGFBQVQsQ0FBdUJOLE9BQXZCLEVBQWdDO0FBQ3JELFdBQU8sQ0FBQyxLQUFLcEksS0FBTCxDQUFXZSxVQUFaLEdBQXlCcUgsT0FBTyxDQUFDbkgsQ0FBakMsR0FBcUNtSCxPQUFPLENBQUNwSCxDQUFwRDtBQUNELEdBRkQ7O0FBSUFyQixFQUFBQSxNQUFNLENBQUM2SCxzQkFBUCxHQUFnQyxTQUFTQSxzQkFBVCxHQUFrQztBQUNoRSxRQUFJZ00sYUFBYSxHQUFHLEtBQUt4VCxLQUF6QjtBQUFBLFFBQ0lFLElBQUksR0FBR3NULGFBQWEsQ0FBQ3RULElBRHpCO0FBQUEsUUFFSUQsWUFBWSxHQUFHdVQsYUFBYSxDQUFDdlQsWUFGakM7QUFBQSxRQUdJd1QsWUFBWSxHQUFHRCxhQUFhLENBQUNDLFlBSGpDO0FBQUEsUUFJSTVKLHFCQUFxQixHQUFHMkosYUFBYSxDQUFDM0oscUJBSjFDO0FBS0EsUUFBSTZKLHFCQUFxQixHQUFHLEtBQUtqVCxjQUFqQztBQUFBLFFBQ0ltRixhQUFhLEdBQUc4TixxQkFBcUIsQ0FBQzlOLGFBRDFDO0FBQUEsUUFFSWxGLGFBQWEsR0FBR2dULHFCQUFxQixDQUFDaFQsYUFGMUM7QUFBQSxRQUdJTCxNQUFNLEdBQUdxVCxxQkFBcUIsQ0FBQ3JULE1BSG5DO0FBSUEsUUFBSStKLGVBQWUsR0FBR3hFLGFBQWEsR0FBR2xGLGFBQWhCLEdBQWdDTCxNQUF0RDtBQUNBLFFBQUlzVCxTQUFTLEdBQUc5SixxQkFBcUIsR0FBR0EscUJBQXFCLEdBQUduSixhQUEzQixHQUEyQyxDQUFoRjs7QUFFQSxRQUFJK1MsWUFBWSxJQUFJLEtBQUtwUCxLQUFMLENBQVdtRyxJQUFYLEtBQW9CdkssWUFBWSxDQUFDQyxJQUFELENBQVosR0FBcUIsQ0FBekQsSUFBOERrSyxlQUFlLEdBQUd1SixTQUFoRixJQUE2RixLQUFLbFQsY0FBTCxDQUFvQm1GLGFBQXBCLEtBQXNDLEtBQUtLLHdCQUE1SSxFQUFzSztBQUVwSyxXQUFLQSx3QkFBTCxHQUFnQyxLQUFLeEYsY0FBTCxDQUFvQm1GLGFBQXBEO0FBQ0E2TixNQUFBQSxZQUFZLENBQUM7QUFDWHJKLFFBQUFBLGVBQWUsRUFBRUE7QUFETixPQUFELENBQVo7QUFHRCxLQU5ELE1BTU8sSUFBSUEsZUFBZSxHQUFHdUosU0FBdEIsRUFBaUM7QUFHdEMsV0FBSzFOLHdCQUFMLEdBQWdDLENBQWhDO0FBQ0Q7QUFDRixHQXhCRDs7QUEwQkF0RyxFQUFBQSxNQUFNLENBQUM0SCw0QkFBUCxHQUFzQyxTQUFTQSw0QkFBVCxHQUF3QztBQUM1RSxRQUFJcU0sWUFBWSxHQUFHLEtBQUt2UCxLQUF4QjtBQUFBLFFBQ0lrRyxLQUFLLEdBQUdxSixZQUFZLENBQUNySixLQUR6QjtBQUFBLFFBRUlDLElBQUksR0FBR29KLFlBQVksQ0FBQ3BKLElBRnhCO0FBR0EsUUFBSXFKLHFCQUFxQixHQUFHLEtBQUtwVCxjQUFqQztBQUFBLFFBQ0lKLE1BQU0sR0FBR3dULHFCQUFxQixDQUFDeFQsTUFEbkM7QUFBQSxRQUVJSyxhQUFhLEdBQUdtVCxxQkFBcUIsQ0FBQ25ULGFBRjFDO0FBQUEsUUFHSXNGLFFBQVEsR0FBRzZOLHFCQUFxQixDQUFDN04sUUFIckM7QUFJQSxRQUFJL0QsU0FBUyxHQUFHLEtBQUtqQyxLQUFMLENBQVdDLFlBQVgsQ0FBd0IsS0FBS0QsS0FBTCxDQUFXRSxJQUFuQyxDQUFoQjtBQUNBLFFBQUk0VCxLQUFLLEdBQUcsS0FBWjtBQUNBLFFBQUlDLGtCQUFrQixHQUl0QixLQUFLL1QsS0FBTCxDQUFXNkoscUJBQVgsR0FBbUNuSixhQUFuQyxHQUFtRCxDQUpuRDs7QUFPQSxRQUFJNkosS0FBSyxHQUFHLENBQVosRUFBZTtBQUNiLFVBQUl5SixPQUFPLEdBQUczVCxNQUFNLEdBQUcsS0FBS0Qsc0JBQUwsQ0FBNEJtSyxLQUE1QixFQUFtQ2xLLE1BQTFEOztBQUVBeVQsTUFBQUEsS0FBSyxHQUFHQSxLQUFLLElBQUlFLE9BQU8sR0FBRyxDQUFuQixJQUF3QmhPLFFBQVEsR0FBRyxDQUFDLENBQVosSUFBaUJnTyxPQUFPLEdBQUdELGtCQUEzRDtBQUNEOztBQUlELFFBQUl2SixJQUFJLEdBQUd2SSxTQUFTLEdBQUcsQ0FBdkIsRUFBMEI7QUFDeEIsVUFBSWdTLFVBQVUsR0FBRyxLQUFLN1Qsc0JBQUwsQ0FBNEJvSyxJQUE1QixFQUFrQ25LLE1BQWxDLElBQTRDQSxNQUFNLEdBQUdLLGFBQXJELENBQWpCO0FBQ0FvVCxNQUFBQSxLQUFLLEdBQUdBLEtBQUssSUFBSUcsVUFBVSxHQUFHLENBQXRCLElBQTJCak8sUUFBUSxHQUFHLENBQVgsSUFBZ0JpTyxVQUFVLEdBQUdGLGtCQUFoRTtBQUNEOztBQVNELFFBQUlELEtBQUssS0FBSyxLQUFLblMsa0JBQUwsSUFBMkIsS0FBSzNCLEtBQUwsQ0FBV29CLGFBQTNDLENBQUwsSUFBa0UsQ0FBQyxLQUFLb0UsZ0JBQTVFLEVBQThGO0FBQzVGLFdBQUtBLGdCQUFMLEdBQXdCLElBQXhCOztBQUdBLFdBQUtvRywyQkFBTCxDQUFpQ2lCLE9BQWpDLENBQXlDO0FBQ3ZDQyxRQUFBQSxLQUFLLEVBQUU7QUFEZ0MsT0FBekM7O0FBSUEsV0FBS25ELG9CQUFMOztBQUVBO0FBQ0QsS0FYRCxNQVdPO0FBQ0wsV0FBS2lDLDJCQUFMLENBQWlDc0ksUUFBakM7QUFDRDtBQUNGLEdBbkREOztBQXFEQXZVLEVBQUFBLE1BQU0sQ0FBQ2dELG9CQUFQLEdBQThCLFNBQVNBLG9CQUFULENBQThCekMsSUFBOUIsRUFBb0M7QUFDaEUsUUFBSWlVLE1BQU0sR0FBRyxJQUFiOztBQUVBLFFBQUlsVSxZQUFZLEdBQUcsS0FBS0QsS0FBTCxDQUFXQyxZQUE5Qjs7QUFFQSxTQUFLdUMsa0JBQUwsQ0FBd0J4RSxPQUF4QixDQUFnQyxVQUFVbUwsS0FBVixFQUFpQjtBQUMvQ0EsTUFBQUEsS0FBSyxDQUFDekcsaUJBQU4sQ0FBd0IwUixRQUF4QixDQUFpQ25VLFlBQVksQ0FBQ0MsSUFBRCxDQUE3QyxFQUFxRGlVLE1BQU0sQ0FBQzFULGNBQVAsQ0FBc0JKLE1BQTNFLEVBQW1GOFQsTUFBTSxDQUFDMVQsY0FBUCxDQUFzQkMsYUFBekcsRUFBd0h5VCxNQUFNLENBQUMzSSxnQkFBL0gsRUFBaUoySSxNQUFNLENBQUMvSSxnQkFBeEosRUFBMEtqQyxLQUFLLENBQUMrQyxzQkFBaEwsRUFBd01pSSxNQUFNLENBQUM5UCxLQUEvTTtBQUNELEtBRkQ7QUFHRCxHQVJEOztBQVVBLFNBQU81RSxlQUFQO0FBQ0QsQ0F0ekNrQyxDQXN6Q2pDckcsS0FBSyxDQUFDaWIsYUF0ekMyQixDQUFuQzs7QUF3ekNBNVUsZUFBZSxDQUFDNlUsV0FBaEIsR0FBOEJyYSx1QkFBdUIsQ0FBQ3NhLHNCQUF0RDtBQUNBOVUsZUFBZSxDQUFDK1UsWUFBaEIsR0FBK0I7QUFDN0JoRyxFQUFBQSxxQkFBcUIsRUFBRSxLQURNO0FBRTdCek4sRUFBQUEsVUFBVSxFQUFFLEtBRmlCO0FBRzdCcUwsRUFBQUEsa0JBQWtCLEVBQUUsRUFIUztBQUk3QmIsRUFBQUEsWUFBWSxFQUFFLFNBQVNBLFlBQVQsQ0FBc0J6SixJQUF0QixFQUE0QlIsS0FBNUIsRUFBbUM7QUFDL0MsUUFBSVEsSUFBSSxDQUFDakgsR0FBTCxJQUFZLElBQWhCLEVBQXNCO0FBQ3BCLGFBQU9pSCxJQUFJLENBQUNqSCxHQUFaO0FBQ0Q7O0FBRUQsUUFBSWlILElBQUksQ0FBQzJTLEVBQUwsSUFBVyxJQUFmLEVBQXFCO0FBQ25CLGFBQU8zUyxJQUFJLENBQUMyUyxFQUFaO0FBQ0Q7O0FBRURsVixJQUFBQSxnQkFBZ0IsR0FBRyxJQUFuQjs7QUFFQSxRQUFJdUMsSUFBSSxDQUFDNFMsSUFBTCxJQUFhNVMsSUFBSSxDQUFDNFMsSUFBTCxDQUFVQyxXQUEzQixFQUF3QztBQUN0Q25WLE1BQUFBLHlCQUF5QixHQUFHc0MsSUFBSSxDQUFDNFMsSUFBTCxDQUFVQyxXQUF0QztBQUNEOztBQUVELFdBQU9DLE1BQU0sQ0FBQ3RULEtBQUQsQ0FBYjtBQUNELEdBcEI0QjtBQXFCN0JnSixFQUFBQSxtQkFBbUIsRUFBRSxFQXJCUTtBQXNCN0JULEVBQUFBLHFCQUFxQixFQUFFLENBdEJNO0FBd0I3QndILEVBQUFBLG1CQUFtQixFQUFFLEVBeEJRO0FBeUI3QnhGLEVBQUFBLHlCQUF5QixFQUFFLEVBekJFO0FBMEI3QkYsRUFBQUEsVUFBVSxFQUFFO0FBMUJpQixDQUEvQjs7QUE4QkEsSUFBSXFDLFlBQVksR0FBZ0IsVUFBVTZHLGdCQUFWLEVBQTRCO0FBQzFEcFcsRUFBQUEsY0FBYyxDQUFDdVAsWUFBRCxFQUFlNkcsZ0JBQWYsQ0FBZDs7QUFFQSxXQUFTN0csWUFBVCxHQUF3QjtBQUN0QixRQUFJOEcsTUFBSjs7QUFFQSxTQUFLLElBQUlDLElBQUksR0FBRzdYLFNBQVMsQ0FBQ3RCLE1BQXJCLEVBQTZCb1osSUFBSSxHQUFHLElBQUl2WixLQUFKLENBQVVzWixJQUFWLENBQXBDLEVBQXFERSxJQUFJLEdBQUcsQ0FBakUsRUFBb0VBLElBQUksR0FBR0YsSUFBM0UsRUFBaUZFLElBQUksRUFBckYsRUFBeUY7QUFDdkZELE1BQUFBLElBQUksQ0FBQ0MsSUFBRCxDQUFKLEdBQWEvWCxTQUFTLENBQUMrWCxJQUFELENBQXRCO0FBQ0Q7O0FBRURILElBQUFBLE1BQU0sR0FBR0QsZ0JBQWdCLENBQUM3WixJQUFqQixDQUFzQm9DLEtBQXRCLENBQTRCeVgsZ0JBQTVCLEVBQThDLENBQUMsSUFBRCxFQUFPSyxNQUFQLENBQWNGLElBQWQsQ0FBOUMsS0FBc0UsSUFBL0U7QUFDQUYsSUFBQUEsTUFBTSxDQUFDelEsS0FBUCxHQUFlO0FBQ2I4USxNQUFBQSxjQUFjLEVBQUU7QUFDZEMsUUFBQUEsV0FBVyxFQUFFLEtBREM7QUFFZEMsUUFBQUEsV0FBVyxFQUFFUCxNQUFNLENBQUM5VSxLQUFQLENBQWE4QjtBQUZaO0FBREgsS0FBZjtBQU1BZ1QsSUFBQUEsTUFBTSxDQUFDUSxXQUFQLEdBQXFCO0FBQ25CQyxNQUFBQSxTQUFTLEVBQUUsU0FBU0EsU0FBVCxHQUFxQjtBQUM5QixZQUFJQyxZQUFZLEdBQUdWLE1BQU0sQ0FBQzlVLEtBQTFCO0FBQUEsWUFDSW9ELE9BQU8sR0FBR29TLFlBQVksQ0FBQ3BTLE9BRDNCO0FBQUEsWUFFSTBLLFdBQVcsR0FBRzBILFlBQVksQ0FBQzFILFdBRi9COztBQUlBZ0gsUUFBQUEsTUFBTSxDQUFDOVUsS0FBUCxDQUFhbU8sa0JBQWIsQ0FBZ0MsQ0FBQy9LLE9BQUQsRUFBVTBLLFdBQVYsQ0FBaEMsRUFBd0Q7QUFDdERzSCxVQUFBQSxXQUFXLEVBQUU7QUFEeUMsU0FBeEQ7QUFHRCxPQVRrQjtBQVVuQkssTUFBQUEsV0FBVyxFQUFFLFNBQVNBLFdBQVQsR0FBdUI7QUFDbEMsWUFBSUMsYUFBYSxHQUFHWixNQUFNLENBQUM5VSxLQUEzQjtBQUFBLFlBQ0lvRCxPQUFPLEdBQUdzUyxhQUFhLENBQUN0UyxPQUQ1QjtBQUFBLFlBRUkwSyxXQUFXLEdBQUc0SCxhQUFhLENBQUM1SCxXQUZoQzs7QUFJQWdILFFBQUFBLE1BQU0sQ0FBQzlVLEtBQVAsQ0FBYW1PLGtCQUFiLENBQWdDLENBQUMvSyxPQUFELEVBQVUwSyxXQUFWLENBQWhDLEVBQXdEO0FBQ3REc0gsVUFBQUEsV0FBVyxFQUFFO0FBRHlDLFNBQXhEO0FBR0QsT0FsQmtCO0FBbUJuQk8sTUFBQUEsV0FBVyxFQUFFLFNBQVNBLFdBQVQsQ0FBcUJDLE1BQXJCLEVBQTZCNVEsUUFBN0IsRUFBdUM7QUFDbEQsWUFBSTZRLGFBQWEsR0FBR2YsTUFBTSxDQUFDOVUsS0FBM0I7QUFBQSxZQUNJb0QsT0FBTyxHQUFHeVMsYUFBYSxDQUFDelMsT0FENUI7QUFBQSxZQUVJMEssV0FBVyxHQUFHK0gsYUFBYSxDQUFDL0gsV0FGaEM7O0FBSUFnSCxRQUFBQSxNQUFNLENBQUM5VSxLQUFQLENBQWFtTyxrQkFBYixDQUFnQyxDQUFDeUgsTUFBTSxLQUFLLFNBQVgsR0FBdUI5SCxXQUF2QixHQUFxQzFLLE9BQXRDLENBQWhDLEVBQWdGNEIsUUFBaEY7QUFDRDtBQXpCa0IsS0FBckI7QUEyQkEsV0FBTzhQLE1BQVA7QUFDRDs7QUFFRDlHLEVBQUFBLFlBQVksQ0FBQ2hCLHdCQUFiLEdBQXdDLFNBQVNBLHdCQUFULENBQWtDaE4sS0FBbEMsRUFBeUNpTixTQUF6QyxFQUFvRDtBQUMxRixXQUFPO0FBQ0xrSSxNQUFBQSxjQUFjLEVBQUVwWCxhQUFhLENBQUNBLGFBQWEsQ0FBQyxFQUFELEVBQUtrUCxTQUFTLENBQUNrSSxjQUFmLENBQWQsRUFBOEMsRUFBOUMsRUFBa0Q7QUFDN0VFLFFBQUFBLFdBQVcsRUFBRXJWLEtBQUssQ0FBQzhCO0FBRDBELE9BQWxEO0FBRHhCLEtBQVA7QUFLRCxHQU5EOztBQVVBLE1BQUlnVSxPQUFPLEdBQUc5SCxZQUFZLENBQUNsVCxTQUEzQjs7QUFFQWdiLEVBQUFBLE9BQU8sQ0FBQzVRLG9CQUFSLEdBQStCLFNBQVNBLG9CQUFULENBQThCRixRQUE5QixFQUF3QztBQUNyRSxTQUFLZ0YsUUFBTCxDQUFjLFVBQVUzRixLQUFWLEVBQWlCO0FBQzdCLGFBQU87QUFDTDhRLFFBQUFBLGNBQWMsRUFBRXBYLGFBQWEsQ0FBQ0EsYUFBYSxDQUFDLEVBQUQsRUFBS3NHLEtBQUssQ0FBQzhRLGNBQVgsQ0FBZCxFQUEwQ25RLFFBQTFDO0FBRHhCLE9BQVA7QUFHRCxLQUpEO0FBS0QsR0FORDs7QUFRQThRLEVBQUFBLE9BQU8sQ0FBQ25KLG9CQUFSLEdBQStCLFNBQVNBLG9CQUFULEdBQWdDO0FBQzdELFNBQUszTSxLQUFMLENBQVdxTyxTQUFYLENBQXFCLEtBQUtyTyxLQUFMLENBQVdvRCxPQUFoQztBQUNELEdBRkQ7O0FBSUEwUyxFQUFBQSxPQUFPLENBQUNDLGNBQVIsR0FBeUIsU0FBU0EsY0FBVCxDQUF3QkMsVUFBeEIsRUFBb0NDLGlCQUFwQyxFQUF1RG5VLElBQXZELEVBQTZEUixLQUE3RCxFQUFvRTtBQUMzRixRQUFJMFUsVUFBVSxJQUFJQyxpQkFBbEIsRUFBcUM7QUFDbkNwVixNQUFBQSxPQUFPLENBQUNDLElBQVIsQ0FBYSwwR0FBMEcsOEJBQXZIO0FBQ0Q7O0FBRUQsUUFBSW1WLGlCQUFKLEVBQXVCO0FBSXJCLGFBQW9CN2MsS0FBSyxDQUFDbU4sYUFBTixDQUFvQjBQLGlCQUFwQixFQUF1QztBQUN6RG5VLFFBQUFBLElBQUksRUFBRUEsSUFEbUQ7QUFFekRSLFFBQUFBLEtBQUssRUFBRUEsS0FGa0Q7QUFHekQ0VSxRQUFBQSxVQUFVLEVBQUUsS0FBS1o7QUFId0MsT0FBdkMsQ0FBcEI7QUFLRDs7QUFFRCxRQUFJVSxVQUFKLEVBQWdCO0FBQ2QsYUFBT0EsVUFBVSxDQUFDO0FBQ2hCbFUsUUFBQUEsSUFBSSxFQUFFQSxJQURVO0FBRWhCUixRQUFBQSxLQUFLLEVBQUVBLEtBRlM7QUFHaEI0VSxRQUFBQSxVQUFVLEVBQUUsS0FBS1o7QUFIRCxPQUFELENBQWpCO0FBS0Q7O0FBRUQsS0FBQyxHQUFHeGIsVUFBVSxDQUFDaEIsT0FBZixFQUF3QixLQUF4QixFQUErQixpR0FBL0I7QUFDRCxHQXpCRDs7QUEyQkFnZCxFQUFBQSxPQUFPLENBQUNwSCxNQUFSLEdBQWlCLFNBQVNBLE1BQVQsR0FBa0I7QUFDakMsUUFBSXlILGFBQWEsR0FBRyxLQUFLblcsS0FBekI7QUFBQSxRQUNJeU4scUJBQXFCLEdBQUcwSSxhQUFhLENBQUMxSSxxQkFEMUM7QUFBQSxRQUVJQyxzQkFBc0IsR0FBR3lJLGFBQWEsQ0FBQ3pJLHNCQUYzQztBQUFBLFFBR0lRLGNBQWMsR0FBR2lJLGFBQWEsQ0FBQ2pJLGNBSG5DO0FBQUEsUUFJSW5OLFVBQVUsR0FBR29WLGFBQWEsQ0FBQ3BWLFVBSi9CO0FBQUEsUUFLSWUsSUFBSSxHQUFHcVUsYUFBYSxDQUFDclUsSUFMekI7QUFBQSxRQU1JUixLQUFLLEdBQUc2VSxhQUFhLENBQUM3VSxLQU4xQjtBQUFBLFFBT0lnTSxjQUFjLEdBQUc2SSxhQUFhLENBQUM3SSxjQVBuQztBQUFBLFFBUUlnQixXQUFXLEdBQUc2SCxhQUFhLENBQUM3SCxXQVJoQztBQVNBLFFBQUkwSCxVQUFVLEdBQUcxSCxXQUFXLENBQUMwSCxVQUE3QjtBQUFBLFFBQ0k1VSxhQUFhLEdBQUdrTixXQUFXLENBQUNsTixhQURoQztBQUFBLFFBRUk2VSxpQkFBaUIsR0FBRzNILFdBQVcsQ0FBQzJILGlCQUZwQzs7QUFJQSxRQUFJMUcsT0FBTyxHQUFHLEtBQUt3RyxjQUFMLENBQW9CQyxVQUFwQixFQUFnQ0MsaUJBQWhDLEVBQW1EblUsSUFBbkQsRUFBeURSLEtBQXpELENBQWQ7O0FBRUEsUUFBSWdHLFFBQVEsR0FJWmxHLGFBQWEsSUFBSSxDQUFDa04sV0FBVyxDQUFDcUQsS0FBOUIsSUFBdUMsQ0FBQ3pELGNBQWMsQ0FBQ2tJLE9BQWYsRUFBeEMsR0FBbUVuSSxTQUFuRSxHQUErRSxLQUFLak8sS0FBTCxDQUFXc0gsUUFKMUY7QUFPQSxRQUFJK08sYUFBYSxHQUFHM0ksc0JBQXNCLElBQWlCdFUsS0FBSyxDQUFDbU4sYUFBTixDQUFvQm1ILHNCQUFwQixFQUE0QyxLQUFLckosS0FBTCxDQUFXOFEsY0FBdkQsQ0FBM0Q7QUFDQSxRQUFJbUIsU0FBUyxHQUFHaEosY0FBYyxHQUFHdk0sVUFBVSxHQUFHLENBQUNxTyxNQUFNLENBQUNtSCxVQUFSLEVBQW9CakosY0FBcEIsQ0FBSCxHQUF5QyxDQUFDOEIsTUFBTSxDQUFDb0gsYUFBUixFQUF1QmxKLGNBQXZCLENBQXRELEdBQStGdk0sVUFBVSxHQUFHLENBQUNxTyxNQUFNLENBQUNxSCxHQUFSLEVBQWFuSixjQUFiLENBQUgsR0FBa0NBLGNBQXpLO0FBQ0EsUUFBSW9KLE1BQU0sR0FBRyxDQUFDakoscUJBQUQsR0FNYnJVLEtBQUssQ0FBQ21OLGFBQU4sQ0FBb0I3TSxLQUFLLENBQUNaLE9BQTFCLEVBQW1DO0FBQ2pDNFcsTUFBQUEsS0FBSyxFQUFFNEcsU0FEMEI7QUFFakNoUCxNQUFBQSxRQUFRLEVBQUVBO0FBRnVCLEtBQW5DLEVBR0dpSSxPQUhILEVBR1k4RyxhQUhaLENBTmEsR0FTNkJqZCxLQUFLLENBQUNtTixhQUFOLENBQW9Ca0gscUJBQXBCLEVBQTJDMVEsUUFBUSxDQUFDLEVBQUQsRUFBSyxLQUFLaUQsS0FBVixFQUFpQjtBQUM1RzBQLE1BQUFBLEtBQUssRUFBRTRHLFNBRHFHO0FBRTVHaFAsTUFBQUEsUUFBUSxFQUFFQTtBQUZrRyxLQUFqQixDQUFuRCxFQUd0Q2lJLE9BSHNDLEVBRzdCOEcsYUFINkIsQ0FUMUM7QUFhQSxXQUFvQmpkLEtBQUssQ0FBQ21OLGFBQU4sQ0FBb0J0TSx1QkFBdUIsQ0FBQ3dWLGtDQUE1QyxFQUFnRjtBQUNsR3JNLE1BQUFBLE9BQU8sRUFBRSxLQUFLcEQsS0FBTCxDQUFXb0Q7QUFEOEUsS0FBaEYsRUFFakJzVCxNQUZpQixDQUFwQjtBQUdELEdBekNEOztBQTJDQSxTQUFPMUksWUFBUDtBQUNELENBOUkrQixDQThJOUI1VSxLQUFLLENBQUN1ZCxTQTlJd0IsQ0FBaEM7O0FBZ0pBLFNBQVMvUixtQkFBVCxDQUE2QnRDLFNBQTdCLEVBQXdDO0FBQ3RDLE1BQUlzVSxLQUFLLEdBQUcsOEJBQThCLGVBQWV0VSxTQUFTLENBQUN2QixVQUFWLEdBQXVCLFlBQXZCLEdBQXNDLFVBQXJELElBQW1FLE1BQWpHLEtBQTRHLGtCQUFrQnVCLFNBQVMsQ0FBQ3pILEdBQTVCLEdBQWtDLElBQTlJLEtBQXVKLGtCQUFrQnlILFNBQVMsQ0FBQ2MsT0FBbkwsQ0FBWjtBQUNBLE1BQUlNLFNBQVMsR0FBR3BCLFNBQVMsQ0FBQ29LLGVBQTFCOztBQUVBLFNBQU9oSixTQUFQLEVBQWtCO0FBQ2hCa1QsSUFBQUEsS0FBSyxJQUFJLGtCQUFrQmxULFNBQVMsQ0FBQzNDLFVBQVYsR0FBdUIsWUFBdkIsR0FBc0MsVUFBeEQsSUFBc0UsTUFBdEUsSUFBZ0Ysa0JBQWtCMkMsU0FBUyxDQUFDSixPQUE1QixHQUFzQyxJQUF0SCxLQUErSCxrQkFBa0JJLFNBQVMsQ0FBQ04sT0FBM0osQ0FBVDtBQUNBTSxJQUFBQSxTQUFTLEdBQUdBLFNBQVMsQ0FBQ0QsTUFBdEI7QUFDRDs7QUFFRCxTQUFPbVQsS0FBUDtBQUNEOztBQUVELElBQUl4SCxNQUFNLEdBQUc1VixXQUFXLENBQUNWLE9BQVosQ0FBb0I4RixNQUFwQixDQUEyQjtBQUN0QzBRLEVBQUFBLGtCQUFrQixFQUFFO0FBQ2xCdUgsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFDVkMsTUFBQUEsTUFBTSxFQUFFLENBQUM7QUFEQyxLQUFEO0FBRE8sR0FEa0I7QUFNdEN6SCxFQUFBQSxvQkFBb0IsRUFBRTtBQUNwQndILElBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQ1ZFLE1BQUFBLE1BQU0sRUFBRSxDQUFDO0FBREMsS0FBRDtBQURTLEdBTmdCO0FBV3RDTixFQUFBQSxHQUFHLEVBQUU7QUFDSE8sSUFBQUEsYUFBYSxFQUFFO0FBRFosR0FYaUM7QUFjdENULEVBQUFBLFVBQVUsRUFBRTtBQUNWUyxJQUFBQSxhQUFhLEVBQUU7QUFETCxHQWQwQjtBQWlCdENSLEVBQUFBLGFBQWEsRUFBRTtBQUNiUSxJQUFBQSxhQUFhLEVBQUU7QUFERixHQWpCdUI7QUFvQnRDckYsRUFBQUEsS0FBSyxFQUFFO0FBQ0xzRixJQUFBQSxJQUFJLEVBQUU7QUFERCxHQXBCK0I7QUF1QnRDaEUsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDaEJpRSxJQUFBQSxRQUFRLEVBQUUsVUFETTtBQUVoQjdELElBQUFBLEdBQUcsRUFBRSxDQUZXO0FBR2hCOEQsSUFBQUEsS0FBSyxFQUFFO0FBSFMsR0F2Qm9CO0FBNEJ0Q2pFLEVBQUFBLFlBQVksRUFBRTtBQUNaa0UsSUFBQUEsTUFBTSxFQUFFLENBREk7QUFFWnJQLElBQUFBLEtBQUssRUFBRSxFQUZLO0FBR1pzUCxJQUFBQSxXQUFXLEVBQUUsTUFIRDtBQUlaQyxJQUFBQSxXQUFXLEVBQUU7QUFKRCxHQTVCd0I7QUFrQ3RDbEUsRUFBQUEsaUJBQWlCLEVBQUU7QUFDakJtRSxJQUFBQSxJQUFJLEVBQUUsQ0FEVztBQUVqQkMsSUFBQUEsZUFBZSxFQUFFO0FBRkEsR0FsQ21CO0FBc0N0Q2xFLEVBQUFBLHFCQUFxQixFQUFFO0FBQ3JCaUUsSUFBQUEsSUFBSSxFQUFFLENBRGU7QUFFckJGLElBQUFBLFdBQVcsRUFBRSxPQUZRO0FBR3JCQyxJQUFBQSxXQUFXLEVBQUU7QUFIUSxHQXRDZTtBQTJDdEMvRCxFQUFBQSxvQkFBb0IsRUFBRTtBQUNwQmdFLElBQUFBLElBQUksRUFBRSxDQURjO0FBRXBCRixJQUFBQSxXQUFXLEVBQUUsS0FGTztBQUdwQkMsSUFBQUEsV0FBVyxFQUFFO0FBSE87QUEzQ2dCLENBQTNCLENBQWI7O0FBa0RBLElBQUlHLFFBQVEsR0FBR2hZLGVBQWY7QUFDQTdHLE9BQU8sQ0FBQ0UsT0FBUixHQUFrQjJlLFFBQWxCO0FBQ0FDLE1BQU0sQ0FBQzllLE9BQVAsR0FBaUJBLE9BQU8sQ0FBQ0UsT0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9CYXRjaGluYXRvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL0JhdGNoaW5hdG9yXCIpKTtcblxudmFyIF9GaWxsUmF0ZUhlbHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL0ZpbGxSYXRlSGVscGVyXCIpKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpKTtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9SZWZyZXNoQ29udHJvbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL2V4cG9ydHMvUmVmcmVzaENvbnRyb2xcIikpO1xuXG52YXIgX1Njcm9sbFZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi8uLi9leHBvcnRzL1Njcm9sbFZpZXdcIikpO1xuXG52YXIgX1N0eWxlU2hlZXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi8uLi9leHBvcnRzL1N0eWxlU2hlZXRcIikpO1xuXG52YXIgX1VJTWFuYWdlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL2V4cG9ydHMvVUlNYW5hZ2VyXCIpKTtcblxudmFyIF9WaWV3ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vLi4vZXhwb3J0cy9WaWV3XCIpKTtcblxudmFyIF9WaWV3YWJpbGl0eUhlbHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1ZpZXdhYmlsaXR5SGVscGVyXCIpKTtcblxudmFyIF9maW5kTm9kZUhhbmRsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL2V4cG9ydHMvZmluZE5vZGVIYW5kbGVcIikpO1xuXG52YXIgX2luZm9Mb2cgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9pbmZvTG9nXCIpKTtcblxudmFyIF9pbnZhcmlhbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJmYmpzL2xpYi9pbnZhcmlhbnRcIikpO1xuXG52YXIgX3dhcm5pbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJmYmpzL2xpYi93YXJuaW5nXCIpKTtcblxudmFyIF9WaXJ0dWFsaXplVXRpbHMgPSByZXF1aXJlKFwiLi4vVmlydHVhbGl6ZVV0aWxzXCIpO1xuXG52YXIgX1ZpcnR1YWxpemVkTGlzdENvbnRleHQgPSByZXF1aXJlKFwiLi9WaXJ0dWFsaXplZExpc3RDb250ZXh0LmpzXCIpO1xuXG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsgX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyByZXR1cm4gY2FjaGU7IH07IHJldHVybiBjYWNoZTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCk7IGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkgeyByZXR1cm4gY2FjaGUuZ2V0KG9iaik7IH0gdmFyIG5ld09iaiA9IHt9OyB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgcmV0dXJuIGl0Lm5leHQuYmluZChpdCk7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgZmxhdHRlblN0eWxlID0gX1N0eWxlU2hlZXQuZGVmYXVsdC5mbGF0dGVuO1xuXG52YXIgX19ERVZfXyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbic7XG5cbnZhciBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG52YXIgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuXG4vKipcbiAqIEJhc2UgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBtb3JlIGNvbnZlbmllbnQgW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdC5odG1sKVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3Mvc2VjdGlvbmxpc3QuaHRtbCkgY29tcG9uZW50cywgd2hpY2ggYXJlIGFsc28gYmV0dGVyXG4gKiBkb2N1bWVudGVkLiBJbiBnZW5lcmFsLCB0aGlzIHNob3VsZCBvbmx5IHJlYWxseSBiZSB1c2VkIGlmIHlvdSBuZWVkIG1vcmUgZmxleGliaWxpdHkgdGhhblxuICogYEZsYXRMaXN0YCBwcm92aWRlcywgZS5nLiBmb3IgdXNlIHdpdGggaW1tdXRhYmxlIGRhdGEgaW5zdGVhZCBvZiBwbGFpbiBhcnJheXMuXG4gKlxuICogVmlydHVhbGl6YXRpb24gbWFzc2l2ZWx5IGltcHJvdmVzIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgcGVyZm9ybWFuY2Ugb2YgbGFyZ2UgbGlzdHMgYnlcbiAqIG1haW50YWluaW5nIGEgZmluaXRlIHJlbmRlciB3aW5kb3cgb2YgYWN0aXZlIGl0ZW1zIGFuZCByZXBsYWNpbmcgYWxsIGl0ZW1zIG91dHNpZGUgb2YgdGhlIHJlbmRlclxuICogd2luZG93IHdpdGggYXBwcm9wcmlhdGVseSBzaXplZCBibGFuayBzcGFjZS4gVGhlIHdpbmRvdyBhZGFwdHMgdG8gc2Nyb2xsaW5nIGJlaGF2aW9yLCBhbmQgaXRlbXNcbiAqIGFyZSByZW5kZXJlZCBpbmNyZW1lbnRhbGx5IHdpdGggbG93LXByaSAoYWZ0ZXIgYW55IHJ1bm5pbmcgaW50ZXJhY3Rpb25zKSBpZiB0aGV5IGFyZSBmYXIgZnJvbSB0aGVcbiAqIHZpc2libGUgYXJlYSwgb3Igd2l0aCBoaS1wcmkgb3RoZXJ3aXNlIHRvIG1pbmltaXplIHRoZSBwb3RlbnRpYWwgb2Ygc2VlaW5nIGJsYW5rIHNwYWNlLlxuICpcbiAqIFNvbWUgY2F2ZWF0czpcbiAqXG4gKiAtIEludGVybmFsIHN0YXRlIGlzIG5vdCBwcmVzZXJ2ZWQgd2hlbiBjb250ZW50IHNjcm9sbHMgb3V0IG9mIHRoZSByZW5kZXIgd2luZG93LiBNYWtlIHN1cmUgYWxsXG4gKiAgIHlvdXIgZGF0YSBpcyBjYXB0dXJlZCBpbiB0aGUgaXRlbSBkYXRhIG9yIGV4dGVybmFsIHN0b3JlcyBsaWtlIEZsdXgsIFJlZHV4LCBvciBSZWxheS5cbiAqIC0gVGhpcyBpcyBhIGBQdXJlQ29tcG9uZW50YCB3aGljaCBtZWFucyB0aGF0IGl0IHdpbGwgbm90IHJlLXJlbmRlciBpZiBgcHJvcHNgIHJlbWFpbiBzaGFsbG93LVxuICogICBlcXVhbC4gTWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyB5b3VyIGByZW5kZXJJdGVtYCBmdW5jdGlvbiBkZXBlbmRzIG9uIGlzIHBhc3NlZCBhcyBhIHByb3BcbiAqICAgKGUuZy4gYGV4dHJhRGF0YWApIHRoYXQgaXMgbm90IGA9PT1gIGFmdGVyIHVwZGF0ZXMsIG90aGVyd2lzZSB5b3VyIFVJIG1heSBub3QgdXBkYXRlIG9uXG4gKiAgIGNoYW5nZXMuIFRoaXMgaW5jbHVkZXMgdGhlIGBkYXRhYCBwcm9wIGFuZCBwYXJlbnQgY29tcG9uZW50IHN0YXRlLlxuICogLSBJbiBvcmRlciB0byBjb25zdHJhaW4gbWVtb3J5IGFuZCBlbmFibGUgc21vb3RoIHNjcm9sbGluZywgY29udGVudCBpcyByZW5kZXJlZCBhc3luY2hyb25vdXNseVxuICogICBvZmZzY3JlZW4uIFRoaXMgbWVhbnMgaXQncyBwb3NzaWJsZSB0byBzY3JvbGwgZmFzdGVyIHRoYW4gdGhlIGZpbGwgcmF0ZSBhbmRzIG1vbWVudGFyaWx5IHNlZVxuICogICBibGFuayBjb250ZW50LiBUaGlzIGlzIGEgdHJhZGVvZmYgdGhhdCBjYW4gYmUgYWRqdXN0ZWQgdG8gc3VpdCB0aGUgbmVlZHMgb2YgZWFjaCBhcHBsaWNhdGlvbixcbiAqICAgYW5kIHdlIGFyZSB3b3JraW5nIG9uIGltcHJvdmluZyBpdCBiZWhpbmQgdGhlIHNjZW5lcy5cbiAqIC0gQnkgZGVmYXVsdCwgdGhlIGxpc3QgbG9va3MgZm9yIGEgYGtleWAgb3IgYGlkYCBwcm9wIG9uIGVhY2ggaXRlbSBhbmQgdXNlcyB0aGF0IGZvciB0aGUgUmVhY3Qga2V5LlxuICogICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHByb3ZpZGUgYSBjdXN0b20gYGtleUV4dHJhY3RvcmAgcHJvcC5cbiAqXG4gKi9cbnZhciBWaXJ0dWFsaXplZExpc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFZpcnR1YWxpemVkTGlzdCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfcHJvdG8gPSBWaXJ0dWFsaXplZExpc3QucHJvdG90eXBlO1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBfcHJvdG8uc2Nyb2xsVG9FbmQgPSBmdW5jdGlvbiBzY3JvbGxUb0VuZChwYXJhbXMpIHtcbiAgICB2YXIgYW5pbWF0ZWQgPSBwYXJhbXMgPyBwYXJhbXMuYW5pbWF0ZWQgOiB0cnVlO1xuICAgIHZhciB2ZXJ5TGFzdCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuXG4gICAgdmFyIGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHZlcnlMYXN0KTtcblxuICAgIHZhciBvZmZzZXQgPSBNYXRoLm1heCgwLCBmcmFtZS5vZmZzZXQgKyBmcmFtZS5sZW5ndGggKyB0aGlzLl9mb290ZXJMZW5ndGggLSB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgpO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIHNjcm9sbFRvIG1ldGhvZCBwcm92aWRlZC4gVGhpcyBtYXkgYmUgYmVjYXVzZSB5b3UgaGF2ZSB0d28gbmVzdGVkICcgKyAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKHRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IHtcbiAgICAgIHg6IG9mZnNldCxcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZFxuICAgIH0gOiB7XG4gICAgICB5OiBvZmZzZXQsXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWRcbiAgICB9KTtcbiAgfSAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICA7XG5cbiAgX3Byb3RvLnNjcm9sbFRvSW5kZXggPSBmdW5jdGlvbiBzY3JvbGxUb0luZGV4KHBhcmFtcykge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wcy5kYXRhLFxuICAgICAgICBob3Jpem9udGFsID0gX3RoaXMkcHJvcHMuaG9yaXpvbnRhbCxcbiAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHMuZ2V0SXRlbUNvdW50LFxuICAgICAgICBnZXRJdGVtTGF5b3V0ID0gX3RoaXMkcHJvcHMuZ2V0SXRlbUxheW91dCxcbiAgICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkID0gX3RoaXMkcHJvcHMub25TY3JvbGxUb0luZGV4RmFpbGVkO1xuICAgIHZhciBhbmltYXRlZCA9IHBhcmFtcy5hbmltYXRlZCxcbiAgICAgICAgaW5kZXggPSBwYXJhbXMuaW5kZXgsXG4gICAgICAgIHZpZXdPZmZzZXQgPSBwYXJhbXMudmlld09mZnNldCxcbiAgICAgICAgdmlld1Bvc2l0aW9uID0gcGFyYW1zLnZpZXdQb3NpdGlvbjtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShpbmRleCA+PSAwLCBcInNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggXCIgKyBpbmRleCArIFwiIGJ1dCBtaW5pbXVtIGlzIDBcIik7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoZ2V0SXRlbUNvdW50KGRhdGEpID49IDEsIFwic2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IGl0ZW0gbGVuZ3RoIFwiICsgZ2V0SXRlbUNvdW50KGRhdGEpICsgXCIgYnV0IG1pbmltdW0gaXMgMVwiKTtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShpbmRleCA8IGdldEl0ZW1Db3VudChkYXRhKSwgXCJzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgMCB0byBcIiArIChnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSk7XG5cbiAgICBpZiAoIWdldEl0ZW1MYXlvdXQgJiYgaW5kZXggPiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4KSB7XG4gICAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KSghIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArICdvdGhlcndpc2UgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgdGhlIGxvY2F0aW9uIG9mIG9mZnNjcmVlbiBpbmRpY2VzIG9yIGhhbmRsZSBmYWlsdXJlcy4nKTtcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCh7XG4gICAgICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaW5kZXgpO1xuXG4gICAgdmFyIG9mZnNldCA9IE1hdGgubWF4KDAsIGZyYW1lLm9mZnNldCAtICh2aWV3UG9zaXRpb24gfHwgMCkgKiAodGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC0gZnJhbWUubGVuZ3RoKSkgLSAodmlld09mZnNldCB8fCAwKTtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKCdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICsgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgKyAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhob3Jpem9udGFsID8ge1xuICAgICAgeDogb2Zmc2V0LFxuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkXG4gICAgfSA6IHtcbiAgICAgIHk6IG9mZnNldCxcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZFxuICAgIH0pO1xuICB9IC8vIHNjcm9sbFRvSXRlbSBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3AuIFJlcXVpcmVkIGxpbmVhciBzY2FuIHRocm91Z2ggaXRlbXMgLVxuICAvLyB1c2Ugc2Nyb2xsVG9JbmRleCBpbnN0ZWFkIGlmIHBvc3NpYmxlLlxuICA7XG5cbiAgX3Byb3RvLnNjcm9sbFRvSXRlbSA9IGZ1bmN0aW9uIHNjcm9sbFRvSXRlbShwYXJhbXMpIHtcbiAgICB2YXIgaXRlbSA9IHBhcmFtcy5pdGVtO1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHMyLmRhdGEsXG4gICAgICAgIGdldEl0ZW0gPSBfdGhpcyRwcm9wczIuZ2V0SXRlbSxcbiAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHMyLmdldEl0ZW1Db3VudDtcbiAgICB2YXIgaXRlbUNvdW50ID0gZ2V0SXRlbUNvdW50KGRhdGEpO1xuXG4gICAgZm9yICh2YXIgX2luZGV4ID0gMDsgX2luZGV4IDwgaXRlbUNvdW50OyBfaW5kZXgrKykge1xuICAgICAgaWYgKGdldEl0ZW0oZGF0YSwgX2luZGV4KSA9PT0gaXRlbSkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMpLCB7fSwge1xuICAgICAgICAgIGluZGV4OiBfaW5kZXhcbiAgICAgICAgfSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmljIGNvbnRlbnQgcGl4ZWwgb2Zmc2V0IGluIHRoZSBsaXN0LlxuICAgKlxuICAgKiBQYXJhbSBgb2Zmc2V0YCBleHBlY3RzIHRoZSBvZmZzZXQgdG8gc2Nyb2xsIHRvLlxuICAgKiBJbiBjYXNlIG9mIGBob3Jpem9udGFsYCBpcyB0cnVlLCB0aGUgb2Zmc2V0IGlzIHRoZSB4LXZhbHVlLFxuICAgKiBpbiBhbnkgb3RoZXIgY2FzZSB0aGUgb2Zmc2V0IGlzIHRoZSB5LXZhbHVlLlxuICAgKlxuICAgKiBQYXJhbSBgYW5pbWF0ZWRgIChgdHJ1ZWAgYnkgZGVmYXVsdCkgZGVmaW5lcyB3aGV0aGVyIHRoZSBsaXN0XG4gICAqIHNob3VsZCBkbyBhbiBhbmltYXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zY3JvbGxUb09mZnNldCA9IGZ1bmN0aW9uIHNjcm9sbFRvT2Zmc2V0KHBhcmFtcykge1xuICAgIHZhciBhbmltYXRlZCA9IHBhcmFtcy5hbmltYXRlZCxcbiAgICAgICAgb2Zmc2V0ID0gcGFyYW1zLm9mZnNldDtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKCdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICsgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgKyAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyh0aGlzLnByb3BzLmhvcml6b250YWwgPyB7XG4gICAgICB4OiBvZmZzZXQsXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWRcbiAgICB9IDoge1xuICAgICAgeTogb2Zmc2V0LFxuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkXG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlY29yZEludGVyYWN0aW9uID0gZnVuY3Rpb24gcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZExpc3QpIHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgdC52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICB9O1xuXG4gIF9wcm90by5mbGFzaFNjcm9sbEluZGljYXRvcnMgPSBmdW5jdGlvbiBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGhhbmRsZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLlxuICAgKiBOb3RlIHRoYXQgYHRoaXMuX3Njcm9sbFJlZmAgbWlnaHQgbm90IGJlIGEgYFNjcm9sbFZpZXdgLCBzbyB3ZVxuICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgaXQgcmVzcG9uZHMgdG8gYGdldFNjcm9sbFJlc3BvbmRlcmAgYmVmb3JlIGNhbGxpbmcgaXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFNjcm9sbFJlc3BvbmRlciA9IGZ1bmN0aW9uIGdldFNjcm9sbFJlc3BvbmRlcigpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5nZXRTY3JvbGxhYmxlTm9kZSA9IGZ1bmN0aW9uIGdldFNjcm9sbGFibGVOb2RlKCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoMCwgX2ZpbmROb2RlSGFuZGxlLmRlZmF1bHQpKHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5nZXRTY3JvbGxSZWYgPSBmdW5jdGlvbiBnZXRTY3JvbGxSZWYoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uc2V0TmF0aXZlUHJvcHMgPSBmdW5jdGlvbiBzZXROYXRpdmVQcm9wcyhwcm9wcykge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5fZ2V0Q2VsbEtleSA9IGZ1bmN0aW9uIF9nZXRDZWxsS2V5KCkge1xuICAgIHZhciBfdGhpcyRjb250ZXh0O1xuXG4gICAgcmV0dXJuICgoX3RoaXMkY29udGV4dCA9IHRoaXMuY29udGV4dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGNvbnRleHQuY2VsbEtleSkgfHwgJ3Jvb3RMaXN0JztcbiAgfTtcblxuICBfcHJvdG8uX2dldExpc3RLZXkgPSBmdW5jdGlvbiBfZ2V0TGlzdEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKTtcbiAgfTtcblxuICBfcHJvdG8uX2dldERlYnVnSW5mbyA9IGZ1bmN0aW9uIF9nZXREZWJ1Z0luZm8oKSB7XG4gICAgdmFyIF90aGlzJGNvbnRleHQyO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxpc3RLZXk6IHRoaXMuX2dldExpc3RLZXkoKSxcbiAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgIGhvcml6b250YWw6ICEhdGhpcy5wcm9wcy5ob3Jpem9udGFsLFxuICAgICAgcGFyZW50OiAoX3RoaXMkY29udGV4dDIgPSB0aGlzLmNvbnRleHQpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRjb250ZXh0Mi5kZWJ1Z0luZm9cbiAgICB9O1xuICB9O1xuXG4gIF9wcm90by5oYXNNb3JlID0gZnVuY3Rpb24gaGFzTW9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faGFzTW9yZTtcbiAgfTtcblxuICBmdW5jdGlvbiBWaXJ0dWFsaXplZExpc3QoX3Byb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5jYWxsKHRoaXMsIF9wcm9wcykgfHwgdGhpcztcblxuICAgIF90aGlzLl9nZXRTY3JvbGxNZXRyaWNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIH07XG5cbiAgICBfdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5fZ2V0TmVzdGVkQ2hpbGRTdGF0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBleGlzdGluZ0NoaWxkRGF0YSA9IF90aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChrZXkpO1xuXG4gICAgICByZXR1cm4gZXhpc3RpbmdDaGlsZERhdGEgJiYgZXhpc3RpbmdDaGlsZERhdGEuc3RhdGU7XG4gICAgfTtcblxuICAgIF90aGlzLl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGRMaXN0KSB7XG4gICAgICAvLyBSZWdpc3RlciB0aGUgbWFwcGluZyBiZXR3ZWVuIHRoaXMgY2hpbGQga2V5IGFuZCB0aGUgY2VsbEtleSBmb3IgaXRzIGNlbGxcbiAgICAgIHZhciBjaGlsZExpc3RzSW5DZWxsID0gX3RoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjaGlsZExpc3QuY2VsbEtleSkgfHwgbmV3IFNldCgpO1xuICAgICAgY2hpbGRMaXN0c0luQ2VsbC5hZGQoY2hpbGRMaXN0LmtleSk7XG5cbiAgICAgIF90aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5zZXQoY2hpbGRMaXN0LmNlbGxLZXksIGNoaWxkTGlzdHNJbkNlbGwpO1xuXG4gICAgICB2YXIgZXhpc3RpbmdDaGlsZERhdGEgPSBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRMaXN0LmtleSk7XG5cbiAgICAgIGlmIChleGlzdGluZ0NoaWxkRGF0YSAmJiBleGlzdGluZ0NoaWxkRGF0YS5yZWYgIT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQSBWaXJ0dWFsaXplZExpc3QgY29udGFpbnMgYSBjZWxsIHdoaWNoIGl0c2VsZiBjb250YWlucyAnICsgJ21vcmUgdGhhbiBvbmUgVmlydHVhbGl6ZWRMaXN0IG9mIHRoZSBzYW1lIG9yaWVudGF0aW9uIGFzIHRoZSBwYXJlbnQgJyArICdsaXN0LiBZb3UgbXVzdCBwYXNzIGEgdW5pcXVlIGxpc3RLZXkgcHJvcCB0byBlYWNoIHNpYmxpbmcgbGlzdC5cXG5cXG4nICsgZGVzY3JpYmVOZXN0ZWRMaXN0cyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNoaWxkTGlzdCksIHt9LCB7XG4gICAgICAgICAgLy8gV2UncmUgY2FsbGVkIGZyb20gdGhlIGNoaWxkJ3MgY29tcG9uZW50RGlkTW91bnQsIHNvIGl0J3Mgc2FmZSB0b1xuICAgICAgICAgIC8vIHJlYWQgdGhlIGNoaWxkJ3MgcHJvcHMgaGVyZSAoYWxiZWl0IHdlaXJkKS5cbiAgICAgICAgICBob3Jpem9udGFsOiAhIWNoaWxkTGlzdC5yZWYucHJvcHMuaG9yaXpvbnRhbFxuICAgICAgICB9KSkpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zZXQoY2hpbGRMaXN0LmtleSwge1xuICAgICAgICByZWY6IGNoaWxkTGlzdC5yZWYsXG4gICAgICAgIHN0YXRlOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICAgIGNoaWxkTGlzdC5yZWYucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkID0gZnVuY3Rpb24gKGNoaWxkTGlzdCkge1xuICAgICAgX3RoaXMuX25lc3RlZENoaWxkTGlzdHMuc2V0KGNoaWxkTGlzdC5rZXksIHtcbiAgICAgICAgcmVmOiBudWxsLFxuICAgICAgICBzdGF0ZTogY2hpbGRMaXN0LnN0YXRlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuX29uVXBkYXRlU2VwYXJhdG9ycyA9IGZ1bmN0aW9uIChrZXlzLCBuZXdQcm9wcykge1xuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHJlZiA9IGtleSAhPSBudWxsICYmIF90aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgICByZWYgJiYgcmVmLnVwZGF0ZVNlcGFyYXRvclByb3BzKG5ld1Byb3BzKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggPSAwO1xuICAgIF90aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cyA9IG5ldyBNYXAoKTtcbiAgICBfdGhpcy5fY2VsbFJlZnMgPSB7fTtcbiAgICBfdGhpcy5fZnJhbWVzID0ge307XG4gICAgX3RoaXMuX2Zvb3Rlckxlbmd0aCA9IDA7XG4gICAgX3RoaXMuX2hhc0RvbmVJbml0aWFsU2Nyb2xsID0gZmFsc2U7XG4gICAgX3RoaXMuX2hhc0ludGVyYWN0ZWQgPSBmYWxzZTtcbiAgICBfdGhpcy5faGFzTW9yZSA9IGZhbHNlO1xuICAgIF90aGlzLl9oYXNXYXJuZWQgPSB7fTtcbiAgICBfdGhpcy5faGVhZGVyTGVuZ3RoID0gMDtcbiAgICBfdGhpcy5faGlQcmlJblByb2dyZXNzID0gZmFsc2U7XG4gICAgX3RoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICAgIF90aGlzLl9pbmRpY2VzVG9LZXlzID0gbmV3IE1hcCgpO1xuICAgIF90aGlzLl9uZXN0ZWRDaGlsZExpc3RzID0gbmV3IE1hcCgpO1xuICAgIF90aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0ID0gMDtcbiAgICBfdGhpcy5fcHJldlBhcmVudE9mZnNldCA9IDA7XG4gICAgX3RoaXMuX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgICAgZE9mZnNldDogMCxcbiAgICAgIGR0OiAxMCxcbiAgICAgIG9mZnNldDogMCxcbiAgICAgIHRpbWVzdGFtcDogMCxcbiAgICAgIHZlbG9jaXR5OiAwLFxuICAgICAgdmlzaWJsZUxlbmd0aDogMFxuICAgIH07XG4gICAgX3RoaXMuX3Njcm9sbFJlZiA9IG51bGw7XG4gICAgX3RoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgICBfdGhpcy5fdG90YWxDZWxsTGVuZ3RoID0gMDtcbiAgICBfdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgICBfdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSBbXTtcblxuICAgIF90aGlzLl9jYXB0dXJlU2Nyb2xsUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgICB9O1xuXG4gICAgX3RoaXMuX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIHZhciBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG5cbiAgICAgIGlmIChfdGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHByb3BzKTtcbiAgICAgIH0gZWxzZSBpZiAob25SZWZyZXNoKSB7XG4gICAgICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKHR5cGVvZiBwcm9wcy5yZWZyZXNoaW5nID09PSAnYm9vbGVhbicsICdgcmVmcmVzaGluZ2AgcHJvcCBtdXN0IGJlIHNldCBhcyBhIGJvb2xlYW4gaW4gb3JkZXIgdG8gdXNlIGBvblJlZnJlc2hgLCBidXQgZ290IGAnICtcbiAgICAgICAgLyogJEZsb3dGaXhNZSg+PTAuMTExLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzXG4gICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLFxuICAgICAgICAgKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvcHMucmVmcmVzaGluZykgKyAnYCcpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX1Njcm9sbFZpZXcuZGVmYXVsdCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgICByZWZyZXNoQ29udHJvbDogcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9SZWZyZXNoQ29udHJvbC5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgIHJlZnJlc2hpbmc6IHByb3BzLnJlZnJlc2hpbmcsXG4gICAgICAgICAgICAgIG9uUmVmcmVzaDogb25SZWZyZXNoLFxuICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ6IHByb3BzLnByb2dyZXNzVmlld09mZnNldFxuICAgICAgICAgICAgfSkgOiBwcm9wcy5yZWZyZXNoQ29udHJvbFxuICAgICAgICAgIH0pKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9TY3JvbGxWaWV3LmRlZmF1bHQsIHByb3BzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX29uQ2VsbFVubW91bnQgPSBmdW5jdGlvbiAoY2VsbEtleSkge1xuICAgICAgdmFyIGN1cnIgPSBfdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuXG4gICAgICBpZiAoY3Vycikge1xuICAgICAgICBfdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjdXJyKSwge30sIHtcbiAgICAgICAgICBpbkxheW91dDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9vbkxheW91dCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAgIC8vIE5lZWQgdG8gYWRqdXN0IG91ciBzY3JvbGwgbWV0cmljcyB0byBiZSByZWxhdGl2ZSB0byBvdXIgY29udGFpbmluZ1xuICAgICAgICAvLyBWaXJ0dWFsaXplZExpc3QgYmVmb3JlIHdlIGNhbiBtYWtlIGNsYWltcyBhYm91dCBsaXN0IGl0ZW0gdmlld2FiaWxpdHlcbiAgICAgICAgX3RoaXMubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IF90aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5wcm9wcy5vbkxheW91dCAmJiBfdGhpcy5wcm9wcy5vbkxheW91dChlKTtcblxuICAgICAgX3RoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuXG4gICAgICBfdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgfTtcblxuICAgIF90aGlzLl9vbkxheW91dEVtcHR5ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uTGF5b3V0ICYmIF90aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25MYXlvdXRGb290ZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKF90aGlzLl9nZXRGb290ZXJDZWxsS2V5KCkpO1xuXG4gICAgICBfdGhpcy5fZm9vdGVyTGVuZ3RoID0gX3RoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gICAgfTtcblxuICAgIF90aGlzLl9vbkxheW91dEhlYWRlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5faGVhZGVyTGVuZ3RoID0gX3RoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gICAgfTtcblxuICAgIF90aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIGlmICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCAmJiBfdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwICYmICFfdGhpcy5faGFzRG9uZUluaXRpYWxTY3JvbGwpIHtcbiAgICAgICAgX3RoaXMuX2hhc0RvbmVJbml0aWFsU2Nyb2xsID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IF90aGlzLl9zZWxlY3RMZW5ndGgoe1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuXG4gICAgICBfdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgfTtcblxuICAgIF90aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyA9IGZ1bmN0aW9uIChtZXRyaWNzKSB7XG4gICAgICAvLyBPZmZzZXQgb2YgdGhlIHRvcCBvZiB0aGUgbmVzdGVkIGxpc3QgcmVsYXRpdmUgdG8gdGhlIHRvcCBvZiBpdHMgcGFyZW50J3Mgdmlld3BvcnRcbiAgICAgIHZhciBvZmZzZXQgPSBtZXRyaWNzLm9mZnNldCAtIF90aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OyAvLyBDaGlsZCdzIHZpc2libGUgbGVuZ3RoIGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQnc1xuXG4gICAgICB2YXIgdmlzaWJsZUxlbmd0aCA9IG1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIHZhciBkT2Zmc2V0ID0gb2Zmc2V0IC0gX3RoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgICAgdmFyIGNvbnRlbnRMZW5ndGggPSBfdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmlzaWJsZUxlbmd0aDogdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgY29udGVudExlbmd0aDogY29udGVudExlbmd0aCxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIGRPZmZzZXQ6IGRPZmZzZXRcbiAgICAgIH07XG4gICAgfTtcblxuICAgIF90aGlzLl9vblNjcm9sbCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZExpc3QpIHtcbiAgICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbChlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25TY3JvbGwpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcDtcblxuICAgICAgdmFyIHZpc2libGVMZW5ndGggPSBfdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0TWVhc3VyZW1lbnQpO1xuXG4gICAgICB2YXIgY29udGVudExlbmd0aCA9IF90aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5jb250ZW50U2l6ZSk7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBfdGhpcy5fc2VsZWN0T2Zmc2V0KGUubmF0aXZlRXZlbnQuY29udGVudE9mZnNldCk7XG5cbiAgICAgIHZhciBkT2Zmc2V0ID0gb2Zmc2V0IC0gX3RoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgICBpZiAoX3RoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAgIGlmIChfdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgLy8gSWdub3JlIHNjcm9sbCBldmVudHMgdW50aWwgb25MYXlvdXQgaGFzIGJlZW4gY2FsbGVkIGFuZCB3ZVxuICAgICAgICAgIC8vIGtub3cgb3VyIG9mZnNldCBmcm9tIG91ciBvZmZzZXQgZnJvbSBvdXIgcGFyZW50XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF90aGlzJF9jb252ZXJ0UGFyZW50UyA9IF90aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgICAgdmlzaWJsZUxlbmd0aDogdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgICB9KTtcblxuICAgICAgICB2aXNpYmxlTGVuZ3RoID0gX3RoaXMkX2NvbnZlcnRQYXJlbnRTLnZpc2libGVMZW5ndGg7XG4gICAgICAgIGNvbnRlbnRMZW5ndGggPSBfdGhpcyRfY29udmVydFBhcmVudFMuY29udGVudExlbmd0aDtcbiAgICAgICAgb2Zmc2V0ID0gX3RoaXMkX2NvbnZlcnRQYXJlbnRTLm9mZnNldDtcbiAgICAgICAgZE9mZnNldCA9IF90aGlzJF9jb252ZXJ0UGFyZW50Uy5kT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICB2YXIgZHQgPSBfdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXAgPyBNYXRoLm1heCgxLCB0aW1lc3RhbXAgLSBfdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXApIDogMTtcbiAgICAgIHZhciB2ZWxvY2l0eSA9IGRPZmZzZXQgLyBkdDtcblxuICAgICAgaWYgKGR0ID4gNTAwICYmIF90aGlzLl9zY3JvbGxNZXRyaWNzLmR0ID4gNTAwICYmIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJiAhX3RoaXMuX2hhc1dhcm5lZC5wZXJmKSB7XG4gICAgICAgICgwLCBfaW5mb0xvZy5kZWZhdWx0KSgnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgKyAncmVuZGVySXRlbSBmdW5jdGlvbiByZW5kZXJzIGNvbXBvbmVudHMgdGhhdCBmb2xsb3cgUmVhY3QgcGVyZm9ybWFuY2UgYmVzdCBwcmFjdGljZXMgJyArICdsaWtlIFB1cmVDb21wb25lbnQsIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgZXRjLicsIHtcbiAgICAgICAgICBkdDogZHQsXG4gICAgICAgICAgcHJldkR0OiBfdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCxcbiAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50TGVuZ3RoXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fc2Nyb2xsTWV0cmljcyA9IHtcbiAgICAgICAgY29udGVudExlbmd0aDogY29udGVudExlbmd0aCxcbiAgICAgICAgZHQ6IGR0LFxuICAgICAgICBkT2Zmc2V0OiBkT2Zmc2V0LFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgIHZlbG9jaXR5OiB2ZWxvY2l0eSxcbiAgICAgICAgdmlzaWJsZUxlbmd0aDogdmlzaWJsZUxlbmd0aFxuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMoX3RoaXMucHJvcHMuZGF0YSk7XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG5cbiAgICAgIGlmICh2ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgICBfdGhpcy5fZmlsbFJhdGVIZWxwZXIuYWN0aXZhdGUoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcblxuICAgICAgX3RoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRMaXN0KSB7XG4gICAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2goZnVuY3Rpb24gKHR1cGxlKSB7XG4gICAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX2hhc0ludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgX3RoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgX3RoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgfTtcblxuICAgIF90aGlzLl9vblNjcm9sbEVuZERyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRMaXN0KSB7XG4gICAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGxFbmREcmFnKGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciB2ZWxvY2l0eSA9IGUubmF0aXZlRXZlbnQudmVsb2NpdHk7XG5cbiAgICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgICBfdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IF90aGlzLl9zZWxlY3RPZmZzZXQodmVsb2NpdHkpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgX3RoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25Nb21lbnR1bVNjcm9sbEJlZ2luID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkTGlzdCkge1xuICAgICAgICBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYuX29uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgX3RoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25Nb21lbnR1bVNjcm9sbEVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZExpc3QpIHtcbiAgICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gMDtcblxuICAgICAgX3RoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcblxuICAgICAgX3RoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiBfdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHMzLmRhdGEsXG4gICAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHMzLmdldEl0ZW1Db3VudCxcbiAgICAgICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBfdGhpcyRwcm9wczMub25FbmRSZWFjaGVkVGhyZXNob2xkO1xuXG4gICAgICB2YXIgaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkID0gX3RoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuXG4gICAgICBfdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhKTtcblxuICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBuZXdTdGF0ZTtcbiAgICAgICAgdmFyIF90aGlzJF9zY3JvbGxNZXRyaWNzID0gX3RoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoID0gX3RoaXMkX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCxcbiAgICAgICAgICAgIG9mZnNldCA9IF90aGlzJF9zY3JvbGxNZXRyaWNzLm9mZnNldCxcbiAgICAgICAgICAgIHZpc2libGVMZW5ndGggPSBfdGhpcyRfc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuXG4gICAgICAgIGlmICghaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcnVuIHRoaXMgd2l0aCBib2d1cyBkYXRhLCB3ZSdsbCBmb3JjZS1yZW5kZXIgd2luZG93IHtmaXJzdDogMCwgbGFzdDogMH0sXG4gICAgICAgICAgLy8gYW5kIHdpcGUgb3V0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgcmVuZGVyZWQgZWxlbWVudHMuXG4gICAgICAgICAgLy8gU28gbGV0J3Mgd2FpdCB1bnRpbCB0aGUgc2Nyb2xsIHZpZXcgbWV0cmljcyBoYXZlIGJlZW4gc2V0IHVwLiBBbmQgdW50aWwgdGhlbixcbiAgICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgc3VnZ2VzdGlvblxuICAgICAgICAgIGlmICh2aXNpYmxlTGVuZ3RoID4gMCAmJiBjb250ZW50TGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG5vbi16ZXJvIGluaXRpYWxTY3JvbGxJbmRleCBhbmQgcnVuIHRoaXMgYmVmb3JlIHdlJ3ZlIHNjcm9sbGVkLFxuICAgICAgICAgICAgLy8gd2UnbGwgd2lwZSBvdXQgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciByZW5kZXJlZCBlbGVtZW50cyBzdGFydGluZyBhdCBpbml0aWFsU2Nyb2xsSW5kZXguXG4gICAgICAgICAgICAvLyBTbyBsZXQncyB3YWl0IHVudGlsIHdlJ3ZlIHNjcm9sbGVkIHRoZSB2aWV3IHRvIHRoZSByaWdodCBwbGFjZS4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsU2Nyb2xsSW5kZXggc3VnZ2VzdGlvbi5cbiAgICAgICAgICAgIGlmICghX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IF90aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCkge1xuICAgICAgICAgICAgICBuZXdTdGF0ZSA9ICgwLCBfVmlydHVhbGl6ZVV0aWxzLmNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cykoX3RoaXMucHJvcHMsIHN0YXRlLCBfdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94LCBfdGhpcy5fc2Nyb2xsTWV0cmljcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcbiAgICAgICAgICB2YXIgcmVuZGVyQWhlYWQgPVxuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzXG4gICAgICAgICAgICogYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvclxuICAgICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGggPyBfdGhpcy5wcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoIDogMDtcbiAgICAgICAgICBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgIGZpcnN0OiAwLFxuICAgICAgICAgICAgbGFzdDogTWF0aC5taW4oc3RhdGUubGFzdCArIHJlbmRlckFoZWFkLCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV3U3RhdGUgJiYgX3RoaXMuX25lc3RlZENoaWxkTGlzdHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICB2YXIgbmV3Rmlyc3QgPSBuZXdTdGF0ZS5maXJzdDtcbiAgICAgICAgICB2YXIgbmV3TGFzdCA9IG5ld1N0YXRlLmxhc3Q7IC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgICAgIC8vIHVwIHRocm91Z2ggdGhhdCBpdGVtLCBzbyB0aGF0IHdlIGdpdmUgdGhhdCBsaXN0IGEgY2hhbmNlIHRvIHJlbmRlci5cbiAgICAgICAgICAvLyBPdGhlcndpc2UgdGhlcmUncyBjaHVybiBmcm9tIG11bHRpcGxlIGNoaWxkIGxpc3RzIG1vdW50aW5nIGFuZCB1bi1tb3VudGluZ1xuICAgICAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuXG4gICAgICAgICAgZm9yICh2YXIgaWkgPSBuZXdGaXJzdDsgaWkgPD0gbmV3TGFzdDsgaWkrKykge1xuICAgICAgICAgICAgdmFyIGNlbGxLZXlGb3JJbmRleCA9IF90aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG5cbiAgICAgICAgICAgIHZhciBjaGlsZExpc3RLZXlzID0gY2VsbEtleUZvckluZGV4ICYmIF90aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleUZvckluZGV4KTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc29tZUNoaWxkSGFzTW9yZSA9IGZhbHNlOyAvLyBGb3IgZWFjaCBjZWxsLCBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgYW55IGNoaWxkIGxpc3QgaW4gaXQgaGFzIG1vcmUgZWxlbWVudHMgdG8gcmVuZGVyXG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UoY2hpbGRMaXN0S2V5cyksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgIHZhciBjaGlsZEtleSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgIHZhciBjaGlsZExpc3QgPSBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuXG4gICAgICAgICAgICAgIGlmIChjaGlsZExpc3QgJiYgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLmhhc01vcmUoKSkge1xuICAgICAgICAgICAgICAgIHNvbWVDaGlsZEhhc01vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzb21lQ2hpbGRIYXNNb3JlICYmIG5ld1N0YXRlKSB7XG4gICAgICAgICAgICAgIG5ld1N0YXRlLmxhc3QgPSBpaTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld1N0YXRlICE9IG51bGwgJiYgbmV3U3RhdGUuZmlyc3QgPT09IHN0YXRlLmZpcnN0ICYmIG5ld1N0YXRlLmxhc3QgPT09IHN0YXRlLmxhc3QpIHtcbiAgICAgICAgICBuZXdTdGF0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuX2NyZWF0ZVZpZXdUb2tlbiA9IGZ1bmN0aW9uIChpbmRleCwgaXNWaWV3YWJsZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wczQuZGF0YSxcbiAgICAgICAgICBnZXRJdGVtID0gX3RoaXMkcHJvcHM0LmdldEl0ZW0sXG4gICAgICAgICAga2V5RXh0cmFjdG9yID0gX3RoaXMkcHJvcHM0LmtleUV4dHJhY3RvcjtcbiAgICAgIHZhciBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIGtleToga2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KSxcbiAgICAgICAgaXNWaWV3YWJsZTogaXNWaWV3YWJsZVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX3RoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIGZyYW1lID0gX3RoaXMuX2dldEZyYW1lTWV0cmljcyhpbmRleCk7XG5cbiAgICAgIGlmIChmcmFtZSAmJiBmcmFtZS5pbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGludmFsaWQgZnJhbWVzIGR1ZSB0byByb3cgcmUtb3JkZXJpbmdcbiAgICAgICAgcmV0dXJuIGZyYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGdldEl0ZW1MYXlvdXQgPSBfdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0O1xuICAgICAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KSghZ2V0SXRlbUxheW91dCwgJ1Nob3VsZCBub3QgaGF2ZSB0byBlc3RpbWF0ZSBmcmFtZXMgd2hlbiBhIG1lYXN1cmVtZW50IG1ldHJpY3MgZnVuY3Rpb24gaXMgcHJvdmlkZWQnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsZW5ndGg6IF90aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgICBvZmZzZXQ6IF90aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCAqIGluZGV4XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9nZXRGcmFtZU1ldHJpY3MgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHM1LmRhdGEsXG4gICAgICAgICAgZ2V0SXRlbSA9IF90aGlzJHByb3BzNS5nZXRJdGVtLFxuICAgICAgICAgIGdldEl0ZW1Db3VudCA9IF90aGlzJHByb3BzNS5nZXRJdGVtQ291bnQsXG4gICAgICAgICAgZ2V0SXRlbUxheW91dCA9IF90aGlzJHByb3BzNS5nZXRJdGVtTGF5b3V0LFxuICAgICAgICAgIGtleUV4dHJhY3RvciA9IF90aGlzJHByb3BzNS5rZXlFeHRyYWN0b3I7XG4gICAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShnZXRJdGVtQ291bnQoZGF0YSkgPiBpbmRleCwgJ1RyaWVkIHRvIGdldCBmcmFtZSBmb3Igb3V0IG9mIHJhbmdlIGluZGV4ICcgKyBpbmRleCk7XG4gICAgICB2YXIgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaW5kZXgpO1xuXG4gICAgICB2YXIgZnJhbWUgPSBpdGVtICYmIF90aGlzLl9mcmFtZXNba2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KV07XG5cbiAgICAgIGlmICghZnJhbWUgfHwgZnJhbWUuaW5kZXggIT09IGluZGV4KSB7XG4gICAgICAgIGlmIChnZXRJdGVtTGF5b3V0KSB7XG4gICAgICAgICAgZnJhbWUgPSBnZXRJdGVtTGF5b3V0KGRhdGEsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuXG5cbiAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9O1xuXG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoIC8vICRGbG93Rml4TWVcbiAgICAhX3Byb3BzLm9uU2Nyb2xsIHx8ICFfcHJvcHMub25TY3JvbGwuX19pc05hdGl2ZSwgJ0NvbXBvbmVudHMgYmFzZWQgb24gVmlydHVhbGl6ZWRMaXN0IG11c3QgYmUgd3JhcHBlZCB3aXRoIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ICcgKyAndG8gc3VwcG9ydCBuYXRpdmUgb25TY3JvbGwgZXZlbnRzIHdpdGggdXNlTmF0aXZlRHJpdmVyJyk7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoX3Byb3BzLndpbmRvd1NpemUgPiAwLCAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgd2luZG93U2l6ZSBwcm9wIG11c3QgYmUgcHJlc2VudCBhbmQgc2V0IHRvIGEgdmFsdWUgZ3JlYXRlciB0aGFuIDAuJyk7XG4gICAgX3RoaXMuX2ZpbGxSYXRlSGVscGVyID0gbmV3IF9GaWxsUmF0ZUhlbHBlci5kZWZhdWx0KF90aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIF90aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciA9IG5ldyBfQmF0Y2hpbmF0b3IuZGVmYXVsdChfdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlciwgX3RoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCk7XG5cbiAgICBpZiAoX3RoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICBfdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSBfdGhpcy5wcm9wcy52aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMubWFwKGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBfVmlld2FiaWxpdHlIZWxwZXIuZGVmYXVsdChwYWlyLnZpZXdhYmlsaXR5Q29uZmlnKSxcbiAgICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiBwYWlyLm9uVmlld2FibGVJdGVtc0NoYW5nZWRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMucHJvcHMub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCkge1xuICAgICAgdmFyIG9uVmlld2FibGVJdGVtc0NoYW5nZWQgPSBfdGhpcy5wcm9wcy5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkO1xuXG4gICAgICBfdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgX1ZpZXdhYmlsaXR5SGVscGVyLmRlZmF1bHQoX3RoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgZmlyc3Q6IF90aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCAwLFxuICAgICAgbGFzdDogTWF0aC5taW4oX3RoaXMucHJvcHMuZ2V0SXRlbUNvdW50KF90aGlzLnByb3BzLmRhdGEpLCAoX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDApICsgX3RoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyKSAtIDFcbiAgICB9O1xuXG4gICAgaWYgKF90aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdmFyIHN0b3JlZFN0YXRlID0gX3RoaXMuY29udGV4dC5nZXROZXN0ZWRDaGlsZFN0YXRlKF90aGlzLl9nZXRMaXN0S2V5KCkpO1xuXG4gICAgICBpZiAoc3RvcmVkU3RhdGUpIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIF90aGlzLl9mcmFtZXMgPSBzdG9yZWRTdGF0ZS5mcmFtZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3RoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICB0aGlzLmNvbnRleHQucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5fZ2V0Q2VsbEtleSgpLFxuICAgICAgICBrZXk6IHRoaXMuX2dldExpc3RLZXkoKSxcbiAgICAgICAgcmVmOiB0aGlzLFxuICAgICAgICAvLyBOT1RFOiBXaGVuIHRoZSBjaGlsZCBtb3VudHMgKGhlcmUpIGl0J3Mgbm90IG5lY2Vzc2FyaWx5IHNhZmUgdG8gcmVhZFxuICAgICAgICAvLyB0aGUgcGFyZW50J3MgcHJvcHMuIFRoaXMgaXMgd2h5IHdlIGV4cGxpY2l0bHkgcHJvcGFnYXRlIGRlYnVnSW5mb1xuICAgICAgICAvLyBcImRvd25cIiB2aWEgY29udGV4dCBhbmQgXCJ1cFwiIGFnYWluIHZpYSB0aGlzIG1ldGhvZCBjYWxsIG9uIHRoZVxuICAgICAgICAvLyBwYXJlbnQuXG4gICAgICAgIHBhcmVudERlYnVnSW5mbzogdGhpcy5jb250ZXh0LmRlYnVnSW5mb1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnVucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAga2V5OiB0aGlzLl9nZXRMaXN0S2V5KCksXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgZmlyc3Q6IHRoaXMuc3RhdGUuZmlyc3QsXG4gICAgICAgICAgbGFzdDogdGhpcy5zdGF0ZS5sYXN0LFxuICAgICAgICAgIGZyYW1lczogdGhpcy5fZnJhbWVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMobnVsbCk7XG5cbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHtcbiAgICAgIGFib3J0OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0dXBsZSkge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH07XG5cbiAgVmlydHVhbGl6ZWRMaXN0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIGRhdGEgPSBuZXdQcm9wcy5kYXRhLFxuICAgICAgICBnZXRJdGVtQ291bnQgPSBuZXdQcm9wcy5nZXRJdGVtQ291bnQsXG4gICAgICAgIG1heFRvUmVuZGVyUGVyQmF0Y2ggPSBuZXdQcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoOyAvLyBmaXJzdCBhbmQgbGFzdCBjb3VsZCBiZSBzdGFsZSAoZS5nLiBpZiBhIG5ldywgc2hvcnRlciBpdGVtcyBwcm9wcyBpcyBwYXNzZWQgaW4pLCBzbyB3ZSBtYWtlXG4gICAgLy8gc3VyZSB3ZSdyZSByZW5kZXJpbmcgYSByZWFzb25hYmxlIHJhbmdlIGhlcmUuXG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IE1hdGgubWF4KDAsIE1hdGgubWluKHByZXZTdGF0ZS5maXJzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAtIG1heFRvUmVuZGVyUGVyQmF0Y2gpKSxcbiAgICAgIGxhc3Q6IE1hdGgubWF4KDAsIE1hdGgubWluKHByZXZTdGF0ZS5sYXN0LCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSlcbiAgICB9O1xuICB9O1xuXG4gIF9wcm90by5fcHVzaENlbGxzID0gZnVuY3Rpb24gX3B1c2hDZWxscyhjZWxscywgc3RpY2t5SGVhZGVySW5kaWNlcywgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcywgZmlyc3QsIGxhc3QsIGludmVyc2lvblN0eWxlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHM2LkNlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCA9IF90aGlzJHByb3BzNi5JdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHM2LmRhdGEsXG4gICAgICAgIGdldEl0ZW0gPSBfdGhpcyRwcm9wczYuZ2V0SXRlbSxcbiAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHM2LmdldEl0ZW1Db3VudCxcbiAgICAgICAgaG9yaXpvbnRhbCA9IF90aGlzJHByb3BzNi5ob3Jpem9udGFsLFxuICAgICAgICBrZXlFeHRyYWN0b3IgPSBfdGhpcyRwcm9wczYua2V5RXh0cmFjdG9yO1xuICAgIHZhciBzdGlja3lPZmZzZXQgPSB0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcbiAgICB2YXIgZW5kID0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMTtcbiAgICB2YXIgcHJldkNlbGxLZXk7XG4gICAgbGFzdCA9IE1hdGgubWluKGVuZCwgbGFzdCk7XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpaSkge1xuICAgICAgdmFyIGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIHZhciBrZXkgPSBrZXlFeHRyYWN0b3IoaXRlbSwgaWkpO1xuXG4gICAgICBfdGhpczIuX2luZGljZXNUb0tleXMuc2V0KGlpLCBrZXkpO1xuXG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoaWkgKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaChjZWxscy5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBjZWxscy5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDZWxsUmVuZGVyZXIsIHtcbiAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50OiBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ6IGlpIDwgZW5kID8gSXRlbVNlcGFyYXRvckNvbXBvbmVudCA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2VsbEtleToga2V5LFxuICAgICAgICBmaWxsUmF0ZUhlbHBlcjogX3RoaXMyLl9maWxsUmF0ZUhlbHBlcixcbiAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbCxcbiAgICAgICAgaW5kZXg6IGlpLFxuICAgICAgICBpbnZlcnNpb25TdHlsZTogaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcmV2Q2VsbEtleTogcHJldkNlbGxLZXksXG4gICAgICAgIG9uVXBkYXRlU2VwYXJhdG9yczogX3RoaXMyLl9vblVwZGF0ZVNlcGFyYXRvcnMsXG4gICAgICAgIG9uTGF5b3V0OiBmdW5jdGlvbiBvbkxheW91dChlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5fb25DZWxsTGF5b3V0KGUsIGtleSwgaWkpO1xuICAgICAgICB9LFxuICAgICAgICBvblVubW91bnQ6IF90aGlzMi5fb25DZWxsVW5tb3VudCxcbiAgICAgICAgcGFyZW50UHJvcHM6IF90aGlzMi5wcm9wcyxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuICAgICAgICAgIF90aGlzMi5fY2VsbFJlZnNba2V5XSA9IF9yZWY7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICAgIHByZXZDZWxsS2V5ID0ga2V5O1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBfbG9vcChpaSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5faXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkID0gZnVuY3Rpb24gX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24gfHwgZmFsc2U7XG4gIH07XG5cbiAgX3Byb3RvLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24gPSBmdW5jdGlvbiBfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkge1xuICAgIHZhciBuZXN0ZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiAhIShuZXN0ZWRDb250ZXh0ICYmICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSAhIXRoaXMucHJvcHMuaG9yaXpvbnRhbCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICB2YXIgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG5cbiAgICAgIGlmIChmbGF0U3R5bGVzICE9IG51bGwgJiYgZmxhdFN0eWxlcy5mbGV4V3JhcCA9PT0gJ3dyYXAnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICsgJ0NvbnNpZGVyIHVzaW5nIGBudW1Db2x1bW5zYCB3aXRoIGBGbGF0TGlzdGAgaW5zdGVhZC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50ID0gX3RoaXMkcHJvcHM3Lkxpc3RFbXB0eUNvbXBvbmVudCxcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudCA9IF90aGlzJHByb3BzNy5MaXN0Rm9vdGVyQ29tcG9uZW50LFxuICAgICAgICBMaXN0SGVhZGVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHM3Lkxpc3RIZWFkZXJDb21wb25lbnQ7XG4gICAgdmFyIF90aGlzJHByb3BzOCA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wczguZGF0YSxcbiAgICAgICAgaG9yaXpvbnRhbCA9IF90aGlzJHByb3BzOC5ob3Jpem9udGFsO1xuXG4gICAgdmFyIGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuXG4gICAgdmFyIGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZCA/IHRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IHN0eWxlcy5ob3Jpem9udGFsbHlJbnZlcnRlZCA6IHN0eWxlcy52ZXJ0aWNhbGx5SW52ZXJ0ZWQgOiBudWxsO1xuICAgIHZhciBjZWxscyA9IFtdO1xuICAgIHZhciBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIHZhciBzdGlja3lIZWFkZXJJbmRpY2VzID0gW107XG5cbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCkgPyBMaXN0SGVhZGVyQ29tcG9uZW50IDpcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCwgbnVsbCk7XG4gICAgICBjZWxscy5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyLCB7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSArICctaGVhZGVyJyxcbiAgICAgICAga2V5OiBcIiRoZWFkZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXRIZWFkZXIsXG4gICAgICAgIHN0eWxlOiBfU3R5bGVTaGVldC5kZWZhdWx0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlKVxuICAgICAgfSwgLy8gJEZsb3dGaXhNZSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgIGVsZW1lbnQpKSk7XG4gICAgfVxuXG4gICAgdmFyIGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KGRhdGEpO1xuXG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbiAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSAnJztcbiAgICAgIHZhciBzcGFjZXJLZXkgPSAhaG9yaXpvbnRhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICAgIHZhciBsYXN0SW5pdGlhbEluZGV4ID0gdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPyAtMSA6IHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyIC0gMTtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgZmlyc3QgPSBfdGhpcyRzdGF0ZS5maXJzdCxcbiAgICAgICAgICBsYXN0ID0gX3RoaXMkc3RhdGUubGFzdDtcblxuICAgICAgdGhpcy5fcHVzaENlbGxzKGNlbGxzLCBzdGlja3lIZWFkZXJJbmRpY2VzLCBzdGlja3lJbmRpY2VzRnJvbVByb3BzLCAwLCBsYXN0SW5pdGlhbEluZGV4LCBpbnZlcnNpb25TdHlsZSk7XG5cbiAgICAgIHZhciBmaXJzdEFmdGVySW5pdGlhbCA9IE1hdGgubWF4KGxhc3RJbml0aWFsSW5kZXggKyAxLCBmaXJzdCk7XG5cbiAgICAgIGlmICghaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkICYmIGZpcnN0ID4gbGFzdEluaXRpYWxJbmRleCArIDEpIHtcbiAgICAgICAgdmFyIGluc2VydGVkU3RpY2t5U3BhY2VyID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICB2YXIgc3RpY2t5T2Zmc2V0ID0gTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwOyAvLyBTZWUgaWYgdGhlcmUgYXJlIGFueSBzdGlja3kgaGVhZGVycyBpbiB0aGUgdmlydHVhbGl6ZWQgc3BhY2UgdGhhdCB3ZSBuZWVkIHRvIHJlbmRlci5cblxuICAgICAgICAgIGZvciAodmFyIGlpID0gZmlyc3RBZnRlckluaXRpYWwgLSAxOyBpaSA+IGxhc3RJbml0aWFsSW5kZXg7IGlpLS0pIHtcbiAgICAgICAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgdmFyIF9yZWYyLCBfcmVmMztcblxuICAgICAgICAgICAgICB2YXIgaW5pdEJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3RJbml0aWFsSW5kZXgpO1xuXG4gICAgICAgICAgICAgIHZhciBzdGlja3lCbG9jayA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSk7XG5cbiAgICAgICAgICAgICAgdmFyIGxlYWRTcGFjZSA9IHN0aWNreUJsb2NrLm9mZnNldCAtIGluaXRCbG9jay5vZmZzZXQgLSAodGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPyAwIDogaW5pdEJsb2NrLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICAgIC8qI19fUFVSRV9fKi9cblxuICAgICAgICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC4xMTEuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICAgICAgICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjExMSB3YXMgZGVwbG95ZWQuIFRvXG4gICAgICAgICAgICAgICAqIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiJHN0aWNreV9sZWFkXCIsXG4gICAgICAgICAgICAgICAgc3R5bGU6IChfcmVmMiA9IHt9LCBfcmVmMltzcGFjZXJLZXldID0gbGVhZFNwYWNlLCBfcmVmMilcbiAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIHRoaXMuX3B1c2hDZWxscyhjZWxscywgc3RpY2t5SGVhZGVySW5kaWNlcywgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcywgaWksIGlpLCBpbnZlcnNpb25TdHlsZSk7XG5cbiAgICAgICAgICAgICAgdmFyIHRyYWlsU3BhY2UgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldCAtIChzdGlja3lCbG9jay5vZmZzZXQgKyBzdGlja3lCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovXG5cbiAgICAgICAgICAgICAgLyogJEZsb3dGaXhNZSg+PTAuMTExLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAgICAgICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUb1xuICAgICAgICAgICAgICAgKiBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIiRzdGlja3lfdHJhaWxcIixcbiAgICAgICAgICAgICAgICBzdHlsZTogKF9yZWYzID0ge30sIF9yZWYzW3NwYWNlcktleV0gPSB0cmFpbFNwYWNlLCBfcmVmMylcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBpbnNlcnRlZFN0aWNreVNwYWNlciA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaW5zZXJ0ZWRTdGlja3lTcGFjZXIpIHtcbiAgICAgICAgICB2YXIgX3JlZjQ7XG5cbiAgICAgICAgICB2YXIgX2luaXRCbG9jayA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0SW5pdGlhbEluZGV4KTtcblxuICAgICAgICAgIHZhciBmaXJzdFNwYWNlID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLSAoX2luaXRCbG9jay5vZmZzZXQgKyBfaW5pdEJsb2NrLmxlbmd0aCk7XG5cbiAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgIC8qI19fUFVSRV9fKi9cblxuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjExMS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnRcbiAgICAgICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUbyBzZWVcbiAgICAgICAgICAgKiB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgICAgICAga2V5OiBcIiRsZWFkX3NwYWNlclwiLFxuICAgICAgICAgICAgc3R5bGU6IChfcmVmNCA9IHt9LCBfcmVmNFtzcGFjZXJLZXldID0gZmlyc3RTcGFjZSwgX3JlZjQpXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3B1c2hDZWxscyhjZWxscywgc3RpY2t5SGVhZGVySW5kaWNlcywgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcywgZmlyc3RBZnRlckluaXRpYWwsIGxhc3QsIGludmVyc2lvblN0eWxlKTtcblxuICAgICAgaWYgKCF0aGlzLl9oYXNXYXJuZWQua2V5cyAmJiBfdXNlZEluZGV4Rm9yS2V5KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVmlydHVhbGl6ZWRMaXN0OiBtaXNzaW5nIGtleXMgZm9yIGl0ZW1zLCBtYWtlIHN1cmUgdG8gc3BlY2lmeSBhIGtleSBvciBpZCBwcm9wZXJ0eSBvbiBlYWNoICcgKyAnaXRlbSBvciBwcm92aWRlIGEgY3VzdG9tIGtleUV4dHJhY3Rvci4nLCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgICB2YXIgX3JlZjU7XG5cbiAgICAgICAgdmFyIGxhc3RGcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0KTsgLy8gV2l0aG91dCBnZXRJdGVtTGF5b3V0LCB3ZSBsaW1pdCBvdXIgdGFpbCBzcGFjZXIgdG8gdGhlIF9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IHRvXG4gICAgICAgIC8vIHByZXZlbnQgdGhlIHVzZXIgZm9yIGh5cGVyc2Nyb2xsaW5nIGludG8gdW4tbWVhc3VyZWQgYXJlYSBiZWNhdXNlIG90aGVyd2lzZSBjb250ZW50IHdpbGxcbiAgICAgICAgLy8gbGlrZWx5IGp1bXAgYXJvdW5kIGFzIGl0IHJlbmRlcnMgaW4gYWJvdmUgdGhlIHZpZXdwb3J0LlxuXG5cbiAgICAgICAgdmFyIGVuZCA9IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCA/IGl0ZW1Db3VudCAtIDEgOiBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4KTtcblxuICAgICAgICB2YXIgZW5kRnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZW5kKTtcblxuICAgICAgICB2YXIgdGFpbFNwYWNlckxlbmd0aCA9IGVuZEZyYW1lLm9mZnNldCArIGVuZEZyYW1lLmxlbmd0aCAtIChsYXN0RnJhbWUub2Zmc2V0ICsgbGFzdEZyYW1lLmxlbmd0aCk7XG4gICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIC8qI19fUFVSRV9fKi9cblxuICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC4xMTEuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXNcbiAgICAgICAgICogYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjExMSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsXG4gICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6IFwiJHRhaWxfc3BhY2VyXCIsXG4gICAgICAgICAgc3R5bGU6IChfcmVmNSA9IHt9LCBfcmVmNVtzcGFjZXJLZXldID0gdGFpbFNwYWNlckxlbmd0aCwgX3JlZjUpXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgdmFyIF9lbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RFbXB0eUNvbXBvbmVudCkgPyBMaXN0RW1wdHlDb21wb25lbnQgOlxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0RW1wdHlDb21wb25lbnQsIG51bGwpO1xuXG4gICAgICBjZWxscy5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KF9lbGVtZW50LCB7XG4gICAgICAgIGtleTogJyRlbXB0eScsXG4gICAgICAgIG9uTGF5b3V0OiBmdW5jdGlvbiBvbkxheW91dChldmVudCkge1xuICAgICAgICAgIF90aGlzMy5fb25MYXlvdXRFbXB0eShldmVudCk7XG5cbiAgICAgICAgICBpZiAoX2VsZW1lbnQucHJvcHMub25MYXlvdXQpIHtcbiAgICAgICAgICAgIF9lbGVtZW50LnByb3BzLm9uTGF5b3V0KGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiBfU3R5bGVTaGVldC5kZWZhdWx0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIF9lbGVtZW50LnByb3BzLnN0eWxlKVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGlmIChMaXN0Rm9vdGVyQ29tcG9uZW50KSB7XG4gICAgICB2YXIgX2VsZW1lbnQyID0gLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQpID8gTGlzdEZvb3RlckNvbXBvbmVudCA6XG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQsIG51bGwpO1xuXG4gICAgICBjZWxscy5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyLCB7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMuX2dldEZvb3RlckNlbGxLZXkoKSxcbiAgICAgICAga2V5OiBcIiRmb290ZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXRGb290ZXIsXG4gICAgICAgIHN0eWxlOiBfU3R5bGVTaGVldC5kZWZhdWx0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlKVxuICAgICAgfSwgLy8gJEZsb3dGaXhNZSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgIF9lbGVtZW50MikpKTtcbiAgICB9XG5cbiAgICB2YXIgc2Nyb2xsUHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMucHJvcHMpLCB7fSwge1xuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogdGhpcy5fb25Db250ZW50U2l6ZUNoYW5nZSxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9vbkxheW91dCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9vblNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5fb25TY3JvbGxFbmREcmFnLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLFxuICAgICAgLy8gVE9ETzogQW5kcm9pZCBzdXBwb3J0XG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzOiBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgc3R5bGU6IGludmVyc2lvblN0eWxlID8gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXSA6IHRoaXMucHJvcHMuc3R5bGVcbiAgICB9KTtcblxuICAgIHRoaXMuX2hhc01vcmUgPSB0aGlzLnN0YXRlLmxhc3QgPCB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcbiAgICB2YXIgaW5uZXJSZXQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5WaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGNlbGxLZXk6IG51bGwsXG4gICAgICAgIGdldFNjcm9sbE1ldHJpY3M6IHRoaXMuX2dldFNjcm9sbE1ldHJpY3MsXG4gICAgICAgIGhvcml6b250YWw6IHRoaXMucHJvcHMuaG9yaXpvbnRhbCxcbiAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgZ2V0TmVzdGVkQ2hpbGRTdGF0ZTogdGhpcy5fZ2V0TmVzdGVkQ2hpbGRTdGF0ZSxcbiAgICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgZGVidWdJbmZvOiB0aGlzLl9nZXREZWJ1Z0luZm8oKVxuICAgICAgfVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoKHRoaXMucHJvcHMucmVuZGVyU2Nyb2xsQ29tcG9uZW50IHx8IHRoaXMuX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQpKHNjcm9sbFByb3BzKSwge1xuICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmXG4gICAgfSwgY2VsbHMpKTtcbiAgICB2YXIgcmV0ID0gaW5uZXJSZXQ7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5kZWJ1Zykge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICAgICAgc3R5bGU6IHN0eWxlcy5kZWJ1Z1xuICAgICAgfSwgcmV0LCB0aGlzLl9yZW5kZXJEZWJ1Z092ZXJsYXkoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIF90aGlzJHByb3BzOSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wczkuZGF0YSxcbiAgICAgICAgZXh0cmFEYXRhID0gX3RoaXMkcHJvcHM5LmV4dHJhRGF0YTtcblxuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIC8vIGNsZWFyIHRoZSB2aWV3YWJsZUluZGljZXMgY2FjaGUgdG8gYWxzbyB0cmlnZ2VyXG4gICAgICAvLyB0aGUgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCBjYWxsYmFjayB3aXRoIHRoZSBuZXcgZGF0YVxuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaChmdW5jdGlvbiAodHVwbGUpIHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gVGhlIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGlzIGd1YXJhbnRlZWluZyBhIGhpUHJpIGNlbGwgdXBkYXRlIHdpbGwgb25seSBoYXBwZW5cbiAgICAvLyBvbmNlIHBlciBmaWJlciB1cGRhdGUuIFRoZSBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBzZXQgaXQgdG8gdHJ1ZVxuICAgIC8vIGlmIGEgaGlQcmkgdXBkYXRlIG5lZWRzIHRvIHBlcmZvcm0uIElmIGBjb21wb25lbnREaWRVcGRhdGVgIGlzIHRyaWdnZXJlZCB3aXRoXG4gICAgLy8gYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcz10cnVlYCwgbWVhbnMgaXQncyB0cmlnZ2VyZWQgYnkgdGhlIGhpUHJpIHVwZGF0ZS4gVGhlXG4gICAgLy8gYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgY2hlY2sgdGhpcyBjb25kaXRpb24gYW5kIG5vdCBwZXJmb3JtXG4gICAgLy8gYW5vdGhlciBoaVByaSB1cGRhdGUuXG5cblxuICAgIHZhciBoaVByaUluUHJvZ3Jlc3MgPSB0aGlzLl9oaVByaUluUHJvZ3Jlc3M7XG5cbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTsgLy8gTWFrZSBzdXJlIHNldHRpbmcgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgYmFjayB0byBmYWxzZSBhZnRlciBgY29tcG9uZW50RGlkVXBkYXRlYFxuICAgIC8vIGlzIHRyaWdnZXJlZCB3aXRoIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlYFxuXG5cbiAgICBpZiAoaGlQcmlJblByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLl9jb21wdXRlQmxhbmtuZXNzID0gZnVuY3Rpb24gX2NvbXB1dGVCbGFua25lc3MoKSB7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuY29tcHV0ZUJsYW5rbmVzcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLCB0aGlzLl9zY3JvbGxNZXRyaWNzKTtcbiAgfTtcblxuICBfcHJvdG8uX29uQ2VsbExheW91dCA9IGZ1bmN0aW9uIF9vbkNlbGxMYXlvdXQoZSwgY2VsbEtleSwgaW5kZXgpIHtcbiAgICB2YXIgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgdmFyIG5leHQgPSB7XG4gICAgICBvZmZzZXQ6IHRoaXMuX3NlbGVjdE9mZnNldChsYXlvdXQpLFxuICAgICAgbGVuZ3RoOiB0aGlzLl9zZWxlY3RMZW5ndGgobGF5b3V0KSxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIGluTGF5b3V0OiB0cnVlXG4gICAgfTtcbiAgICB2YXIgY3VyciA9IHRoaXMuX2ZyYW1lc1tjZWxsS2V5XTtcblxuICAgIGlmICghY3VyciB8fCBuZXh0Lm9mZnNldCAhPT0gY3Vyci5vZmZzZXQgfHwgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8IGluZGV4ICE9PSBjdXJyLmluZGV4KSB7XG4gICAgICB0aGlzLl90b3RhbENlbGxMZW5ndGggKz0gbmV4dC5sZW5ndGggLSAoY3VyciA/IGN1cnIubGVuZ3RoIDogMCk7XG4gICAgICB0aGlzLl90b3RhbENlbGxzTWVhc3VyZWQgKz0gY3VyciA/IDAgOiAxO1xuICAgICAgdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggPSB0aGlzLl90b3RhbENlbGxMZW5ndGggLyB0aGlzLl90b3RhbENlbGxzTWVhc3VyZWQ7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0gPSBuZXh0O1xuICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCA9IE1hdGgubWF4KHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsIGluZGV4KTtcblxuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleSk7XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG5cbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gIH07XG5cbiAgX3Byb3RvLl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCA9IGZ1bmN0aW9uIF90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5KSB7XG4gICAgdmFyIGNoaWxkTGlzdEtleXMgPSB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleSk7XG5cbiAgICBpZiAoY2hpbGRMaXN0S2V5cykge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UoY2hpbGRMaXN0S2V5cyksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBjaGlsZEtleSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICB2YXIgY2hpbGRMaXN0ID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuXG4gICAgICAgIGNoaWxkTGlzdCAmJiBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCA9IGZ1bmN0aW9uIG1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAvLyBUT0RPIChUMzU1NzQ1MzgpOiBmaW5kTm9kZUhhbmRsZSBzb21ldGltZXMgY3Jhc2hlcyB3aXRoIFwiVW5hYmxlIHRvIGZpbmRcbiAgICAvLyBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnRcIiBkdXJpbmcgc2Nyb2xsaW5nXG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gV2UgYXJlIGFzc3VtaW5nIHRoYXQgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpXG4gICAgICAvLyBpcyBhIG5vbi1udWxsIHJlZmVyZW5jZSB0byBhIFNjcm9sbFZpZXdcblxuXG4gICAgICB0aGlzLl9zY3JvbGxSZWYubWVhc3VyZUxheW91dCh0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpLCBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBfdGhpczQuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSBfdGhpczQuX3NlbGVjdE9mZnNldCh7XG4gICAgICAgICAgeDogeCxcbiAgICAgICAgICB5OiB5XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpczQuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IF90aGlzNC5fc2VsZWN0TGVuZ3RoKHtcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNjcm9sbE1ldHJpY3MgPSBfdGhpczQuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKF90aGlzNC5jb250ZXh0LmdldFNjcm9sbE1ldHJpY3MoKSk7XG5cbiAgICAgICAgX3RoaXM0Ll9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICAgIF90aGlzNC5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgPSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWaXJ0dWFsaXplZExpc3Q6IEVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIG1lYXN1cmluZyBhIGxpc3Qnc1wiICsgJyBvZmZzZXQgZnJvbSBpdHMgY29udGFpbmluZyBWaXJ0dWFsaXplZExpc3QuJyk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJywgZXJyb3Iuc3RhY2spO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uX2dldEZvb3RlckNlbGxLZXkgPSBmdW5jdGlvbiBfZ2V0Rm9vdGVyQ2VsbEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1mb290ZXInO1xuICB9O1xuXG4gIF9wcm90by5fcmVuZGVyRGVidWdPdmVybGF5ID0gZnVuY3Rpb24gX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICB2YXIgbm9ybWFsaXplID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC8gKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCB8fCAxKTtcbiAgICB2YXIgZnJhbWVzSW5MYXlvdXQgPSBbXTtcbiAgICB2YXIgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcblxuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIHZhciBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSk7XG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG5cblxuICAgICAgaWYgKGZyYW1lLmluTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lc0luTGF5b3V0LnB1c2goZnJhbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB3aW5kb3dUb3AgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godGhpcy5zdGF0ZS5maXJzdCkub2Zmc2V0O1xuXG4gICAgdmFyIGZyYW1lTGFzdCA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCh0aGlzLnN0YXRlLmxhc3QpO1xuXG4gICAgdmFyIHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIHZhciB2aXNUb3AgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICB2YXIgdmlzTGVuID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgICBzdHlsZTogW3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5XVxuICAgIH0sIGZyYW1lc0luTGF5b3V0Lm1hcChmdW5jdGlvbiAoZiwgaWkpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgICAgIGtleTogJ2YnICsgaWksXG4gICAgICAgIHN0eWxlOiBbc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZSwge1xuICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgaGVpZ2h0OiBmLmxlbmd0aCAqIG5vcm1hbGl6ZVxuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICAgIHN0eWxlOiBbc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZUxhc3QsIHtcbiAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgIGhlaWdodDogd2luZG93TGVuICogbm9ybWFsaXplXG4gICAgICB9XVxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgICBzdHlsZTogW3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVWaXMsIHtcbiAgICAgICAgdG9wOiB2aXNUb3AgKiBub3JtYWxpemUsXG4gICAgICAgIGhlaWdodDogdmlzTGVuICogbm9ybWFsaXplXG4gICAgICB9XVxuICAgIH0pKTtcbiAgfTtcblxuICBfcHJvdG8uX3NlbGVjdExlbmd0aCA9IGZ1bmN0aW9uIF9zZWxlY3RMZW5ndGgobWV0cmljcykge1xuICAgIHJldHVybiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsID8gbWV0cmljcy5oZWlnaHQgOiBtZXRyaWNzLndpZHRoO1xuICB9O1xuXG4gIF9wcm90by5fc2VsZWN0T2Zmc2V0ID0gZnVuY3Rpb24gX3NlbGVjdE9mZnNldChtZXRyaWNzKSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH07XG5cbiAgX3Byb3RvLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQgPSBmdW5jdGlvbiBfbWF5YmVDYWxsT25FbmRSZWFjaGVkKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczEwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0YSA9IF90aGlzJHByb3BzMTAuZGF0YSxcbiAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHMxMC5nZXRJdGVtQ291bnQsXG4gICAgICAgIG9uRW5kUmVhY2hlZCA9IF90aGlzJHByb3BzMTAub25FbmRSZWFjaGVkLFxuICAgICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBfdGhpcyRwcm9wczEwLm9uRW5kUmVhY2hlZFRocmVzaG9sZDtcbiAgICB2YXIgX3RoaXMkX3Njcm9sbE1ldHJpY3MyID0gdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICAgY29udGVudExlbmd0aCA9IF90aGlzJF9zY3JvbGxNZXRyaWNzMi5jb250ZW50TGVuZ3RoLFxuICAgICAgICB2aXNpYmxlTGVuZ3RoID0gX3RoaXMkX3Njcm9sbE1ldHJpY3MyLnZpc2libGVMZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IF90aGlzJF9zY3JvbGxNZXRyaWNzMi5vZmZzZXQ7XG4gICAgdmFyIGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuICAgIHZhciB0aHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPyBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoIDogMjtcblxuICAgIGlmIChvbkVuZFJlYWNoZWQgJiYgdGhpcy5zdGF0ZS5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmIGRpc3RhbmNlRnJvbUVuZCA8IHRocmVzaG9sZCAmJiB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggIT09IHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoKSB7XG4gICAgICAvLyBPbmx5IGNhbGwgb25FbmRSZWFjaGVkIG9uY2UgZm9yIGEgZ2l2ZW4gY29udGVudCBsZW5ndGhcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgICAgb25FbmRSZWFjaGVkKHtcbiAgICAgICAgZGlzdGFuY2VGcm9tRW5kOiBkaXN0YW5jZUZyb21FbmRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VGcm9tRW5kID4gdGhyZXNob2xkKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciBzY3JvbGxzIGF3YXkgZnJvbSB0aGUgZW5kIGFuZCBiYWNrIGFnYWluIGNhdXNlXG4gICAgICAvLyBhbiBvbkVuZFJlYWNoZWQgdG8gYmUgdHJpZ2dlcmVkIGFnYWluXG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlID0gZnVuY3Rpb24gX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgZmlyc3QgPSBfdGhpcyRzdGF0ZTIuZmlyc3QsXG4gICAgICAgIGxhc3QgPSBfdGhpcyRzdGF0ZTIubGFzdDtcbiAgICB2YXIgX3RoaXMkX3Njcm9sbE1ldHJpY3MzID0gdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICAgb2Zmc2V0ID0gX3RoaXMkX3Njcm9sbE1ldHJpY3MzLm9mZnNldCxcbiAgICAgICAgdmlzaWJsZUxlbmd0aCA9IF90aGlzJF9zY3JvbGxNZXRyaWNzMy52aXNpYmxlTGVuZ3RoLFxuICAgICAgICB2ZWxvY2l0eSA9IF90aGlzJF9zY3JvbGxNZXRyaWNzMy52ZWxvY2l0eTtcbiAgICB2YXIgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICB2YXIgaGlQcmkgPSBmYWxzZTtcbiAgICB2YXIgc2Nyb2xsaW5nVGhyZXNob2xkID1cbiAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlXG4gICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGggLyAyOyAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIHN0YXJ0IG9mIHRoZSBmaXJzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGJlZm9yZSB0aGUgZmlyc3QgcmVuZGVyZWQgaXRlbVxuXG4gICAgaWYgKGZpcnN0ID4gMCkge1xuICAgICAgdmFyIGRpc3RUb3AgPSBvZmZzZXQgLSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldDtcblxuICAgICAgaGlQcmkgPSBoaVByaSB8fCBkaXN0VG9wIDwgMCB8fCB2ZWxvY2l0eSA8IC0yICYmIGRpc3RUb3AgPCBzY3JvbGxpbmdUaHJlc2hvbGQ7XG4gICAgfSAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIGVuZCBvZiB0aGUgbGFzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGFmdGVyIHRoZSBsYXN0IHJlbmRlcmVkIGl0ZW1cblxuXG4gICAgaWYgKGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICB2YXIgZGlzdEJvdHRvbSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0KS5vZmZzZXQgLSAob2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCk7XG4gICAgICBoaVByaSA9IGhpUHJpIHx8IGRpc3RCb3R0b20gPCAwIHx8IHZlbG9jaXR5ID4gMiAmJiBkaXN0Qm90dG9tIDwgc2Nyb2xsaW5nVGhyZXNob2xkO1xuICAgIH0gLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcblxuXG4gICAgaWYgKGhpUHJpICYmICh0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCB8fCB0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXQpICYmICF0aGlzLl9oaVByaUluUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7IC8vIERvbid0IHdvcnJ5IGFib3V0IGludGVyYWN0aW9ucyB3aGVuIHNjcm9sbGluZyBxdWlja2x5OyBmb2N1cyBvbiBmaWxsaW5nIGNvbnRlbnQgYXMgZmFzdFxuICAgICAgLy8gYXMgcG9zc2libGUuXG5cbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe1xuICAgICAgICBhYm9ydDogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5zY2hlZHVsZSgpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uX3VwZGF0ZVZpZXdhYmxlSXRlbXMgPSBmdW5jdGlvbiBfdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICB2YXIgZ2V0SXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQ7XG5cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0dXBsZSkge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoZ2V0SXRlbUNvdW50KGRhdGEpLCBfdGhpczUuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0LCBfdGhpczUuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCwgX3RoaXM1Ll9nZXRGcmFtZU1ldHJpY3MsIF90aGlzNS5fY3JlYXRlVmlld1Rva2VuLCB0dXBsZS5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLCBfdGhpczUuc3RhdGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBWaXJ0dWFsaXplZExpc3Q7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5WaXJ0dWFsaXplZExpc3QuY29udGV4dFR5cGUgPSBfVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5WaXJ0dWFsaXplZExpc3RDb250ZXh0O1xuVmlydHVhbGl6ZWRMaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzYWJsZVZpcnR1YWxpemF0aW9uOiBmYWxzZSxcbiAgaG9yaXpvbnRhbDogZmFsc2UsXG4gIGluaXRpYWxOdW1Ub1JlbmRlcjogMTAsXG4gIGtleUV4dHJhY3RvcjogZnVuY3Rpb24ga2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKGl0ZW0ua2V5ICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBpdGVtLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbS5pZCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gaXRlbS5pZDtcbiAgICB9XG5cbiAgICBfdXNlZEluZGV4Rm9yS2V5ID0gdHJ1ZTtcblxuICAgIGlmIChpdGVtLnR5cGUgJiYgaXRlbS50eXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gaXRlbS50eXBlLmRpc3BsYXlOYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBTdHJpbmcoaW5kZXgpO1xuICB9LFxuICBtYXhUb1JlbmRlclBlckJhdGNoOiAxMCxcbiAgb25FbmRSZWFjaGVkVGhyZXNob2xkOiAyLFxuICAvLyBtdWx0aXBsZXMgb2YgbGVuZ3RoXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU6IDUwLFxuICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiA1MCxcbiAgd2luZG93U2l6ZTogMjEgLy8gbXVsdGlwbGVzIG9mIGxlbmd0aFxuXG59O1xuXG52YXIgQ2VsbFJlbmRlcmVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKENlbGxSZW5kZXJlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2VsbFJlbmRlcmVyKCkge1xuICAgIHZhciBfdGhpczY7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXM2ID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgX3RoaXM2LnN0YXRlID0ge1xuICAgICAgc2VwYXJhdG9yUHJvcHM6IHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlLFxuICAgICAgICBsZWFkaW5nSXRlbTogX3RoaXM2LnByb3BzLml0ZW1cbiAgICAgIH1cbiAgICB9O1xuICAgIF90aGlzNi5fc2VwYXJhdG9ycyA9IHtcbiAgICAgIGhpZ2hsaWdodDogZnVuY3Rpb24gaGlnaGxpZ2h0KCkge1xuICAgICAgICB2YXIgX3RoaXM2JHByb3BzID0gX3RoaXM2LnByb3BzLFxuICAgICAgICAgICAgY2VsbEtleSA9IF90aGlzNiRwcm9wcy5jZWxsS2V5LFxuICAgICAgICAgICAgcHJldkNlbGxLZXkgPSBfdGhpczYkcHJvcHMucHJldkNlbGxLZXk7XG5cbiAgICAgICAgX3RoaXM2LnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgICAgaGlnaGxpZ2h0ZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdW5oaWdobGlnaHQ6IGZ1bmN0aW9uIHVuaGlnaGxpZ2h0KCkge1xuICAgICAgICB2YXIgX3RoaXM2JHByb3BzMiA9IF90aGlzNi5wcm9wcyxcbiAgICAgICAgICAgIGNlbGxLZXkgPSBfdGhpczYkcHJvcHMyLmNlbGxLZXksXG4gICAgICAgICAgICBwcmV2Q2VsbEtleSA9IF90aGlzNiRwcm9wczIucHJldkNlbGxLZXk7XG5cbiAgICAgICAgX3RoaXM2LnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZVByb3BzOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhzZWxlY3QsIG5ld1Byb3BzKSB7XG4gICAgICAgIHZhciBfdGhpczYkcHJvcHMzID0gX3RoaXM2LnByb3BzLFxuICAgICAgICAgICAgY2VsbEtleSA9IF90aGlzNiRwcm9wczMuY2VsbEtleSxcbiAgICAgICAgICAgIHByZXZDZWxsS2V5ID0gX3RoaXM2JHByb3BzMy5wcmV2Q2VsbEtleTtcblxuICAgICAgICBfdGhpczYucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFtzZWxlY3QgPT09ICdsZWFkaW5nJyA/IHByZXZDZWxsS2V5IDogY2VsbEtleV0sIG5ld1Byb3BzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBfdGhpczY7XG4gIH1cblxuICBDZWxsUmVuZGVyZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VwYXJhdG9yUHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJldlN0YXRlLnNlcGFyYXRvclByb3BzKSwge30sIHtcbiAgICAgICAgbGVhZGluZ0l0ZW06IHByb3BzLml0ZW1cbiAgICAgIH0pXG4gICAgfTtcbiAgfSAvLyBUT0RPOiBjb25zaWRlciBmYWN0b3Jpbmcgc2VwYXJhdG9yIHN0dWZmIG91dCBvZiBWaXJ0dWFsaXplZExpc3QgaW50byBGbGF0TGlzdCBzaW5jZSBpdCdzIG5vdFxuICAvLyByZXVzZWQgYnkgU2VjdGlvbkxpc3QgYW5kIHdlIGNhbiBrZWVwIFZpcnR1YWxpemVkTGlzdCBzaW1wbGVyLlxuICA7XG5cbiAgdmFyIF9wcm90bzIgPSBDZWxsUmVuZGVyZXIucHJvdG90eXBlO1xuXG4gIF9wcm90bzIudXBkYXRlU2VwYXJhdG9yUHJvcHMgPSBmdW5jdGlvbiB1cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXBhcmF0b3JQcm9wczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZXBhcmF0b3JQcm9wcyksIG5ld1Byb3BzKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8yLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5wcm9wcy5jZWxsS2V5KTtcbiAgfTtcblxuICBfcHJvdG8yLl9yZW5kZXJFbGVtZW50ID0gZnVuY3Rpb24gX3JlbmRlckVsZW1lbnQocmVuZGVySXRlbSwgTGlzdEl0ZW1Db21wb25lbnQsIGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKHJlbmRlckl0ZW0gJiYgTGlzdEl0ZW1Db21wb25lbnQpIHtcbiAgICAgIGNvbnNvbGUud2FybignVmlydHVhbGl6ZWRMaXN0OiBCb3RoIExpc3RJdGVtQ29tcG9uZW50IGFuZCByZW5kZXJJdGVtIHByb3BzIGFyZSBwcmVzZW50LiBMaXN0SXRlbUNvbXBvbmVudCB3aWxsIHRha2UnICsgJyBwcmVjZWRlbmNlIG92ZXIgcmVuZGVySXRlbS4nKTtcbiAgICB9XG5cbiAgICBpZiAoTGlzdEl0ZW1Db21wb25lbnQpIHtcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjEwOC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjEwOCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZVxuICAgICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbUNvbXBvbmVudCwge1xuICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIHNlcGFyYXRvcnM6IHRoaXMuX3NlcGFyYXRvcnNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZW5kZXJJdGVtKSB7XG4gICAgICByZXR1cm4gcmVuZGVySXRlbSh7XG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgc2VwYXJhdG9yczogdGhpcy5fc2VwYXJhdG9yc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoZmFsc2UsICdWaXJ0dWFsaXplZExpc3Q6IEVpdGhlciBMaXN0SXRlbUNvbXBvbmVudCBvciByZW5kZXJJdGVtIHByb3BzIGFyZSByZXF1aXJlZCBidXQgbm9uZSB3ZXJlIGZvdW5kLicpO1xuICB9O1xuXG4gIF9wcm90bzIucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczExID0gdGhpcy5wcm9wcyxcbiAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHMxMS5DZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgPSBfdGhpcyRwcm9wczExLkl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICAgIGZpbGxSYXRlSGVscGVyID0gX3RoaXMkcHJvcHMxMS5maWxsUmF0ZUhlbHBlcixcbiAgICAgICAgaG9yaXpvbnRhbCA9IF90aGlzJHByb3BzMTEuaG9yaXpvbnRhbCxcbiAgICAgICAgaXRlbSA9IF90aGlzJHByb3BzMTEuaXRlbSxcbiAgICAgICAgaW5kZXggPSBfdGhpcyRwcm9wczExLmluZGV4LFxuICAgICAgICBpbnZlcnNpb25TdHlsZSA9IF90aGlzJHByb3BzMTEuaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgIHBhcmVudFByb3BzID0gX3RoaXMkcHJvcHMxMS5wYXJlbnRQcm9wcztcbiAgICB2YXIgcmVuZGVySXRlbSA9IHBhcmVudFByb3BzLnJlbmRlckl0ZW0sXG4gICAgICAgIGdldEl0ZW1MYXlvdXQgPSBwYXJlbnRQcm9wcy5nZXRJdGVtTGF5b3V0LFxuICAgICAgICBMaXN0SXRlbUNvbXBvbmVudCA9IHBhcmVudFByb3BzLkxpc3RJdGVtQ29tcG9uZW50O1xuXG4gICAgdmFyIGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJFbGVtZW50KHJlbmRlckl0ZW0sIExpc3RJdGVtQ29tcG9uZW50LCBpdGVtLCBpbmRleCk7XG5cbiAgICB2YXIgb25MYXlvdXQgPVxuICAgIC8qICRGbG93Rml4TWUoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIGdldEl0ZW1MYXlvdXQgJiYgIXBhcmVudFByb3BzLmRlYnVnICYmICFmaWxsUmF0ZUhlbHBlci5lbmFibGVkKCkgPyB1bmRlZmluZWQgOiB0aGlzLnByb3BzLm9uTGF5b3V0OyAvLyBOT1RFOiB0aGF0IHdoZW4gdGhpcyBpcyBhIHN0aWNreSBoZWFkZXIsIGBvbkxheW91dGAgd2lsbCBnZXQgYXV0b21hdGljYWxseSBleHRyYWN0ZWQgYW5kXG4gICAgLy8gY2FsbGVkIGV4cGxpY2l0bHkgYnkgYFNjcm9sbFZpZXdTdGlja3lIZWFkZXJgLlxuXG4gICAgdmFyIGl0ZW1TZXBhcmF0b3IgPSBJdGVtU2VwYXJhdG9yQ29tcG9uZW50ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsIHRoaXMuc3RhdGUuc2VwYXJhdG9yUHJvcHMpO1xuICAgIHZhciBjZWxsU3R5bGUgPSBpbnZlcnNpb25TdHlsZSA/IGhvcml6b250YWwgPyBbc3R5bGVzLnJvd1JldmVyc2UsIGludmVyc2lvblN0eWxlXSA6IFtzdHlsZXMuY29sdW1uUmV2ZXJzZSwgaW52ZXJzaW9uU3R5bGVdIDogaG9yaXpvbnRhbCA/IFtzdHlsZXMucm93LCBpbnZlcnNpb25TdHlsZV0gOiBpbnZlcnNpb25TdHlsZTtcbiAgICB2YXIgcmVzdWx0ID0gIUNlbGxSZW5kZXJlckNvbXBvbmVudCA/XG4gICAgLyojX19QVVJFX18qL1xuXG4gICAgLyogJEZsb3dGaXhNZSg+PTAuODkuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuODkgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGVcbiAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgc3R5bGU6IGNlbGxTdHlsZSxcbiAgICAgIG9uTGF5b3V0OiBvbkxheW91dFxuICAgIH0sIGVsZW1lbnQsIGl0ZW1TZXBhcmF0b3IpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2VsbFJlbmRlcmVyQ29tcG9uZW50LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywge1xuICAgICAgc3R5bGU6IGNlbGxTdHlsZSxcbiAgICAgIG9uTGF5b3V0OiBvbkxheW91dFxuICAgIH0pLCBlbGVtZW50LCBpdGVtU2VwYXJhdG9yKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpcnR1YWxpemVkTGlzdENvbnRleHQuVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlciwge1xuICAgICAgY2VsbEtleTogdGhpcy5wcm9wcy5jZWxsS2V5XG4gICAgfSwgcmVzdWx0KTtcbiAgfTtcblxuICByZXR1cm4gQ2VsbFJlbmRlcmVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5mdW5jdGlvbiBkZXNjcmliZU5lc3RlZExpc3RzKGNoaWxkTGlzdCkge1xuICB2YXIgdHJhY2UgPSAnVmlydHVhbGl6ZWRMaXN0IHRyYWNlOlxcbicgKyAoXCIgIENoaWxkIChcIiArIChjaGlsZExpc3QuaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcpICsgXCIpOlxcblwiKSArIChcIiAgICBsaXN0S2V5OiBcIiArIGNoaWxkTGlzdC5rZXkgKyBcIlxcblwiKSArIChcIiAgICBjZWxsS2V5OiBcIiArIGNoaWxkTGlzdC5jZWxsS2V5KTtcbiAgdmFyIGRlYnVnSW5mbyA9IGNoaWxkTGlzdC5wYXJlbnREZWJ1Z0luZm87XG5cbiAgd2hpbGUgKGRlYnVnSW5mbykge1xuICAgIHRyYWNlICs9IFwiXFxuICBQYXJlbnQgKFwiICsgKGRlYnVnSW5mby5ob3Jpem9udGFsID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJykgKyBcIik6XFxuXCIgKyAoXCIgICAgbGlzdEtleTogXCIgKyBkZWJ1Z0luZm8ubGlzdEtleSArIFwiXFxuXCIpICsgKFwiICAgIGNlbGxLZXk6IFwiICsgZGVidWdJbmZvLmNlbGxLZXkpO1xuICAgIGRlYnVnSW5mbyA9IGRlYnVnSW5mby5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gdHJhY2U7XG59XG5cbnZhciBzdHlsZXMgPSBfU3R5bGVTaGVldC5kZWZhdWx0LmNyZWF0ZSh7XG4gIHZlcnRpY2FsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tcbiAgICAgIHNjYWxlWTogLTFcbiAgICB9XVxuICB9LFxuICBob3Jpem9udGFsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tcbiAgICAgIHNjYWxlWDogLTFcbiAgICB9XVxuICB9LFxuICByb3c6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93J1xuICB9LFxuICByb3dSZXZlcnNlOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJ1xuICB9LFxuICBjb2x1bW5SZXZlcnNlOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbi1yZXZlcnNlJ1xuICB9LFxuICBkZWJ1Zzoge1xuICAgIGZsZXg6IDFcbiAgfSxcbiAgZGVidWdPdmVybGF5QmFzZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDFcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWU6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ29yYW5nZSdcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVMYXN0OiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ2dyZWVuJyxcbiAgICBib3JkZXJXaWR0aDogMlxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyXG4gIH1cbn0pO1xuXG52YXIgX2RlZmF1bHQgPSBWaXJ0dWFsaXplZExpc3Q7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyJdfQ==