da72a16f086d47a02c87d3cf5e526e10
"use strict";

exports.__esModule = true;
exports.default = void 0;
var TouchHistoryMath = {
  centroidDimension: function centroidDimension(touchHistory, touchesChangedAfter, isXAxis, ofCurrent) {
    var touchBank = touchHistory.touchBank;
    var total = 0;
    var count = 0;
    var oneTouchData = touchHistory.numberActiveTouches === 1 ? touchHistory.touchBank[touchHistory.indexOfSingleActiveTouch] : null;

    if (oneTouchData !== null) {
      if (oneTouchData.touchActive && oneTouchData.currentTimeStamp > touchesChangedAfter) {
        total += ofCurrent && isXAxis ? oneTouchData.currentPageX : ofCurrent && !isXAxis ? oneTouchData.currentPageY : !ofCurrent && isXAxis ? oneTouchData.previousPageX : oneTouchData.previousPageY;
        count = 1;
      }
    } else {
      for (var i = 0; i < touchBank.length; i++) {
        var touchTrack = touchBank[i];

        if (touchTrack !== null && touchTrack !== undefined && touchTrack.touchActive && touchTrack.currentTimeStamp >= touchesChangedAfter) {
          var toAdd = void 0;

          if (ofCurrent && isXAxis) {
            toAdd = touchTrack.currentPageX;
          } else if (ofCurrent && !isXAxis) {
            toAdd = touchTrack.currentPageY;
          } else if (!ofCurrent && isXAxis) {
            toAdd = touchTrack.previousPageX;
          } else {
            toAdd = touchTrack.previousPageY;
          }

          total += toAdd;
          count++;
        }
      }
    }

    return count > 0 ? total / count : TouchHistoryMath.noCentroid;
  },
  currentCentroidXOfTouchesChangedAfter: function currentCentroidXOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
    return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, true, true);
  },
  currentCentroidYOfTouchesChangedAfter: function currentCentroidYOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
    return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, false, true);
  },
  previousCentroidXOfTouchesChangedAfter: function previousCentroidXOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
    return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, true, false);
  },
  previousCentroidYOfTouchesChangedAfter: function previousCentroidYOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
    return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, false, false);
  },
  currentCentroidX: function currentCentroidX(touchHistory) {
    return TouchHistoryMath.centroidDimension(touchHistory, 0, true, true);
  },
  currentCentroidY: function currentCentroidY(touchHistory) {
    return TouchHistoryMath.centroidDimension(touchHistory, 0, false, true);
  },
  noCentroid: -1
};
var _default = TouchHistoryMath;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIlRvdWNoSGlzdG9yeU1hdGgiLCJjZW50cm9pZERpbWVuc2lvbiIsInRvdWNoSGlzdG9yeSIsInRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJpc1hBeGlzIiwib2ZDdXJyZW50IiwidG91Y2hCYW5rIiwidG90YWwiLCJjb3VudCIsIm9uZVRvdWNoRGF0YSIsIm51bWJlckFjdGl2ZVRvdWNoZXMiLCJpbmRleE9mU2luZ2xlQWN0aXZlVG91Y2giLCJ0b3VjaEFjdGl2ZSIsImN1cnJlbnRUaW1lU3RhbXAiLCJjdXJyZW50UGFnZVgiLCJjdXJyZW50UGFnZVkiLCJwcmV2aW91c1BhZ2VYIiwicHJldmlvdXNQYWdlWSIsImkiLCJsZW5ndGgiLCJ0b3VjaFRyYWNrIiwidW5kZWZpbmVkIiwidG9BZGQiLCJub0NlbnRyb2lkIiwiY3VycmVudENlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlciIsImN1cnJlbnRDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJwcmV2aW91c0NlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlciIsInByZXZpb3VzQ2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyIiwiY3VycmVudENlbnRyb2lkWCIsImN1cnJlbnRDZW50cm9pZFkiLCJfZGVmYXVsdCIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFPLENBQUNFLE9BQVIsR0FBa0IsS0FBSyxDQUF2QjtBQVVBLElBQUlDLGdCQUFnQixHQUFHO0FBaUJyQkMsRUFBQUEsaUJBQWlCLEVBQUUsU0FBU0EsaUJBQVQsQ0FBMkJDLFlBQTNCLEVBQXlDQyxtQkFBekMsRUFBOERDLE9BQTlELEVBQXVFQyxTQUF2RSxFQUFrRjtBQUNuRyxRQUFJQyxTQUFTLEdBQUdKLFlBQVksQ0FBQ0ksU0FBN0I7QUFDQSxR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RUFBRSxTQUFTQSxzQ0FBVCxDQUFnRHpCLFlBQWhELEVBQThEQyxtQkFBOUQsRUFBbUY7QUFDekgsV0FBT0gsZ0JBQWdCLENBQUNDLGlCQUFqQixDQUFtQ0MsWUFBbkMsRUFBaURDLG1CQUFqRCxFQUFzRSxLQUF0RSxFQUNQLEtBRE8sQ0FBUDtBQUdELEdBeEVvQjtBQXlFckJ5QixFQUFBQSxnQkFBZ0IsRUFBRSxTQUFTQSxnQkFBVCxDQUEwQjFCLFlBQTFCLEVBQXdDO0FBQ3hELFdBQU9GLGdCQUFnQixDQUFDQyxpQkFBakIsQ0FBbUNDLFlBQW5DLEVBQWlELENBQWpELEVBQ1AsSUFETyxFQUVQLElBRk8sQ0FBUDtBQUlELEdBOUVvQjtBQStFckIyQixFQUFBQSxnQkFBZ0IsRUFBRSxTQUFTQSxnQkFBVCxDQUEwQjNCLFlBQTFCLEVBQXdDO0FBQ3hELFdBQU9GLGdCQUFnQixDQUFDQyxpQkFBakIsQ0FBbUNDLFlBQW5DLEVBQWlELENBQWpELEVBQ1AsS0FETyxFQUVQLElBRk8sQ0FBUDtBQUlELEdBcEZvQjtBQXFGckJxQixFQUFBQSxVQUFVLEVBQUUsQ0FBQztBQXJGUSxDQUF2QjtBQXVGQSxJQUFJTyxRQUFRLEdBQUc5QixnQkFBZjtBQUNBSCxPQUFPLENBQUNFLE9BQVIsR0FBa0IrQixRQUFsQjtBQUNBQyxNQUFNLENBQUNsQyxPQUFQLEdBQWlCQSxPQUFPLENBQUNFLE9BQXpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICovXG52YXIgVG91Y2hIaXN0b3J5TWF0aCA9IHtcbiAgLyoqXG4gICAqIFRoaXMgY29kZSBpcyBvcHRpbWl6ZWQgYW5kIG5vdCBpbnRlbmRlZCB0byBsb29rIGJlYXV0aWZ1bC4gVGhpcyBhbGxvd3NcbiAgICogY29tcHV0aW5nIG9mIHRvdWNoIGNlbnRyb2lkcyB0aGF0IGhhdmUgbW92ZWQgYWZ0ZXIgYHRvdWNoZXNDaGFuZ2VkQWZ0ZXJgXG4gICAqIHRpbWVTdGFtcC4gWW91IGNhbiBjb21wdXRlIHRoZSBjdXJyZW50IGNlbnRyb2lkIGludm9sdmluZyBhbGwgdG91Y2hlc1xuICAgKiBtb3ZlcyBhZnRlciBgdG91Y2hlc0NoYW5nZWRBZnRlcmAsIG9yIHlvdSBjYW4gY29tcHV0ZSB0aGUgcHJldmlvdXNcbiAgICogY2VudHJvaWQgb2YgYWxsIHRvdWNoZXMgdGhhdCB3ZXJlIG1vdmVkIGFmdGVyIGB0b3VjaGVzQ2hhbmdlZEFmdGVyYC5cbiAgICpcbiAgICogQHBhcmFtIHtUb3VjaEhpc3RvcnlNYXRofSB0b3VjaEhpc3RvcnkgU3RhbmRhcmQgUmVzcG9uZGVyIHRvdWNoIHRyYWNrXG4gICAqIGRhdGEuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b3VjaGVzQ2hhbmdlZEFmdGVyIHRpbWVTdGFtcCBhZnRlciB3aGljaCBtb3ZlZCB0b3VjaGVzXG4gICAqIGFyZSBjb25zaWRlcmVkIFwiYWN0aXZlbHkgbW92aW5nXCIgLSBub3QganVzdCBcImFjdGl2ZVwiLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzWEF4aXMgQ29uc2lkZXIgYHhgIGRpbWVuc2lvbiB2cy4gYHlgIGRpbWVuc2lvbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBvZkN1cnJlbnQgQ29tcHV0ZSBjdXJyZW50IGNlbnRyb2lkIGZvciBhY3RpdmVseSBtb3ZpbmdcbiAgICogdG91Y2hlcyB2cy4gcHJldmlvdXMgY2VudHJvaWQgb2Ygbm93IGFjdGl2ZWx5IG1vdmluZyB0b3VjaGVzLlxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IHZhbHVlIG9mIGNlbnRyb2lkIGluIHNwZWNpZmllZCBkaW1lbnNpb24uXG4gICAqL1xuICBjZW50cm9pZERpbWVuc2lvbjogZnVuY3Rpb24gY2VudHJvaWREaW1lbnNpb24odG91Y2hIaXN0b3J5LCB0b3VjaGVzQ2hhbmdlZEFmdGVyLCBpc1hBeGlzLCBvZkN1cnJlbnQpIHtcbiAgICB2YXIgdG91Y2hCYW5rID0gdG91Y2hIaXN0b3J5LnRvdWNoQmFuaztcbiAgICB2YXIgdG90YWwgPSAwO1xuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIG9uZVRvdWNoRGF0YSA9IHRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzID09PSAxID8gdG91Y2hIaXN0b3J5LnRvdWNoQmFua1t0b3VjaEhpc3RvcnkuaW5kZXhPZlNpbmdsZUFjdGl2ZVRvdWNoXSA6IG51bGw7XG5cbiAgICBpZiAob25lVG91Y2hEYXRhICE9PSBudWxsKSB7XG4gICAgICBpZiAob25lVG91Y2hEYXRhLnRvdWNoQWN0aXZlICYmIG9uZVRvdWNoRGF0YS5jdXJyZW50VGltZVN0YW1wID4gdG91Y2hlc0NoYW5nZWRBZnRlcikge1xuICAgICAgICB0b3RhbCArPSBvZkN1cnJlbnQgJiYgaXNYQXhpcyA/IG9uZVRvdWNoRGF0YS5jdXJyZW50UGFnZVggOiBvZkN1cnJlbnQgJiYgIWlzWEF4aXMgPyBvbmVUb3VjaERhdGEuY3VycmVudFBhZ2VZIDogIW9mQ3VycmVudCAmJiBpc1hBeGlzID8gb25lVG91Y2hEYXRhLnByZXZpb3VzUGFnZVggOiBvbmVUb3VjaERhdGEucHJldmlvdXNQYWdlWTtcbiAgICAgICAgY291bnQgPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdWNoQmFuay5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdG91Y2hUcmFjayA9IHRvdWNoQmFua1tpXTtcblxuICAgICAgICBpZiAodG91Y2hUcmFjayAhPT0gbnVsbCAmJiB0b3VjaFRyYWNrICE9PSB1bmRlZmluZWQgJiYgdG91Y2hUcmFjay50b3VjaEFjdGl2ZSAmJiB0b3VjaFRyYWNrLmN1cnJlbnRUaW1lU3RhbXAgPj0gdG91Y2hlc0NoYW5nZWRBZnRlcikge1xuICAgICAgICAgIHZhciB0b0FkZCA9IHZvaWQgMDsgLy8gWXVjaywgcHJvZ3JhbSB0ZW1wb3JhcmlseSBpbiBpbnZhbGlkIHN0YXRlLlxuXG4gICAgICAgICAgaWYgKG9mQ3VycmVudCAmJiBpc1hBeGlzKSB7XG4gICAgICAgICAgICB0b0FkZCA9IHRvdWNoVHJhY2suY3VycmVudFBhZ2VYO1xuICAgICAgICAgIH0gZWxzZSBpZiAob2ZDdXJyZW50ICYmICFpc1hBeGlzKSB7XG4gICAgICAgICAgICB0b0FkZCA9IHRvdWNoVHJhY2suY3VycmVudFBhZ2VZO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIW9mQ3VycmVudCAmJiBpc1hBeGlzKSB7XG4gICAgICAgICAgICB0b0FkZCA9IHRvdWNoVHJhY2sucHJldmlvdXNQYWdlWDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9BZGQgPSB0b3VjaFRyYWNrLnByZXZpb3VzUGFnZVk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG90YWwgKz0gdG9BZGQ7XG4gICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb3VudCA+IDAgPyB0b3RhbCAvIGNvdW50IDogVG91Y2hIaXN0b3J5TWF0aC5ub0NlbnRyb2lkO1xuICB9LFxuICBjdXJyZW50Q2VudHJvaWRYT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyOiBmdW5jdGlvbiBjdXJyZW50Q2VudHJvaWRYT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyKHRvdWNoSGlzdG9yeSwgdG91Y2hlc0NoYW5nZWRBZnRlcikge1xuICAgIHJldHVybiBUb3VjaEhpc3RvcnlNYXRoLmNlbnRyb2lkRGltZW5zaW9uKHRvdWNoSGlzdG9yeSwgdG91Y2hlc0NoYW5nZWRBZnRlciwgdHJ1ZSwgLy8gaXNYQXhpc1xuICAgIHRydWUgLy8gb2ZDdXJyZW50XG4gICAgKTtcbiAgfSxcbiAgY3VycmVudENlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlcjogZnVuY3Rpb24gY3VycmVudENlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlcih0b3VjaEhpc3RvcnksIHRvdWNoZXNDaGFuZ2VkQWZ0ZXIpIHtcbiAgICByZXR1cm4gVG91Y2hIaXN0b3J5TWF0aC5jZW50cm9pZERpbWVuc2lvbih0b3VjaEhpc3RvcnksIHRvdWNoZXNDaGFuZ2VkQWZ0ZXIsIGZhbHNlLCAvLyBpc1hBeGlzXG4gICAgdHJ1ZSAvLyBvZkN1cnJlbnRcbiAgICApO1xuICB9LFxuICBwcmV2aW91c0NlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlcjogZnVuY3Rpb24gcHJldmlvdXNDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIodG91Y2hIaXN0b3J5LCB0b3VjaGVzQ2hhbmdlZEFmdGVyKSB7XG4gICAgcmV0dXJuIFRvdWNoSGlzdG9yeU1hdGguY2VudHJvaWREaW1lbnNpb24odG91Y2hIaXN0b3J5LCB0b3VjaGVzQ2hhbmdlZEFmdGVyLCB0cnVlLCAvLyBpc1hBeGlzXG4gICAgZmFsc2UgLy8gb2ZDdXJyZW50XG4gICAgKTtcbiAgfSxcbiAgcHJldmlvdXNDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXI6IGZ1bmN0aW9uIHByZXZpb3VzQ2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyKHRvdWNoSGlzdG9yeSwgdG91Y2hlc0NoYW5nZWRBZnRlcikge1xuICAgIHJldHVybiBUb3VjaEhpc3RvcnlNYXRoLmNlbnRyb2lkRGltZW5zaW9uKHRvdWNoSGlzdG9yeSwgdG91Y2hlc0NoYW5nZWRBZnRlciwgZmFsc2UsIC8vIGlzWEF4aXNcbiAgICBmYWxzZSAvLyBvZkN1cnJlbnRcbiAgICApO1xuICB9LFxuICBjdXJyZW50Q2VudHJvaWRYOiBmdW5jdGlvbiBjdXJyZW50Q2VudHJvaWRYKHRvdWNoSGlzdG9yeSkge1xuICAgIHJldHVybiBUb3VjaEhpc3RvcnlNYXRoLmNlbnRyb2lkRGltZW5zaW9uKHRvdWNoSGlzdG9yeSwgMCwgLy8gdG91Y2hlc0NoYW5nZWRBZnRlclxuICAgIHRydWUsIC8vIGlzWEF4aXNcbiAgICB0cnVlIC8vIG9mQ3VycmVudFxuICAgICk7XG4gIH0sXG4gIGN1cnJlbnRDZW50cm9pZFk6IGZ1bmN0aW9uIGN1cnJlbnRDZW50cm9pZFkodG91Y2hIaXN0b3J5KSB7XG4gICAgcmV0dXJuIFRvdWNoSGlzdG9yeU1hdGguY2VudHJvaWREaW1lbnNpb24odG91Y2hIaXN0b3J5LCAwLCAvLyB0b3VjaGVzQ2hhbmdlZEFmdGVyXG4gICAgZmFsc2UsIC8vIGlzWEF4aXNcbiAgICB0cnVlIC8vIG9mQ3VycmVudFxuICAgICk7XG4gIH0sXG4gIG5vQ2VudHJvaWQ6IC0xXG59O1xudmFyIF9kZWZhdWx0ID0gVG91Y2hIaXN0b3J5TWF0aDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il19