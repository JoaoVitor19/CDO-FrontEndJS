ff4446112da2df381e93a5d6592aeeff
"use strict";

exports.__esModule = true;
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _ExecutionEnvironment = require("fbjs/lib/ExecutionEnvironment");

var _View = _interopRequireDefault(require("../View"));

var _StyleSheet = _interopRequireDefault(require("../StyleSheet"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

var ModalContent = React.forwardRef(function (props, forwardedRef) {
  var active = props.active,
      children = props.children,
      onRequestClose = props.onRequestClose,
      transparent = props.transparent;
  React.useEffect(function () {
    if (_ExecutionEnvironment.canUseDOM) {
      var closeOnEscape = function closeOnEscape(e) {
        if (active && e.key === 'Escape') {
          e.stopPropagation();

          if (onRequestClose) {
            onRequestClose();
          }
        }
      };

      document.addEventListener('keyup', closeOnEscape, false);
      return function () {
        return document.removeEventListener('keyup', closeOnEscape, false);
      };
    }
  }, [active, onRequestClose]);
  var style = React.useMemo(function () {
    return [styles.modal, transparent ? styles.modalTransparent : styles.modalOpaque];
  }, [transparent]);
  return React.createElement(_View.default, {
    accessibilityRole: active ? 'dialog' : null,
    "aria-modal": true,
    ref: forwardedRef,
    style: style
  }, React.createElement(_View.default, {
    style: styles.container
  }, children));
});

var styles = _StyleSheet.default.create({
  modal: {
    position: 'fixed',
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  },
  modalTransparent: {
    backgroundColor: 'transparent'
  },
  modalOpaque: {
    backgroundColor: 'white'
  },
  container: {
    top: 0,
    flex: 1
  }
});

var _default = ModalContent;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1vZGFsQ29udGVudC5qcyJdLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9FeGVjdXRpb25FbnZpcm9ubWVudCIsIl9WaWV3IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9TdHlsZVNoZWV0Iiwib2JqIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiTW9kYWxDb250ZW50IiwiZm9yd2FyZFJlZiIsInByb3BzIiwiZm9yd2FyZGVkUmVmIiwiYWN0aXZlIiwiY2hpbGRyZW4iLCJvblJlcXVlc3RDbG9zZSIsInRyYW5zcGFyZW50IiwidXNlRWZmZWN0IiwiY2FuVXNlRE9NIiwiY2xvc2VPbkVzY2FwZSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3R5bGUiLCJ1c2VNZW1vIiwic3R5bGVzIiwibW9kYWwiLCJtb2RhbFRyYW5zcGFyZW50IiwibW9kYWxPcGFxdWUiLCJjcmVhdGVFbGVtZW50IiwiYWNjZXNzaWJpbGl0eVJvbGUiLCJyZWYiLCJjb250YWluZXIiLCJjcmVhdGUiLCJwb3NpdGlvbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImJhY2tncm91bmRDb2xvciIsImZsZXgiLCJfZGVmYXVsdCIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFP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ckQsa0JBQWMsSUFGdUM7QUFHckRvQixJQUFBQSxHQUFHLEVBQUVyQixZQUhnRDtBQUlyRGEsSUFBQUEsS0FBSyxFQUFFQTtBQUo4QyxHQUFuQyxFQUtKeEMsS0FBSyxDQUFDOEMsYUFBTixDQUFvQjFDLEtBQUssQ0FBQ0wsT0FBMUIsRUFBbUM7QUFDakR5QyxJQUFBQSxLQUFLLEVBQUVFLE1BQU0sQ0FBQ087QUFEbUMsR0FBbkMsRUFFYnBCLFFBRmEsQ0FMSSxDQUFwQjtBQVFELENBbEMrQixDQUFoQzs7QUFvQ0EsSUFBSWEsTUFBTSxHQUFHcEMsV0FBVyxDQUFDUCxPQUFaLENBQW9CbUQsTUFBcEIsQ0FBMkI7QUFDdENQLEVBQUFBLEtBQUssRUFBRTtBQUNMUSxJQUFBQSxRQUFRLEVBQUUsT0FETDtBQUVMQyxJQUFBQSxHQUFHLEVBQUUsQ0FGQTtBQUdMQyxJQUFBQSxLQUFLLEVBQUUsQ0FIRjtBQUlMQyxJQUFBQSxNQUFNLEVBQUUsQ0FKSDtBQUtMQyxJQUFBQSxJQUFJLEVBQUU7QUFMRCxHQUQrQjtBQVF0Q1gsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDaEJZLElBQUFBLGVBQWUsRUFBRTtBQURELEdBUm9CO0FBV3RDWCxFQUFBQSxXQUFXLEVBQUU7QUFDWFcsSUFBQUEsZUFBZSxFQUFFO0FBRE4sR0FYeUI7QUFjdENQLEVBQUFBLFNBQVMsRUFBRTtBQUNURyxJQUFBQSxHQUFHLEVBQUUsQ0FESTtBQUVUSyxJQUFBQSxJQUFJLEVBQUU7QUFGRztBQWQyQixDQUEzQixDQUFiOztBQW9CQSxJQUFJQyxRQUFRLEdBQUdsQyxZQUFmO0FBQ0EzQixPQUFPLENBQUNFLE9BQVIsR0FBa0IyRCxRQUFsQjtBQUNBQyxNQUFNLENBQUM5RCxPQUFQLEdBQWlCQSxPQUFPLENBQUNFLE9BQXpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnRcIik7XG5cbnZhciBfVmlldyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1ZpZXdcIikpO1xuXG52YXIgX1N0eWxlU2hlZXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9TdHlsZVNoZWV0XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyBpZiAodHlwZW9mIFdlYWtNYXAgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG51bGw7IHZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgcmV0dXJuIGNhY2hlOyB9OyByZXR1cm4gY2FjaGU7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gXCJmdW5jdGlvblwiKSB7IHJldHVybiB7IGRlZmF1bHQ6IG9iaiB9OyB9IHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBOaWNvbGFzIEdhbGxhZ2hlci5cbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIFxuICovXG52YXIgTW9kYWxDb250ZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIGFjdGl2ZSA9IHByb3BzLmFjdGl2ZSxcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBvblJlcXVlc3RDbG9zZSA9IHByb3BzLm9uUmVxdWVzdENsb3NlLFxuICAgICAgdHJhbnNwYXJlbnQgPSBwcm9wcy50cmFuc3BhcmVudDtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgICAgdmFyIGNsb3NlT25Fc2NhcGUgPSBmdW5jdGlvbiBjbG9zZU9uRXNjYXBlKGUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSAmJiBlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgaWYgKG9uUmVxdWVzdENsb3NlKSB7XG4gICAgICAgICAgICBvblJlcXVlc3RDbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBjbG9zZU9uRXNjYXBlLCBmYWxzZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBjbG9zZU9uRXNjYXBlLCBmYWxzZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2FjdGl2ZSwgb25SZXF1ZXN0Q2xvc2VdKTtcbiAgdmFyIHN0eWxlID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFtzdHlsZXMubW9kYWwsIHRyYW5zcGFyZW50ID8gc3R5bGVzLm1vZGFsVHJhbnNwYXJlbnQgOiBzdHlsZXMubW9kYWxPcGFxdWVdO1xuICB9LCBbdHJhbnNwYXJlbnRdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICBhY2Nlc3NpYmlsaXR5Um9sZTogYWN0aXZlID8gJ2RpYWxvZycgOiBudWxsLFxuICAgIFwiYXJpYS1tb2RhbFwiOiB0cnVlLFxuICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgIHN0eWxlOiBzdHlsZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgc3R5bGU6IHN0eWxlcy5jb250YWluZXJcbiAgfSwgY2hpbGRyZW4pKTtcbn0pO1xuXG52YXIgc3R5bGVzID0gX1N0eWxlU2hlZXQuZGVmYXVsdC5jcmVhdGUoe1xuICBtb2RhbDoge1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMFxuICB9LFxuICBtb2RhbFRyYW5zcGFyZW50OiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnXG4gIH0sXG4gIG1vZGFsT3BhcXVlOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnXG4gIH0sXG4gIGNvbnRhaW5lcjoge1xuICAgIHRvcDogMCxcbiAgICBmbGV4OiAxXG4gIH1cbn0pO1xuXG52YXIgX2RlZmF1bHQgPSBNb2RhbENvbnRlbnQ7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyJdfQ==