61eb244d93d930d847e66b6db133d14d
"use strict";

exports.__esModule = true;
exports.default = void 0;

var _createReactClass = _interopRequireDefault(require("create-react-class"));

var _dismissKeyboard = _interopRequireDefault(require("../../modules/dismissKeyboard"));

var _invariant = _interopRequireDefault(require("fbjs/lib/invariant"));

var _mergeRefs = _interopRequireDefault(require("../../modules/mergeRefs"));

var _ScrollResponder = _interopRequireDefault(require("../../modules/ScrollResponder"));

var _ScrollViewBase = _interopRequireDefault(require("./ScrollViewBase"));

var _StyleSheet = _interopRequireDefault(require("../StyleSheet"));

var _View = _interopRequireDefault(require("../View"));

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var emptyObject = {};
var ScrollView = (0, _createReactClass.default)({
  displayName: "ScrollView",
  mixins: [_ScrollResponder.default.Mixin],
  getInitialState: function getInitialState() {
    return this.scrollResponderMixinGetInitialState();
  },
  flashScrollIndicators: function flashScrollIndicators() {
    this.scrollResponderFlashScrollIndicators();
  },
  getScrollResponder: function getScrollResponder() {
    return this;
  },
  getScrollableNode: function getScrollableNode() {
    return this._scrollNodeRef;
  },
  getInnerViewRef: function getInnerViewRef() {
    return this._innerViewRef;
  },
  getInnerViewNode: function getInnerViewNode() {
    return this._innerViewRef;
  },
  getNativeScrollRef: function getNativeScrollRef() {
    return this._scrollNodeRef;
  },
  scrollTo: function scrollTo(y, x, animated) {
    if (typeof y === 'number') {
      console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.');
    } else {
      var _ref = y || emptyObject;

      x = _ref.x;
      y = _ref.y;
      animated = _ref.animated;
    }

    this.getScrollResponder().scrollResponderScrollTo({
      x: x || 0,
      y: y || 0,
      animated: animated !== false
    });
  },
  scrollToEnd: function scrollToEnd(options) {
    var animated = (options && options.animated) !== false;
    var horizontal = this.props.horizontal;
    var scrollResponder = this.getScrollResponder();
    var scrollResponderNode = scrollResponder.scrollResponderGetScrollableNode();
    var x = horizontal ? scrollResponderNode.scrollWidth : 0;
    var y = horizontal ? 0 : scrollResponderNode.scrollHeight;
    scrollResponder.scrollResponderScrollTo({
      x: x,
      y: y,
      animated: animated
    });
  },
  render: function render() {
    var _this$props = this.props,
        contentContainerStyle = _this$props.contentContainerStyle,
        horizontal = _this$props.horizontal,
        onContentSizeChange = _this$props.onContentSizeChange,
        refreshControl = _this$props.refreshControl,
        stickyHeaderIndices = _this$props.stickyHeaderIndices,
        pagingEnabled = _this$props.pagingEnabled,
        forwardedRef = _this$props.forwardedRef,
        keyboardDismissMode = _this$props.keyboardDismissMode,
        onScroll = _this$props.onScroll,
        other = _objectWithoutPropertiesLoose(_this$props, ["contentContainerStyle", "horizontal", "onContentSizeChange", "refreshControl", "stickyHeaderIndices", "pagingEnabled", "forwardedRef", "keyboardDismissMode", "onScroll"]);

    if (process.env.NODE_ENV !== 'production' && this.props.style) {
      var style = _StyleSheet.default.flatten(this.props.style);

      var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
        return style && style[prop] !== undefined;
      });
      (0, _invariant.default)(childLayoutProps.length === 0, "ScrollView child layout (" + JSON.stringify(childLayoutProps) + ") " + 'must be applied through the contentContainerStyle prop.');
    }

    var contentSizeChangeProps = {};

    if (onContentSizeChange) {
      contentSizeChangeProps = {
        onLayout: this._handleContentOnLayout
      };
    }

    var hasStickyHeaderIndices = !horizontal && Array.isArray(stickyHeaderIndices);
    var children = hasStickyHeaderIndices || pagingEnabled ? _react.default.Children.map(this.props.children, function (child, i) {
      var isSticky = hasStickyHeaderIndices && stickyHeaderIndices.indexOf(i) > -1;

      if (child != null && (isSticky || pagingEnabled)) {
        return _react.default.createElement(_View.default, {
          style: _StyleSheet.default.compose(isSticky && styles.stickyHeader, pagingEnabled && styles.pagingEnabledChild)
        }, child);
      } else {
        return child;
      }
    }) : this.props.children;

    var contentContainer = _react.default.createElement(_View.default, _extends({}, contentSizeChangeProps, {
      children: children,
      collapsable: false,
      ref: this._setInnerViewRef,
      style: _StyleSheet.default.compose(horizontal && styles.contentContainerHorizontal, contentContainerStyle)
    }));

    var baseStyle = horizontal ? styles.baseHorizontal : styles.baseVertical;
    var pagingEnabledStyle = horizontal ? styles.pagingEnabledHorizontal : styles.pagingEnabledVertical;

    var props = _objectSpread(_objectSpread({}, other), {}, {
      style: [baseStyle, pagingEnabled && pagingEnabledStyle, this.props.style],
      onTouchStart: this.scrollResponderHandleTouchStart,
      onTouchMove: this.scrollResponderHandleTouchMove,
      onTouchEnd: this.scrollResponderHandleTouchEnd,
      onScrollBeginDrag: this.scrollResponderHandleScrollBeginDrag,
      onScrollEndDrag: this.scrollResponderHandleScrollEndDrag,
      onMomentumScrollBegin: this.scrollResponderHandleMomentumScrollBegin,
      onMomentumScrollEnd: this.scrollResponderHandleMomentumScrollEnd,
      onStartShouldSetResponder: this.scrollResponderHandleStartShouldSetResponder,
      onStartShouldSetResponderCapture: this.scrollResponderHandleStartShouldSetResponderCapture,
      onScrollShouldSetResponder: this.scrollResponderHandleScrollShouldSetResponder,
      onScroll: this._handleScroll,
      onResponderGrant: this.scrollResponderHandleResponderGrant,
      onResponderTerminationRequest: this.scrollResponderHandleTerminationRequest,
      onResponderTerminate: this.scrollResponderHandleTerminate,
      onResponderRelease: this.scrollResponderHandleResponderRelease,
      onResponderReject: this.scrollResponderHandleResponderReject
    });

    var ScrollViewClass = _ScrollViewBase.default;
    (0, _invariant.default)(ScrollViewClass !== undefined, 'ScrollViewClass must not be undefined');

    var scrollView = _react.default.createElement(ScrollViewClass, _extends({}, props, {
      ref: this._setScrollNodeRef
    }), contentContainer);

    if (refreshControl) {
      return _react.default.cloneElement(refreshControl, {
        style: props.style
      }, scrollView);
    }

    return scrollView;
  },
  _handleContentOnLayout: function _handleContentOnLayout(e) {
    var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
    this.props.onContentSizeChange(width, height);
  },
  _handleScroll: function _handleScroll(e) {
    if (process.env.NODE_ENV !== 'production') {
      if (this.props.onScroll && this.props.scrollEventThrottle == null) {
        console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
      }
    }

    if (this.props.keyboardDismissMode === 'on-drag') {
      (0, _dismissKeyboard.default)();
    }

    this.scrollResponderHandleScroll(e);
  },
  _setInnerViewRef: function _setInnerViewRef(node) {
    this._innerViewRef = node;
  },
  _setScrollNodeRef: function _setScrollNodeRef(node) {
    this._scrollNodeRef = node;

    if (node != null) {
      node.getScrollResponder = this.getScrollResponder;
      node.getInnerViewNode = this.getInnerViewNode;
      node.getInnerViewRef = this.getInnerViewRef;
      node.getNativeScrollRef = this.getNativeScrollRef;
      node.getScrollableNode = this.getScrollableNode;
      node.scrollTo = this.scrollTo;
      node.scrollToEnd = this.scrollToEnd;
      node.flashScrollIndicators = this.flashScrollIndicators;
      node.scrollResponderZoomTo = this.scrollResponderZoomTo;
      node.scrollResponderScrollNativeHandleToKeyboard = this.scrollResponderScrollNativeHandleToKeyboard;
    }

    var ref = (0, _mergeRefs.default)(this.props.forwardedRef);
    ref(node);
  }
});
var commonStyle = {
  flexGrow: 1,
  flexShrink: 1,
  transform: [{
    translateZ: 0
  }],
  WebkitOverflowScrolling: 'touch'
};

var styles = _StyleSheet.default.create({
  baseVertical: _objectSpread(_objectSpread({}, commonStyle), {}, {
    flexDirection: 'column',
    overflowX: 'hidden',
    overflowY: 'auto'
  }),
  baseHorizontal: _objectSpread(_objectSpread({}, commonStyle), {}, {
    flexDirection: 'row',
    overflowX: 'auto',
    overflowY: 'hidden'
  }),
  contentContainerHorizontal: {
    flexDirection: 'row'
  },
  stickyHeader: {
    position: 'sticky',
    top: 0,
    zIndex: 10
  },
  pagingEnabledHorizontal: {
    scrollSnapType: 'x mandatory'
  },
  pagingEnabledVertical: {
    scrollSnapType: 'y mandatory'
  },
  pagingEnabledChild: {
    scrollSnapAlign: 'start'
  }
});

var ForwardedScrollView = _react.default.forwardRef(function (props, forwardedRef) {
  return _react.default.createElement(ScrollView, _extends({}, props, {
    forwardedRef: forwardedRef
  }));
});

ForwardedScrollView.displayName = 'ScrollView';
var _default = ForwardedScrollView;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9jcmVhdGVSZWFjdENsYXNzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZGlzbWlzc0tleWJvYXJkIiwiX2ludmFyaWFudCIsIl9tZXJnZVJlZnMiLCJfU2Nyb2xsUmVzcG9uZGVyIiwiX1Njcm9sbFZpZXdCYXNlIiwiX1N0eWxlU2hlZXQiLCJfVmlldyIsIl9yZWFjdCIsIm9iaiIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwiZm9yRWFjaCIsImtleSIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsImluZGV4T2YiLCJlbXB0eU9iamVjdCIsIlNjcm9sbFZpZXciLCJkaXNwbGF5TmFtZSIsIm1peGlucyIsIk1peGluIiwiZ2V0SW5pdGlhbFN0YXRlIiwic2Nyb2xsUmVzcG9uZGVyTWl4aW5HZXRJbml0aWFsU3RhdGUiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJzY3JvbGxSZXNwb25kZXJGbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsIl9zY3JvbGxOb2RlUmVmIiwiZ2V0SW5uZXJWaWV3UmVmIiwiX2lubmVyVmlld1JlZiIsImdldElubmVyVmlld05vZGUiLCJnZXROYXRpdmVTY3JvbGxSZWYiLCJzY3JvbGxUbyIsInkiLCJ4IiwiYW5pbWF0ZWQiLCJjb25zb2xlIiwid2FybiIsIl9yZWYiLCJzY3JvbGxSZXNwb25kZXJTY3JvbGxUbyIsInNjcm9sbFRvRW5kIiwib3B0aW9ucyIsImhvcml6b250YWwiLCJwcm9wcyIsInNjcm9sbFJlc3BvbmRlciIsInNjcm9sbFJlc3BvbmRlck5vZGUiLCJzY3JvbGxSZXNwb25kZXJHZXRTY3JvbGxhYmxlTm9kZSIsInNjcm9sbFdpZHRoIiwic2Nyb2xsSGVpZ2h0IiwicmVuZGVyIiwiX3RoaXMkcHJvcHMiLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwicmVmcmVzaENvbnRyb2wiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwicGFnaW5nRW5hYmxlZCIsImZvcndhcmRlZFJlZiIsImtleWJvYXJkRGlzbWlzc01vZGUiLCJvblNjcm9sbCIsIm90aGVyIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwic3R5bGUiLCJmbGF0dGVuIiwiY2hpbGRMYXlvdXRQcm9wcyIsInByb3AiLCJ1bmRlZmluZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGVudFNpemVDaGFuZ2VQcm9wcyIsIm9uTGF5b3V0IiwiX2hhbmRsZUNvbnRlbnRPbkxheW91dCIsImhhc1N0aWNreUhlYWRlckluZGljZXMiLCJBcnJheSIsImlzQXJyYXkiLCJjaGlsZHJlbiIsIkNoaWxkcmVuIiwibWFwIiwiY2hpbGQiLCJpc1N0aWNreSIsImNyZWF0ZUVsZW1lbnQiLCJjb21wb3NlIiwic3R5bGVzIiwic3RpY2t5SGVhZGVyIiwicGFnaW5nRW5hYmxlZENoaWxkIiwiY29udGVudENvbnRhaW5lciIsImNvbGxhcHNhYmxlIiwicmVmIiwiX3NldElubmVyVmlld1JlZiIsImNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsIiwiYmFzZVN0eWxlIiwiYmFzZUhvcml6b250YWwiLCJiYXNlVmVydGljYWwiLCJwYWdpbmdFbmFibGVkU3R5bGUiLCJwYWdpbmdFbmFibGVkSG9yaXpvbnRhbCIsInBhZ2luZ0VuYWJsZWRWZXJ0aWNhbCIsIm9uVG91Y2hTdGFydCIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoU3RhcnQiLCJvblRvdWNoTW92ZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaEVuZCIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsQmVnaW5EcmFnIiwib25TY3JvbGxFbmREcmFnIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsRW5kRHJhZyIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsInNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4iLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlTW9tZW50dW1TY3JvbGxFbmQiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsInNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSIsIm9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwiX2hhbmRsZVNjcm9sbCIsIm9uUmVzcG9uZGVyR3JhbnQiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJHcmFudCIsIm9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0Iiwic2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRpb25SZXF1ZXN0Iiwib25SZXNwb25kZXJUZXJtaW5hdGUiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVUZXJtaW5hdGUiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwib25SZXNwb25kZXJSZWplY3QiLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWplY3QiLCJTY3JvbGxWaWV3Q2xhc3MiLCJzY3JvbGxWaWV3IiwiX3NldFNjcm9sbE5vZGVSZWYiLCJjbG9uZUVsZW1lbnQiLCJlIiwiX2UkbmF0aXZlRXZlbnQkbGF5b3V0IiwibmF0aXZlRXZlbnQiLCJsYXlvdXQiLCJ3aWR0aCIsImhlaWdodCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJsb2ciLCJzY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGwiLCJub2RlIiwic2Nyb2xsUmVzcG9uZGVyWm9vbVRvIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCIsImNvbW1vblN0eWxlIiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwidHJhbnNmb3JtIiwidHJhbnNsYXRlWiIsIldlYmtpdE92ZXJmbG93U2Nyb2xsaW5nIiwiY3JlYXRlIiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsInBvc2l0aW9uIiwidG9wIiwiekluZGV4Iiwic2Nyb2xsU25hcFR5cGUiLCJzY3JvbGxTbmFwQWxpZ24iLCJGb3J3YXJkZWRTY3JvbGxWaWV3IiwiZm9yd2FyZFJlZiIsIl9kZWZhdWx0IiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsT0FBTyxDQUFDQyxVQUFSLEdBQXFCLElBQXJCO0FBQ0FELE9BQU8sQ0FBQ0UsT0FBUixHQUFrQixLQUFLLENBQXZCOztBQUVBLElBQUlDLGlCQUFpQixHQUFHQyxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLG9CQUFELENBQVIsQ0FBOUM7O0FBRUEs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IjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9jcmVhdGVSZWFjdENsYXNzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiY3JlYXRlLXJlYWN0LWNsYXNzXCIpKTtcblxudmFyIF9kaXNtaXNzS2V5Ym9hcmQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi9tb2R1bGVzL2Rpc21pc3NLZXlib2FyZFwiKSk7XG5cbnZhciBfaW52YXJpYW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZmJqcy9saWIvaW52YXJpYW50XCIpKTtcblxudmFyIF9tZXJnZVJlZnMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi9tb2R1bGVzL21lcmdlUmVmc1wiKSk7XG5cbnZhciBfU2Nyb2xsUmVzcG9uZGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vbW9kdWxlcy9TY3JvbGxSZXNwb25kZXJcIikpO1xuXG52YXIgX1Njcm9sbFZpZXdCYXNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9TY3JvbGxWaWV3QmFzZVwiKSk7XG5cbnZhciBfU3R5bGVTaGVldCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1N0eWxlU2hlZXRcIikpO1xuXG52YXIgX1ZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9WaWV3XCIpKTtcblxudmFyIF9yZWFjdCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIGVtcHR5T2JqZWN0ID0ge307XG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcmVmZXItZXM2LWNsYXNzICovXG5cbnZhciBTY3JvbGxWaWV3ID0gKDAsIF9jcmVhdGVSZWFjdENsYXNzLmRlZmF1bHQpKHtcbiAgZGlzcGxheU5hbWU6IFwiU2Nyb2xsVmlld1wiLFxuICBtaXhpbnM6IFtfU2Nyb2xsUmVzcG9uZGVyLmRlZmF1bHQuTWl4aW5dLFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zY3JvbGxSZXNwb25kZXJNaXhpbkdldEluaXRpYWxTdGF0ZSgpO1xuICB9LFxuICBmbGFzaFNjcm9sbEluZGljYXRvcnM6IGZ1bmN0aW9uIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICB0aGlzLnNjcm9sbFJlc3BvbmRlckZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIsIHdoaWNoIHN1cHBvcnRzXG4gICAqIG9wZXJhdGlvbnMgbGlrZSBgc2Nyb2xsVG9gLiBBbGwgU2Nyb2xsVmlldy1saWtlIGNvbXBvbmVudHMgc2hvdWxkXG4gICAqIGltcGxlbWVudCB0aGlzIG1ldGhvZCBzbyB0aGF0IHRoZXkgY2FuIGJlIGNvbXBvc2VkIHdoaWxlIHByb3ZpZGluZyBhY2Nlc3NcbiAgICogdG8gdGhlIHVuZGVybHlpbmcgc2Nyb2xsIHJlc3BvbmRlcidzIG1ldGhvZHMuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXI6IGZ1bmN0aW9uIGdldFNjcm9sbFJlc3BvbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6IGZ1bmN0aW9uIGdldFNjcm9sbGFibGVOb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxOb2RlUmVmO1xuICB9LFxuICBnZXRJbm5lclZpZXdSZWY6IGZ1bmN0aW9uIGdldElubmVyVmlld1JlZigpIHtcbiAgICByZXR1cm4gdGhpcy5faW5uZXJWaWV3UmVmO1xuICB9LFxuICBnZXRJbm5lclZpZXdOb2RlOiBmdW5jdGlvbiBnZXRJbm5lclZpZXdOb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9pbm5lclZpZXdSZWY7XG4gIH0sXG4gIGdldE5hdGl2ZVNjcm9sbFJlZjogZnVuY3Rpb24gZ2V0TmF0aXZlU2Nyb2xsUmVmKCkge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxOb2RlUmVmO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIGEgZ2l2ZW4geCwgeSBvZmZzZXQsIGVpdGhlciBpbW1lZGlhdGVseSBvciB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbi5cbiAgICogU3ludGF4OlxuICAgKlxuICAgKiBzY3JvbGxUbyhvcHRpb25zOiB7eDogbnVtYmVyID0gMDsgeTogbnVtYmVyID0gMDsgYW5pbWF0ZWQ6IGJvb2xlYW4gPSB0cnVlfSlcbiAgICpcbiAgICogTm90ZTogVGhlIHdlaXJkIGFyZ3VtZW50IHNpZ25hdHVyZSBpcyBkdWUgdG8gdGhlIGZhY3QgdGhhdCwgZm9yIGhpc3RvcmljYWwgcmVhc29ucyxcbiAgICogdGhlIGZ1bmN0aW9uIGFsc28gYWNjZXB0cyBzZXBhcmF0ZSBhcmd1bWVudHMgYXMgYXMgYWx0ZXJuYXRpdmUgdG8gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIGRlcHJlY2F0ZWQgZHVlIHRvIGFtYmlndWl0eSAoeSBiZWZvcmUgeCksIGFuZCBTSE9VTEQgTk9UIEJFIFVTRUQuXG4gICAqL1xuICBzY3JvbGxUbzogZnVuY3Rpb24gc2Nyb2xsVG8oeSwgeCwgYW5pbWF0ZWQpIHtcbiAgICBpZiAodHlwZW9mIHkgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2BzY3JvbGxUbyh5LCB4LCBhbmltYXRlZClgIGlzIGRlcHJlY2F0ZWQuIFVzZSBgc2Nyb2xsVG8oe3g6IDUsIHk6IDUsIGFuaW1hdGVkOiB0cnVlfSlgIGluc3RlYWQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfcmVmID0geSB8fCBlbXB0eU9iamVjdDtcblxuICAgICAgeCA9IF9yZWYueDtcbiAgICAgIHkgPSBfcmVmLnk7XG4gICAgICBhbmltYXRlZCA9IF9yZWYuYW5pbWF0ZWQ7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRTY3JvbGxSZXNwb25kZXIoKS5zY3JvbGxSZXNwb25kZXJTY3JvbGxUbyh7XG4gICAgICB4OiB4IHx8IDAsXG4gICAgICB5OiB5IHx8IDAsXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWQgIT09IGZhbHNlXG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIElmIHRoaXMgaXMgYSB2ZXJ0aWNhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIGJvdHRvbS5cbiAgICogSWYgdGhpcyBpcyBhIGhvcml6b250YWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSByaWdodC5cbiAgICpcbiAgICogVXNlIGBzY3JvbGxUb0VuZCh7IGFuaW1hdGVkOiB0cnVlIH0pYCBmb3Igc21vb3RoIGFuaW1hdGVkIHNjcm9sbGluZyxcbiAgICogYHNjcm9sbFRvRW5kKHsgYW5pbWF0ZWQ6IGZhbHNlIH0pYCBmb3IgaW1tZWRpYXRlIHNjcm9sbGluZy5cbiAgICogSWYgbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCBgYW5pbWF0ZWRgIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqL1xuICBzY3JvbGxUb0VuZDogZnVuY3Rpb24gc2Nyb2xsVG9FbmQob3B0aW9ucykge1xuICAgIC8vIERlZmF1bHQgdG8gdHJ1ZVxuICAgIHZhciBhbmltYXRlZCA9IChvcHRpb25zICYmIG9wdGlvbnMuYW5pbWF0ZWQpICE9PSBmYWxzZTtcbiAgICB2YXIgaG9yaXpvbnRhbCA9IHRoaXMucHJvcHMuaG9yaXpvbnRhbDtcbiAgICB2YXIgc2Nyb2xsUmVzcG9uZGVyID0gdGhpcy5nZXRTY3JvbGxSZXNwb25kZXIoKTtcbiAgICB2YXIgc2Nyb2xsUmVzcG9uZGVyTm9kZSA9IHNjcm9sbFJlc3BvbmRlci5zY3JvbGxSZXNwb25kZXJHZXRTY3JvbGxhYmxlTm9kZSgpO1xuICAgIHZhciB4ID0gaG9yaXpvbnRhbCA/IHNjcm9sbFJlc3BvbmRlck5vZGUuc2Nyb2xsV2lkdGggOiAwO1xuICAgIHZhciB5ID0gaG9yaXpvbnRhbCA/IDAgOiBzY3JvbGxSZXNwb25kZXJOb2RlLnNjcm9sbEhlaWdodDtcbiAgICBzY3JvbGxSZXNwb25kZXIuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsVG8oe1xuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWRcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY29udGVudENvbnRhaW5lclN0eWxlID0gX3RoaXMkcHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlLFxuICAgICAgICBob3Jpem9udGFsID0gX3RoaXMkcHJvcHMuaG9yaXpvbnRhbCxcbiAgICAgICAgb25Db250ZW50U2l6ZUNoYW5nZSA9IF90aGlzJHByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UsXG4gICAgICAgIHJlZnJlc2hDb250cm9sID0gX3RoaXMkcHJvcHMucmVmcmVzaENvbnRyb2wsXG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMgPSBfdGhpcyRwcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICBwYWdpbmdFbmFibGVkID0gX3RoaXMkcHJvcHMucGFnaW5nRW5hYmxlZCxcbiAgICAgICAgZm9yd2FyZGVkUmVmID0gX3RoaXMkcHJvcHMuZm9yd2FyZGVkUmVmLFxuICAgICAgICBrZXlib2FyZERpc21pc3NNb2RlID0gX3RoaXMkcHJvcHMua2V5Ym9hcmREaXNtaXNzTW9kZSxcbiAgICAgICAgb25TY3JvbGwgPSBfdGhpcyRwcm9wcy5vblNjcm9sbCxcbiAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfdGhpcyRwcm9wcywgW1wiY29udGVudENvbnRhaW5lclN0eWxlXCIsIFwiaG9yaXpvbnRhbFwiLCBcIm9uQ29udGVudFNpemVDaGFuZ2VcIiwgXCJyZWZyZXNoQ29udHJvbFwiLCBcInN0aWNreUhlYWRlckluZGljZXNcIiwgXCJwYWdpbmdFbmFibGVkXCIsIFwiZm9yd2FyZGVkUmVmXCIsIFwia2V5Ym9hcmREaXNtaXNzTW9kZVwiLCBcIm9uU2Nyb2xsXCJdKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHRoaXMucHJvcHMuc3R5bGUpIHtcbiAgICAgIHZhciBzdHlsZSA9IF9TdHlsZVNoZWV0LmRlZmF1bHQuZmxhdHRlbih0aGlzLnByb3BzLnN0eWxlKTtcblxuICAgICAgdmFyIGNoaWxkTGF5b3V0UHJvcHMgPSBbJ2FsaWduSXRlbXMnLCAnanVzdGlmeUNvbnRlbnQnXS5maWx0ZXIoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIHN0eWxlICYmIHN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQ7XG4gICAgICB9KTtcbiAgICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKGNoaWxkTGF5b3V0UHJvcHMubGVuZ3RoID09PSAwLCBcIlNjcm9sbFZpZXcgY2hpbGQgbGF5b3V0IChcIiArIEpTT04uc3RyaW5naWZ5KGNoaWxkTGF5b3V0UHJvcHMpICsgXCIpIFwiICsgJ211c3QgYmUgYXBwbGllZCB0aHJvdWdoIHRoZSBjb250ZW50Q29udGFpbmVyU3R5bGUgcHJvcC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9IHt9O1xuXG4gICAgaWYgKG9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIGNvbnRlbnRTaXplQ2hhbmdlUHJvcHMgPSB7XG4gICAgICAgIG9uTGF5b3V0OiB0aGlzLl9oYW5kbGVDb250ZW50T25MYXlvdXRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGhhc1N0aWNreUhlYWRlckluZGljZXMgPSAhaG9yaXpvbnRhbCAmJiBBcnJheS5pc0FycmF5KHN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIHZhciBjaGlsZHJlbiA9IGhhc1N0aWNreUhlYWRlckluZGljZXMgfHwgcGFnaW5nRW5hYmxlZCA/IF9yZWFjdC5kZWZhdWx0LkNoaWxkcmVuLm1hcCh0aGlzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQsIGkpIHtcbiAgICAgIHZhciBpc1N0aWNreSA9IGhhc1N0aWNreUhlYWRlckluZGljZXMgJiYgc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGkpID4gLTE7XG5cbiAgICAgIGlmIChjaGlsZCAhPSBudWxsICYmIChpc1N0aWNreSB8fCBwYWdpbmdFbmFibGVkKSkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgICAgIHN0eWxlOiBfU3R5bGVTaGVldC5kZWZhdWx0LmNvbXBvc2UoaXNTdGlja3kgJiYgc3R5bGVzLnN0aWNreUhlYWRlciwgcGFnaW5nRW5hYmxlZCAmJiBzdHlsZXMucGFnaW5nRW5hYmxlZENoaWxkKVxuICAgICAgICB9LCBjaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9XG4gICAgfSkgOiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuXG4gICAgdmFyIGNvbnRlbnRDb250YWluZXIgPSAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgY29udGVudFNpemVDaGFuZ2VQcm9wcywge1xuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgY29sbGFwc2FibGU6IGZhbHNlLFxuICAgICAgcmVmOiB0aGlzLl9zZXRJbm5lclZpZXdSZWYsXG4gICAgICBzdHlsZTogX1N0eWxlU2hlZXQuZGVmYXVsdC5jb21wb3NlKGhvcml6b250YWwgJiYgc3R5bGVzLmNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsLCBjb250ZW50Q29udGFpbmVyU3R5bGUpXG4gICAgfSkpO1xuXG4gICAgdmFyIGJhc2VTdHlsZSA9IGhvcml6b250YWwgPyBzdHlsZXMuYmFzZUhvcml6b250YWwgOiBzdHlsZXMuYmFzZVZlcnRpY2FsO1xuICAgIHZhciBwYWdpbmdFbmFibGVkU3R5bGUgPSBob3Jpem9udGFsID8gc3R5bGVzLnBhZ2luZ0VuYWJsZWRIb3Jpem9udGFsIDogc3R5bGVzLnBhZ2luZ0VuYWJsZWRWZXJ0aWNhbDtcblxuICAgIHZhciBwcm9wcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3RoZXIpLCB7fSwge1xuICAgICAgc3R5bGU6IFtiYXNlU3R5bGUsIHBhZ2luZ0VuYWJsZWQgJiYgcGFnaW5nRW5hYmxlZFN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXSxcbiAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaFN0YXJ0LFxuICAgICAgb25Ub3VjaE1vdmU6IHRoaXMuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVG91Y2hNb3ZlLFxuICAgICAgb25Ub3VjaEVuZDogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVUb3VjaEVuZCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGxFbmREcmFnLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZU1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZSxcbiAgICAgIG9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZVNjcm9sbFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9oYW5kbGVTY3JvbGwsXG4gICAgICBvblJlc3BvbmRlckdyYW50OiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlckdyYW50LFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGU6IHRoaXMuc2Nyb2xsUmVzcG9uZGVySGFuZGxlVGVybWluYXRlLFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLnNjcm9sbFJlc3BvbmRlckhhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICBvblJlc3BvbmRlclJlamVjdDogdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVSZXNwb25kZXJSZWplY3RcbiAgICB9KTtcblxuICAgIHZhciBTY3JvbGxWaWV3Q2xhc3MgPSBfU2Nyb2xsVmlld0Jhc2UuZGVmYXVsdDtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShTY3JvbGxWaWV3Q2xhc3MgIT09IHVuZGVmaW5lZCwgJ1Njcm9sbFZpZXdDbGFzcyBtdXN0IG5vdCBiZSB1bmRlZmluZWQnKTtcblxuICAgIHZhciBzY3JvbGxWaWV3ID0gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU2Nyb2xsVmlld0NsYXNzLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogdGhpcy5fc2V0U2Nyb2xsTm9kZVJlZlxuICAgIH0pLCBjb250ZW50Q29udGFpbmVyKTtcblxuICAgIGlmIChyZWZyZXNoQ29udHJvbCkge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jbG9uZUVsZW1lbnQocmVmcmVzaENvbnRyb2wsIHtcbiAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlXG4gICAgICB9LCBzY3JvbGxWaWV3KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2Nyb2xsVmlldztcbiAgfSxcbiAgX2hhbmRsZUNvbnRlbnRPbkxheW91dDogZnVuY3Rpb24gX2hhbmRsZUNvbnRlbnRPbkxheW91dChlKSB7XG4gICAgdmFyIF9lJG5hdGl2ZUV2ZW50JGxheW91dCA9IGUubmF0aXZlRXZlbnQubGF5b3V0LFxuICAgICAgICB3aWR0aCA9IF9lJG5hdGl2ZUV2ZW50JGxheW91dC53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gX2UkbmF0aXZlRXZlbnQkbGF5b3V0LmhlaWdodDtcbiAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gIH0sXG4gIF9oYW5kbGVTY3JvbGw6IGZ1bmN0aW9uIF9oYW5kbGVTY3JvbGwoZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5vblNjcm9sbCAmJiB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUgPT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLmxvZygnWW91IHNwZWNpZmllZCBgb25TY3JvbGxgIG9uIGEgPFNjcm9sbFZpZXc+IGJ1dCBub3QgJyArICdgc2Nyb2xsRXZlbnRUaHJvdHRsZWAuIFlvdSB3aWxsIG9ubHkgcmVjZWl2ZSBvbmUgZXZlbnQuICcgKyAnVXNpbmcgYDE2YCB5b3UgZ2V0IGFsbCB0aGUgZXZlbnRzIGJ1dCBiZSBhd2FyZSB0aGF0IGl0IG1heSAnICsgXCJjYXVzZSBmcmFtZSBkcm9wcywgdXNlIGEgYmlnZ2VyIG51bWJlciBpZiB5b3UgZG9uJ3QgbmVlZCBhcyBcIiArICdtdWNoIHByZWNpc2lvbi4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5rZXlib2FyZERpc21pc3NNb2RlID09PSAnb24tZHJhZycpIHtcbiAgICAgICgwLCBfZGlzbWlzc0tleWJvYXJkLmRlZmF1bHQpKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGxSZXNwb25kZXJIYW5kbGVTY3JvbGwoZSk7XG4gIH0sXG4gIF9zZXRJbm5lclZpZXdSZWY6IGZ1bmN0aW9uIF9zZXRJbm5lclZpZXdSZWYobm9kZSkge1xuICAgIHRoaXMuX2lubmVyVmlld1JlZiA9IG5vZGU7XG4gIH0sXG4gIF9zZXRTY3JvbGxOb2RlUmVmOiBmdW5jdGlvbiBfc2V0U2Nyb2xsTm9kZVJlZihub2RlKSB7XG4gICAgdGhpcy5fc2Nyb2xsTm9kZVJlZiA9IG5vZGU7IC8vIFNjcm9sbFZpZXcgbmVlZHMgdG8gYWRkIG1vcmUgbWV0aG9kcyB0byB0aGUgaG9zdE5vZGUgaW4gYWRkaXRpb24gdG8gdGhvc2VcbiAgICAvLyBhZGRlZCBieSBgdXNlUGxhdGZvcm1NZXRob2RzYC4gVGhpcyBpcyB0ZW1wb3JhcmlseSB1bnRpbCBhbiBBUEkgbGlrZVxuICAgIC8vIGBTY3JvbGxWaWV3LnNjcm9sbFRvKGhvc3ROb2RlLCB7IHgsIHkgfSlgIGlzIGFkZGVkIHRvIFJlYWN0IE5hdGl2ZS5cblxuICAgIGlmIChub2RlICE9IG51bGwpIHtcbiAgICAgIG5vZGUuZ2V0U2Nyb2xsUmVzcG9uZGVyID0gdGhpcy5nZXRTY3JvbGxSZXNwb25kZXI7XG4gICAgICBub2RlLmdldElubmVyVmlld05vZGUgPSB0aGlzLmdldElubmVyVmlld05vZGU7XG4gICAgICBub2RlLmdldElubmVyVmlld1JlZiA9IHRoaXMuZ2V0SW5uZXJWaWV3UmVmO1xuICAgICAgbm9kZS5nZXROYXRpdmVTY3JvbGxSZWYgPSB0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZjtcbiAgICAgIG5vZGUuZ2V0U2Nyb2xsYWJsZU5vZGUgPSB0aGlzLmdldFNjcm9sbGFibGVOb2RlO1xuICAgICAgbm9kZS5zY3JvbGxUbyA9IHRoaXMuc2Nyb2xsVG87XG4gICAgICBub2RlLnNjcm9sbFRvRW5kID0gdGhpcy5zY3JvbGxUb0VuZDtcbiAgICAgIG5vZGUuZmxhc2hTY3JvbGxJbmRpY2F0b3JzID0gdGhpcy5mbGFzaFNjcm9sbEluZGljYXRvcnM7XG4gICAgICBub2RlLnNjcm9sbFJlc3BvbmRlclpvb21UbyA9IHRoaXMuc2Nyb2xsUmVzcG9uZGVyWm9vbVRvO1xuICAgICAgbm9kZS5zY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkID0gdGhpcy5zY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkO1xuICAgIH1cblxuICAgIHZhciByZWYgPSAoMCwgX21lcmdlUmVmcy5kZWZhdWx0KSh0aGlzLnByb3BzLmZvcndhcmRlZFJlZik7XG4gICAgcmVmKG5vZGUpO1xuICB9XG59KTtcbnZhciBjb21tb25TdHlsZSA9IHtcbiAgZmxleEdyb3c6IDEsXG4gIGZsZXhTaHJpbms6IDEsXG4gIC8vIEVuYWJsZSBoYXJkd2FyZSBjb21wb3NpdGluZyBpbiBtb2Rlcm4gYnJvd3NlcnMuXG4gIC8vIENyZWF0ZXMgYSBuZXcgbGF5ZXIgd2l0aCBpdHMgb3duIGJhY2tpbmcgc3VyZmFjZSB0aGF0IGNhbiBzaWduaWZpY2FudGx5XG4gIC8vIGltcHJvdmUgc2Nyb2xsIHBlcmZvcm1hbmNlLlxuICB0cmFuc2Zvcm06IFt7XG4gICAgdHJhbnNsYXRlWjogMFxuICB9XSxcbiAgLy8gaU9TIG5hdGl2ZSBzY3JvbGxpbmdcbiAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCdcbn07XG5cbnZhciBzdHlsZXMgPSBfU3R5bGVTaGVldC5kZWZhdWx0LmNyZWF0ZSh7XG4gIGJhc2VWZXJ0aWNhbDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb21tb25TdHlsZSksIHt9LCB7XG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICBvdmVyZmxvd1k6ICdhdXRvJ1xuICB9KSxcbiAgYmFzZUhvcml6b250YWw6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29tbW9uU3R5bGUpLCB7fSwge1xuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIG92ZXJmbG93WDogJ2F1dG8nLFxuICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgfSksXG4gIGNvbnRlbnRDb250YWluZXJIb3Jpem9udGFsOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdydcbiAgfSxcbiAgc3RpY2t5SGVhZGVyOiB7XG4gICAgcG9zaXRpb246ICdzdGlja3knLFxuICAgIHRvcDogMCxcbiAgICB6SW5kZXg6IDEwXG4gIH0sXG4gIHBhZ2luZ0VuYWJsZWRIb3Jpem9udGFsOiB7XG4gICAgc2Nyb2xsU25hcFR5cGU6ICd4IG1hbmRhdG9yeSdcbiAgfSxcbiAgcGFnaW5nRW5hYmxlZFZlcnRpY2FsOiB7XG4gICAgc2Nyb2xsU25hcFR5cGU6ICd5IG1hbmRhdG9yeSdcbiAgfSxcbiAgcGFnaW5nRW5hYmxlZENoaWxkOiB7XG4gICAgc2Nyb2xsU25hcEFsaWduOiAnc3RhcnQnXG4gIH1cbn0pO1xuXG52YXIgRm9yd2FyZGVkU2Nyb2xsVmlldyA9IC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChTY3JvbGxWaWV3LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICBmb3J3YXJkZWRSZWY6IGZvcndhcmRlZFJlZlxuICB9KSk7XG59KTtcblxuRm9yd2FyZGVkU2Nyb2xsVmlldy5kaXNwbGF5TmFtZSA9ICdTY3JvbGxWaWV3JztcbnZhciBfZGVmYXVsdCA9IEZvcndhcmRlZFNjcm9sbFZpZXc7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyJdfQ==