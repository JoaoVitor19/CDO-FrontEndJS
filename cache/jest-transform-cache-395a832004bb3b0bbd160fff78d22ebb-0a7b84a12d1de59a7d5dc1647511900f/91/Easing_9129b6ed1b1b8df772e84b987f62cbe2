60633e0bb3156f11b3219e05d28c74f6
'use strict';

exports.__esModule = true;
exports.default = void 0;

var _bezier2 = _interopRequireDefault(require("./bezier"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

var _ease;

var Easing = function () {
  function Easing() {}

  Easing.step0 = function step0(n) {
    return n > 0 ? 1 : 0;
  };

  Easing.step1 = function step1(n) {
    return n >= 1 ? 1 : 0;
  };

  Easing.linear = function linear(t) {
    return t;
  };

  Easing.ease = function ease(t) {
    if (!_ease) {
      _ease = Easing.bezier(0.42, 0, 1, 1);
    }

    return _ease(t);
  };

  Easing.quad = function quad(t) {
    return t * t;
  };

  Easing.cubic = function cubic(t) {
    return t * t * t;
  };

  Easing.poly = function poly(n) {
    return function (t) {
      return Math.pow(t, n);
    };
  };

  Easing.sin = function sin(t) {
    return 1 - Math.cos(t * Math.PI / 2);
  };

  Easing.circle = function circle(t) {
    return 1 - Math.sqrt(1 - t * t);
  };

  Easing.exp = function exp(t) {
    return Math.pow(2, 10 * (t - 1));
  };

  Easing.elastic = function elastic(bounciness) {
    if (bounciness === void 0) {
      bounciness = 1;
    }

    var p = bounciness * Math.PI;
    return function (t) {
      return 1 - Math.pow(Math.cos(t * Math.PI / 2), 3) * Math.cos(t * p);
    };
  };

  Easing.back = function back(s) {
    if (s === void 0) {
      s = 1.70158;
    }

    return function (t) {
      return t * t * ((s + 1) * t - s);
    };
  };

  Easing.bounce = function bounce(t) {
    if (t < 1 / 2.75) {
      return 7.5625 * t * t;
    }

    if (t < 2 / 2.75) {
      var _t = t - 1.5 / 2.75;

      return 7.5625 * _t * _t + 0.75;
    }

    if (t < 2.5 / 2.75) {
      var _t2 = t - 2.25 / 2.75;

      return 7.5625 * _t2 * _t2 + 0.9375;
    }

    var t2 = t - 2.625 / 2.75;
    return 7.5625 * t2 * t2 + 0.984375;
  };

  Easing.bezier = function bezier(x1, y1, x2, y2) {
    return (0, _bezier2.default)(x1, y1, x2, y2);
  };

  Easing.in = function _in(easing) {
    return easing;
  };

  Easing.out = function out(easing) {
    return function (t) {
      return 1 - easing(1 - t);
    };
  };

  Easing.inOut = function inOut(easing) {
    return function (t) {
      if (t < 0.5) {
        return easing(t * 2) / 2;
      }

      return 1 - easing((1 - t) * 2) / 2;
    };
  };

  return Easing;
}();

var _default = Easing;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVhc2luZy5qcyJdLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfYmV6aWVyMiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX2Vhc2UiLCJFYXNpbmciLCJzdGVwMCIsIm4iLCJzdGVwMSIsImxpbmVhciIsInQiLCJlYXNlIiwiYmV6aWVyIiwicXVhZCIsImN1YmljIiwicG9seSIsIk1hdGgiLCJwb3ciLCJzaW4iLCJjb3MiLCJQSSIsImNpcmNsZSIsInNxcnQiLCJleHAiLCJlbGFzdGljIiwiYm91bmNpbmVzcyIsInAiLCJiYWNrIiwicyIsImJvdW5jZSIsIl90IiwiX3QyIiwidDIiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImluIiwiX2luIiwiZWFzaW5nIiwib3V0IiwiaW5PdXQiLCJfZGVmYXVsdCIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IkFBU0E7O0FBRUFBLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFPLENBQUNFLE9BQVIsR0FBa0IsS0FBSyxDQUF2Qjs7QUFFQSxJQUFJQyxRQUFRLEdBQUdDLHNCQUFzQixDQUFDQyxPQUFPLFlBQVIsQ0FBckM7O0FBRUEsU0FBU0Qsc0JBQVQsQ0FBZ0NFLEdBQWhDLEVBQXFDO0FBQUUsU0FBT0EsR0FBRyxJQUFJQSxHQUFHLENBQUNMLFVBQVgsR0FBd0JLLEdBQXhCLEdBQThCO0FBQUVKLElBQUFBLE9BQU8sRUFBRUk7QUFBWCxHQUFyQztBQUF3RDs7QUFFL0YsSUFBSUMsS0FBSjs7QUFnREEsSUFBSUMsTUFBTSxHQUFnQixZQUFZO0FBQ3BDLFdBQVNBLE1BQVQsR0FBa0IsQ0FBRTs7QUFLcEJBLEVBQUFBLE1BQU0sQ0FBQ0MsS0FBUCxHQUFlLFNBQVNBLEtBQVQsQ0FBZUMsQ0FBZixFQUFrQjtBQUMvQixXQUFPQSxDQUFDLEdBQUcsQ0FBSixHQUFRLENBQVIsR0FBWSxDQUFuQjtBQUNELEdBRkQ7O0FBUUFGLEVBQUFBLE1BQU0s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LEVBQXFCO0FBQy9CLFdBQU9BLE1BQVA7QUFDRCxHQUZEOztBQVFBbEMsRUFBQUEsTUFBTSxDQUFDbUMsR0FBUCxHQUFhLFNBQVNBLEdBQVQsQ0FBYUQsTUFBYixFQUFxQjtBQUNoQyxXQUFPLFVBQVU3QixDQUFWLEVBQWE7QUFDbEIsYUFBTyxJQUFJNkIsTUFBTSxDQUFDLElBQUk3QixDQUFMLENBQWpCO0FBQ0QsS0FGRDtBQUdELEdBSkQ7O0FBWUFMLEVBQUFBLE1BQU0sQ0FBQ29DLEtBQVAsR0FBZSxTQUFTQSxLQUFULENBQWVGLE1BQWYsRUFBdUI7QUFDcEMsV0FBTyxVQUFVN0IsQ0FBVixFQUFhO0FBQ2xCLFVBQUlBLENBQUMsR0FBRyxHQUFSLEVBQWE7QUFDWCxlQUFPNkIsTUFBTSxDQUFDN0IsQ0FBQyxHQUFHLENBQUwsQ0FBTixHQUFnQixDQUF2QjtBQUNEOztBQUVELGFBQU8sSUFBSTZCLE1BQU0sQ0FBQyxDQUFDLElBQUk3QixDQUFMLElBQVUsQ0FBWCxDQUFOLEdBQXNCLENBQWpDO0FBQ0QsS0FORDtBQU9ELEdBUkQ7O0FBVUEsU0FBT0wsTUFBUDtBQUNELENBaE95QixFQUExQjs7QUFrT0EsSUFBSXFDLFFBQVEsR0FBR3JDLE1BQWY7QUFDQVIsT0FBTyxDQUFDRSxPQUFSLEdBQWtCMkMsUUFBbEI7QUFDQUMsTUFBTSxDQUFDOUMsT0FBUCxHQUFpQkEsT0FBTyxDQUFDRSxPQUF6QiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9iZXppZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9iZXppZXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2Vhc2U7XG4vKipcbiAqIFRoZSBgRWFzaW5nYCBtb2R1bGUgaW1wbGVtZW50cyBjb21tb24gZWFzaW5nIGZ1bmN0aW9ucy4gVGhpcyBtb2R1bGUgaXMgdXNlZFxuICogYnkgW0FuaW1hdGUudGltaW5nKCldKGRvY3MvYW5pbWF0ZS5odG1sI3RpbWluZykgdG8gY29udmV5IHBoeXNpY2FsbHlcbiAqIGJlbGlldmFibGUgbW90aW9uIGluIGFuaW1hdGlvbnMuXG4gKlxuICogWW91IGNhbiBmaW5kIGEgdmlzdWFsaXphdGlvbiBvZiBzb21lIGNvbW1vbiBlYXNpbmcgZnVuY3Rpb25zIGF0XG4gKiBodHRwOi8vZWFzaW5ncy5uZXQvXG4gKlxuICogIyMjIFByZWRlZmluZWQgYW5pbWF0aW9uc1xuICpcbiAqIFRoZSBgRWFzaW5nYCBtb2R1bGUgcHJvdmlkZXMgc2V2ZXJhbCBwcmVkZWZpbmVkIGFuaW1hdGlvbnMgdGhyb3VnaCB0aGVcbiAqIGZvbGxvd2luZyBtZXRob2RzOlxuICpcbiAqIC0gW2BiYWNrYF0oZG9jcy9lYXNpbmcuaHRtbCNiYWNrKSBwcm92aWRlcyBhIHNpbXBsZSBhbmltYXRpb24gd2hlcmUgdGhlXG4gKiAgIG9iamVjdCBnb2VzIHNsaWdodGx5IGJhY2sgYmVmb3JlIG1vdmluZyBmb3J3YXJkXG4gKiAtIFtgYm91bmNlYF0oZG9jcy9lYXNpbmcuaHRtbCNib3VuY2UpIHByb3ZpZGVzIGEgYm91bmNpbmcgYW5pbWF0aW9uXG4gKiAtIFtgZWFzZWBdKGRvY3MvZWFzaW5nLmh0bWwjZWFzZSkgcHJvdmlkZXMgYSBzaW1wbGUgaW5lcnRpYWwgYW5pbWF0aW9uXG4gKiAtIFtgZWxhc3RpY2BdKGRvY3MvZWFzaW5nLmh0bWwjZWxhc3RpYykgcHJvdmlkZXMgYSBzaW1wbGUgc3ByaW5nIGludGVyYWN0aW9uXG4gKlxuICogIyMjIFN0YW5kYXJkIGZ1bmN0aW9uc1xuICpcbiAqIFRocmVlIHN0YW5kYXJkIGVhc2luZyBmdW5jdGlvbnMgYXJlIHByb3ZpZGVkOlxuICpcbiAqIC0gW2BsaW5lYXJgXShkb2NzL2Vhc2luZy5odG1sI2xpbmVhcilcbiAqIC0gW2BxdWFkYF0oZG9jcy9lYXNpbmcuaHRtbCNxdWFkKVxuICogLSBbYGN1YmljYF0oZG9jcy9lYXNpbmcuaHRtbCNjdWJpYylcbiAqXG4gKiBUaGUgW2Bwb2x5YF0oZG9jcy9lYXNpbmcuaHRtbCNwb2x5KSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBpbXBsZW1lbnRcbiAqIHF1YXJ0aWMsIHF1aW50aWMsIGFuZCBvdGhlciBoaWdoZXIgcG93ZXIgZnVuY3Rpb25zLlxuICpcbiAqICMjIyBBZGRpdGlvbmFsIGZ1bmN0aW9uc1xuICpcbiAqIEFkZGl0aW9uYWwgbWF0aGVtYXRpY2FsIGZ1bmN0aW9ucyBhcmUgcHJvdmlkZWQgYnkgdGhlIGZvbGxvd2luZyBtZXRob2RzOlxuICpcbiAqIC0gW2BiZXppZXJgXShkb2NzL2Vhc2luZy5odG1sI2JlemllcikgcHJvdmlkZXMgYSBjdWJpYyBiZXppZXIgY3VydmVcbiAqIC0gW2BjaXJjbGVgXShkb2NzL2Vhc2luZy5odG1sI2NpcmNsZSkgcHJvdmlkZXMgYSBjaXJjdWxhciBmdW5jdGlvblxuICogLSBbYHNpbmBdKGRvY3MvZWFzaW5nLmh0bWwjc2luKSBwcm92aWRlcyBhIHNpbnVzb2lkYWwgZnVuY3Rpb25cbiAqIC0gW2BleHBgXShkb2NzL2Vhc2luZy5odG1sI2V4cCkgcHJvdmlkZXMgYW4gZXhwb25lbnRpYWwgZnVuY3Rpb25cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGhlbHBlcnMgYXJlIHVzZWQgdG8gbW9kaWZ5IG90aGVyIGVhc2luZyBmdW5jdGlvbnMuXG4gKlxuICogLSBbYGluYF0oZG9jcy9lYXNpbmcuaHRtbCNpbikgcnVucyBhbiBlYXNpbmcgZnVuY3Rpb24gZm9yd2FyZHNcbiAqIC0gW2Bpbk91dGBdKGRvY3MvZWFzaW5nLmh0bWwjaW5vdXQpIG1ha2VzIGFueSBlYXNpbmcgZnVuY3Rpb24gc3ltbWV0cmljYWxcbiAqIC0gW2BvdXRgXShkb2NzL2Vhc2luZy5odG1sI291dCkgcnVucyBhbiBlYXNpbmcgZnVuY3Rpb24gYmFja3dhcmRzXG4gKi9cblxuXG52YXIgRWFzaW5nID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRWFzaW5nKCkge31cblxuICAvKipcbiAgICogQSBzdGVwcGluZyBmdW5jdGlvbiwgcmV0dXJucyAxIGZvciBhbnkgcG9zaXRpdmUgdmFsdWUgb2YgYG5gLlxuICAgKi9cbiAgRWFzaW5nLnN0ZXAwID0gZnVuY3Rpb24gc3RlcDAobikge1xuICAgIHJldHVybiBuID4gMCA/IDEgOiAwO1xuICB9XG4gIC8qKlxuICAgKiBBIHN0ZXBwaW5nIGZ1bmN0aW9uLCByZXR1cm5zIDEgaWYgYG5gIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxLlxuICAgKi9cbiAgO1xuXG4gIEVhc2luZy5zdGVwMSA9IGZ1bmN0aW9uIHN0ZXAxKG4pIHtcbiAgICByZXR1cm4gbiA+PSAxID8gMSA6IDA7XG4gIH1cbiAgLyoqXG4gICAqIEEgbGluZWFyIGZ1bmN0aW9uLCBgZih0KSA9IHRgLiBQb3NpdGlvbiBjb3JyZWxhdGVzIHRvIGVsYXBzZWQgdGltZSBvbmUgdG9cbiAgICogb25lLlxuICAgKlxuICAgKiBodHRwOi8vY3ViaWMtYmV6aWVyLmNvbS8jMCwwLDEsMVxuICAgKi9cbiAgO1xuXG4gIEVhc2luZy5saW5lYXIgPSBmdW5jdGlvbiBsaW5lYXIodCkge1xuICAgIHJldHVybiB0O1xuICB9XG4gIC8qKlxuICAgKiBBIHNpbXBsZSBpbmVydGlhbCBpbnRlcmFjdGlvbiwgc2ltaWxhciB0byBhbiBvYmplY3Qgc2xvd2x5IGFjY2VsZXJhdGluZyB0b1xuICAgKiBzcGVlZC5cbiAgICpcbiAgICogaHR0cDovL2N1YmljLWJlemllci5jb20vIy40MiwwLDEsMVxuICAgKi9cbiAgO1xuXG4gIEVhc2luZy5lYXNlID0gZnVuY3Rpb24gZWFzZSh0KSB7XG4gICAgaWYgKCFfZWFzZSkge1xuICAgICAgX2Vhc2UgPSBFYXNpbmcuYmV6aWVyKDAuNDIsIDAsIDEsIDEpO1xuICAgIH1cblxuICAgIHJldHVybiBfZWFzZSh0KTtcbiAgfVxuICAvKipcbiAgICogQSBxdWFkcmF0aWMgZnVuY3Rpb24sIGBmKHQpID0gdCAqIHRgLiBQb3NpdGlvbiBlcXVhbHMgdGhlIHNxdWFyZSBvZiBlbGFwc2VkXG4gICAqIHRpbWUuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluUXVhZFxuICAgKi9cbiAgO1xuXG4gIEVhc2luZy5xdWFkID0gZnVuY3Rpb24gcXVhZCh0KSB7XG4gICAgcmV0dXJuIHQgKiB0O1xuICB9XG4gIC8qKlxuICAgKiBBIGN1YmljIGZ1bmN0aW9uLCBgZih0KSA9IHQgKiB0ICogdGAuIFBvc2l0aW9uIGVxdWFscyB0aGUgY3ViZSBvZiBlbGFwc2VkXG4gICAqIHRpbWUuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQ3ViaWNcbiAgICovXG4gIDtcblxuICBFYXNpbmcuY3ViaWMgPSBmdW5jdGlvbiBjdWJpYyh0KSB7XG4gICAgcmV0dXJuIHQgKiB0ICogdDtcbiAgfVxuICAvKipcbiAgICogQSBwb3dlciBmdW5jdGlvbi4gUG9zaXRpb24gaXMgZXF1YWwgdG8gdGhlIE50aCBwb3dlciBvZiBlbGFwc2VkIHRpbWUuXG4gICAqXG4gICAqIG4gPSA0OiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1YXJ0XG4gICAqIG4gPSA1OiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1aW50XG4gICAqL1xuICA7XG5cbiAgRWFzaW5nLnBvbHkgPSBmdW5jdGlvbiBwb2x5KG4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiBNYXRoLnBvdyh0LCBuKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBIHNpbnVzb2lkYWwgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluU2luZVxuICAgKi9cbiAgO1xuXG4gIEVhc2luZy5zaW4gPSBmdW5jdGlvbiBzaW4odCkge1xuICAgIHJldHVybiAxIC0gTWF0aC5jb3ModCAqIE1hdGguUEkgLyAyKTtcbiAgfVxuICAvKipcbiAgICogQSBjaXJjdWxhciBmdW5jdGlvbi5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5DaXJjXG4gICAqL1xuICA7XG5cbiAgRWFzaW5nLmNpcmNsZSA9IGZ1bmN0aW9uIGNpcmNsZSh0KSB7XG4gICAgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIHQgKiB0KTtcbiAgfVxuICAvKipcbiAgICogQW4gZXhwb25lbnRpYWwgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluRXhwb1xuICAgKi9cbiAgO1xuXG4gIEVhc2luZy5leHAgPSBmdW5jdGlvbiBleHAodCkge1xuICAgIHJldHVybiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpO1xuICB9XG4gIC8qKlxuICAgKiBBIHNpbXBsZSBlbGFzdGljIGludGVyYWN0aW9uLCBzaW1pbGFyIHRvIGEgc3ByaW5nIG9zY2lsbGF0aW5nIGJhY2sgYW5kXG4gICAqIGZvcnRoLlxuICAgKlxuICAgKiBEZWZhdWx0IGJvdW5jaW5lc3MgaXMgMSwgd2hpY2ggb3ZlcnNob290cyBhIGxpdHRsZSBiaXQgb25jZS4gMCBib3VuY2luZXNzXG4gICAqIGRvZXNuJ3Qgb3ZlcnNob290IGF0IGFsbCwgYW5kIGJvdW5jaW5lc3Mgb2YgTiA+IDEgd2lsbCBvdmVyc2hvb3QgYWJvdXQgTlxuICAgKiB0aW1lcy5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5FbGFzdGljXG4gICAqL1xuICA7XG5cbiAgRWFzaW5nLmVsYXN0aWMgPSBmdW5jdGlvbiBlbGFzdGljKGJvdW5jaW5lc3MpIHtcbiAgICBpZiAoYm91bmNpbmVzcyA9PT0gdm9pZCAwKSB7XG4gICAgICBib3VuY2luZXNzID0gMTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IGJvdW5jaW5lc3MgKiBNYXRoLlBJO1xuICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIDEgLSBNYXRoLnBvdyhNYXRoLmNvcyh0ICogTWF0aC5QSSAvIDIpLCAzKSAqIE1hdGguY29zKHQgKiBwKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBVc2Ugd2l0aCBgQW5pbWF0ZWQucGFyYWxsZWwoKWAgdG8gY3JlYXRlIGEgc2ltcGxlIGVmZmVjdCB3aGVyZSB0aGUgb2JqZWN0XG4gICAqIGFuaW1hdGVzIGJhY2sgc2xpZ2h0bHkgYXMgdGhlIGFuaW1hdGlvbiBzdGFydHMuXG4gICAqXG4gICAqIFdvbGZyYW0gUGxvdDpcbiAgICpcbiAgICogLSBodHRwOi8vdGlueS5jYy9iYWNrX2RlZmF1bHQgKHMgPSAxLjcwMTU4LCBkZWZhdWx0KVxuICAgKi9cbiAgO1xuXG4gIEVhc2luZy5iYWNrID0gZnVuY3Rpb24gYmFjayhzKSB7XG4gICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gdCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIHNpbXBsZSBib3VuY2luZyBlZmZlY3QuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQm91bmNlXG4gICAqL1xuICA7XG5cbiAgRWFzaW5nLmJvdW5jZSA9IGZ1bmN0aW9uIGJvdW5jZSh0KSB7XG4gICAgaWYgKHQgPCAxIC8gMi43NSkge1xuICAgICAgcmV0dXJuIDcuNTYyNSAqIHQgKiB0O1xuICAgIH1cblxuICAgIGlmICh0IDwgMiAvIDIuNzUpIHtcbiAgICAgIHZhciBfdCA9IHQgLSAxLjUgLyAyLjc1O1xuXG4gICAgICByZXR1cm4gNy41NjI1ICogX3QgKiBfdCArIDAuNzU7XG4gICAgfVxuXG4gICAgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgICB2YXIgX3QyID0gdCAtIDIuMjUgLyAyLjc1O1xuXG4gICAgICByZXR1cm4gNy41NjI1ICogX3QyICogX3QyICsgMC45Mzc1O1xuICAgIH1cblxuICAgIHZhciB0MiA9IHQgLSAyLjYyNSAvIDIuNzU7XG4gICAgcmV0dXJuIDcuNTYyNSAqIHQyICogdDIgKyAwLjk4NDM3NTtcbiAgfVxuICAvKipcbiAgICogUHJvdmlkZXMgYSBjdWJpYyBiZXppZXIgY3VydmUsIGVxdWl2YWxlbnQgdG8gQ1NTIFRyYW5zaXRpb25zJ1xuICAgKiBgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25gLlxuICAgKlxuICAgKiBBIHVzZWZ1bCB0b29sIHRvIHZpc3VhbGl6ZSBjdWJpYyBiZXppZXIgY3VydmVzIGNhbiBiZSBmb3VuZCBhdFxuICAgKiBodHRwOi8vY3ViaWMtYmV6aWVyLmNvbS9cbiAgICovXG4gIDtcblxuICBFYXNpbmcuYmV6aWVyID0gZnVuY3Rpb24gYmV6aWVyKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgcmV0dXJuICgwLCBfYmV6aWVyMi5kZWZhdWx0KSh4MSwgeTEsIHgyLCB5Mik7XG4gIH1cbiAgLyoqXG4gICAqIFJ1bnMgYW4gZWFzaW5nIGZ1bmN0aW9uIGZvcndhcmRzLlxuICAgKi9cbiAgO1xuXG4gIEVhc2luZy5pbiA9IGZ1bmN0aW9uIF9pbihlYXNpbmcpIHtcbiAgICByZXR1cm4gZWFzaW5nO1xuICB9XG4gIC8qKlxuICAgKiBSdW5zIGFuIGVhc2luZyBmdW5jdGlvbiBiYWNrd2FyZHMuXG4gICAqL1xuICA7XG5cbiAgRWFzaW5nLm91dCA9IGZ1bmN0aW9uIG91dChlYXNpbmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiAxIC0gZWFzaW5nKDEgLSB0KTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNYWtlcyBhbnkgZWFzaW5nIGZ1bmN0aW9uIHN5bW1ldHJpY2FsLiBUaGUgZWFzaW5nIGZ1bmN0aW9uIHdpbGwgcnVuXG4gICAqIGZvcndhcmRzIGZvciBoYWxmIG9mIHRoZSBkdXJhdGlvbiwgdGhlbiBiYWNrd2FyZHMgZm9yIHRoZSByZXN0IG9mIHRoZVxuICAgKiBkdXJhdGlvbi5cbiAgICovXG4gIDtcblxuICBFYXNpbmcuaW5PdXQgPSBmdW5jdGlvbiBpbk91dChlYXNpbmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICAgIGlmICh0IDwgMC41KSB7XG4gICAgICAgIHJldHVybiBlYXNpbmcodCAqIDIpIC8gMjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDEgLSBlYXNpbmcoKDEgLSB0KSAqIDIpIC8gMjtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiBFYXNpbmc7XG59KCk7XG5cbnZhciBfZGVmYXVsdCA9IEVhc2luZztcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il19