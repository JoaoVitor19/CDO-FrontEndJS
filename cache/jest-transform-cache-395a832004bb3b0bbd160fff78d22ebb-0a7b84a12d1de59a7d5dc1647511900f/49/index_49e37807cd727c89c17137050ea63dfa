0f56ce64503eac45000b623fdb049d51
"use strict";

exports.__esModule = true;
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _StyleSheet = _interopRequireDefault(require("../StyleSheet"));

var _View = _interopRequireDefault(require("../View"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var accessibilityValue = {
  max: 1,
  min: 0
};

var createSvgCircle = function createSvgCircle(style) {
  return React.createElement("circle", {
    cx: "16",
    cy: "16",
    fill: "none",
    r: "14",
    strokeWidth: "4",
    style: style
  });
};

var ActivityIndicator = React.forwardRef(function (props, forwardedRef) {
  var _props$animating = props.animating,
      animating = _props$animating === void 0 ? true : _props$animating,
      _props$color = props.color,
      color = _props$color === void 0 ? '#1976D2' : _props$color,
      _props$hidesWhenStopp = props.hidesWhenStopped,
      hidesWhenStopped = _props$hidesWhenStopp === void 0 ? true : _props$hidesWhenStopp,
      _props$size = props.size,
      size = _props$size === void 0 ? 'small' : _props$size,
      style = props.style,
      other = _objectWithoutPropertiesLoose(props, ["animating", "color", "hidesWhenStopped", "size", "style"]);

  var svg = React.createElement("svg", {
    height: "100%",
    viewBox: "0 0 32 32",
    width: "100%"
  }, createSvgCircle({
    stroke: color,
    opacity: 0.2
  }), createSvgCircle({
    stroke: color,
    strokeDasharray: 80,
    strokeDashoffset: 60
  }));
  return React.createElement(_View.default, _extends({}, other, {
    accessibilityRole: "progressbar",
    accessibilityValue: accessibilityValue,
    ref: forwardedRef,
    style: [styles.container, style]
  }), React.createElement(_View.default, {
    children: svg,
    style: [typeof size === 'number' ? {
      height: size,
      width: size
    } : indicatorSizes[size], styles.animation, !animating && styles.animationPause, !animating && hidesWhenStopped && styles.hidesWhenStopped]
  }));
});
ActivityIndicator.displayName = 'ActivityIndicator';

var styles = _StyleSheet.default.create({
  container: {
    alignItems: 'center',
    justifyContent: 'center'
  },
  hidesWhenStopped: {
    visibility: 'hidden'
  },
  animation: {
    animationDuration: '0.75s',
    animationKeyframes: [{
      '0%': {
        transform: [{
          rotate: '0deg'
        }]
      },
      '100%': {
        transform: [{
          rotate: '360deg'
        }]
      }
    }],
    animationTimingFunction: 'linear',
    animationIterationCount: 'infinite'
  },
  animationPause: {
    animationPlayState: 'paused'
  }
});

var indicatorSizes = _StyleSheet.default.create({
  small: {
    width: 20,
    height: 20
  },
  large: {
    width: 36,
    height: 36
  }
});

var _default = ActivityIndicator;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIlJlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwiX1N0eWxlU2hlZXQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX1ZpZXciLCJvYmoiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJXZWFrTWFwIiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJhcHBseSIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwiZXhjbHVkZWQiLCJzb3VyY2VLZXlzIiwia2V5cyIsImluZGV4T2YiLCJhY2Nlc3NpYmlsaXR5VmFsdWUiLCJtYXgiLCJtaW4iLCJjcmVhdGVTdmdDaXJjbGUiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJjeCIsImN5IiwiZmlsbCIsInIiLCJzdHJva2VXaWR0aCIsIkFjdGl2aXR5SW5kaWNhdG9yIiwiZm9yd2FyZFJlZiIsInByb3BzIiwiZm9yd2FyZGVkUmVmIiwiX3Byb3BzJGFuaW1hdGluZyIsImFuaW1hdGluZyIsIl9wcm9wcyRjb2xvciIsImNvbG9yIiwiX3Byb3BzJGhpZGVzV2hlblN0b3BwIiwiaGlkZXNXaGVuU3RvcHBlZCIsIl9wcm9wcyRzaXplIiwic2l6ZSIsIm90aGVyIiwic3ZnIiwiaGVpZ2h0Iiwidmlld0JveCIsIndpZHRoIiwic3Ryb2tlIiwib3BhY2l0eSIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZURhc2hvZmZzZXQiLCJhY2Nlc3NpYmlsaXR5Um9sZSIsInJlZiIsInN0eWxlcyIsImNvbnRhaW5lciIsImNoaWxkcmVuIiwiaW5kaWNhdG9yU2l6ZXMiLCJhbmltYXRpb24iLCJhbmltYXRpb25QYXVzZSIsImRpc3BsYXlOYW1lIiwiY3JlYXRlIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwidmlzaWJpbGl0eSIsImFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uS2V5ZnJhbWVzIiwidHJhbnNmb3JtIiwicm90YXRlIiwiYW5pbWF0aW9uVGltaW5nRnVuY3Rpb24iLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImFuaW1hdGlvblBsYXlTdGF0ZSIsInNtYWxsIiwibGFyZ2UiLCJfZGVmYXVsdCIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUFBLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFPLENBQUNFLE9BQVIsR0FBa0IsS0FBSyxDQUF2Qjs7QUFFQSxJQUFJQyxLQUFLLEdBQUdDLHVCQUF1QixDQUFDQyxPQUFPLENBQUMsT0FBRCxDQUFSLENBQW5DOztBQUVBLElBQUlDLFdBQVcsR0FBR0Msc0JBQXNCLENBQUNGLE9BQU8saUJBQVIsQ0FBeEM7O0FBRUEsSUFBSUcsS0FBSyxHQUFHRCxzQkFBc0IsQ0FBQ0YsT0FBTyxXQUFSLENBQWxDOztBQUVBLFNBQVNFLHNCQUFULENBQWdDRSxHQUFoQyxFQUFxQztBQUFFLFNBQU9BLEdBQUcsSUFBSUEsR0FBRyxDQUFDUixVQUFYLEdBQXdCUSxHQUF4QixHQUE4QjtBQUFFUCxJQUFBQSxPQUFPLEVBQUVPO0FBQVgsR0FBckM7QUFBd0Q7O0FBRS9GLFNBQVNDLHdCQUFULEdBQW9DO0FBQUUsTUFBSSxPQUFPQyxPQUFQLEtBQW1CLFVBQXZCLEVBQW1DLE9BQU8sSUFBUDtBQUFhLE1BQUlDLEtBQUssR0FBRyxJQUFJRCxPQUFKLEVBQVo7O0FBQTJCRCxFQUFBQSx3QkFBd0IsR0FBRyxTQUFTQSx3QkFBVCxHQUFvQztBQUFFLFdBQU9FLEtB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TyxJQUFBQSxpQkFBaUIsRUFBRSxPQURWO0FBRVRDLElBQUFBLGtCQUFrQixFQUFFLENBQUM7QUFDbkIsWUFBTTtBQUNKQyxRQUFBQSxTQUFTLEVBQUUsQ0FBQztBQUNWQyxVQUFBQSxNQUFNLEVBQUU7QUFERSxTQUFEO0FBRFAsT0FEYTtBQU1uQixjQUFRO0FBQ05ELFFBQUFBLFNBQVMsRUFBRSxDQUFDO0FBQ1ZDLFVBQUFBLE1BQU0sRUFBRTtBQURFLFNBQUQ7QUFETDtBQU5XLEtBQUQsQ0FGWDtBQWNUQyxJQUFBQSx1QkFBdUIsRUFBRSxRQWRoQjtBQWVUQyxJQUFBQSx1QkFBdUIsRUFBRTtBQWZoQixHQVIyQjtBQXlCdENYLEVBQUFBLGNBQWMsRUFBRTtBQUNkWSxJQUFBQSxrQkFBa0IsRUFBRTtBQUROO0FBekJzQixDQUEzQixDQUFiOztBQThCQSxJQUFJZCxjQUFjLEdBQUd0RSxXQUFXLENBQUNKLE9BQVosQ0FBb0I4RSxNQUFwQixDQUEyQjtBQUM5Q1csRUFBQUEsS0FBSyxFQUFFO0FBQ0x6QixJQUFBQSxLQUFLLEVBQUUsRUFERjtBQUVMRixJQUFBQSxNQUFNLEVBQUU7QUFGSCxHQUR1QztBQUs5QzRCLEVBQUFBLEtBQUssRUFBRTtBQUNMMUIsSUFBQUEsS0FBSyxFQUFFLEVBREY7QUFFTEYsSUFBQUEsTUFBTSxFQUFFO0FBRkg7QUFMdUMsQ0FBM0IsQ0FBckI7O0FBV0EsSUFBSTZCLFFBQVEsR0FBRzNDLGlCQUFmO0FBQ0FsRCxPQUFPLENBQUNFLE9BQVIsR0FBa0IyRixRQUFsQjtBQUNBQyxNQUFNLENBQUM5RixPQUFQLEdBQWlCQSxPQUFPLENBQUNFLE9BQXpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfU3R5bGVTaGVldCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1N0eWxlU2hlZXRcIikpO1xuXG52YXIgX1ZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9WaWV3XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyBpZiAodHlwZW9mIFdlYWtNYXAgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG51bGw7IHZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgcmV0dXJuIGNhY2hlOyB9OyByZXR1cm4gY2FjaGU7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gXCJmdW5jdGlvblwiKSB7IHJldHVybiB7IGRlZmF1bHQ6IG9iaiB9OyB9IHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIGFjY2Vzc2liaWxpdHlWYWx1ZSA9IHtcbiAgbWF4OiAxLFxuICBtaW46IDBcbn07XG5cbnZhciBjcmVhdGVTdmdDaXJjbGUgPSBmdW5jdGlvbiBjcmVhdGVTdmdDaXJjbGUoc3R5bGUpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIHtcbiAgICBjeDogXCIxNlwiLFxuICAgIGN5OiBcIjE2XCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgcjogXCIxNFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjRcIixcbiAgICBzdHlsZTogc3R5bGVcbiAgfSk7XG59O1xuXG52YXIgQWN0aXZpdHlJbmRpY2F0b3IgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICB2YXIgX3Byb3BzJGFuaW1hdGluZyA9IHByb3BzLmFuaW1hdGluZyxcbiAgICAgIGFuaW1hdGluZyA9IF9wcm9wcyRhbmltYXRpbmcgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkYW5pbWF0aW5nLFxuICAgICAgX3Byb3BzJGNvbG9yID0gcHJvcHMuY29sb3IsXG4gICAgICBjb2xvciA9IF9wcm9wcyRjb2xvciA9PT0gdm9pZCAwID8gJyMxOTc2RDInIDogX3Byb3BzJGNvbG9yLFxuICAgICAgX3Byb3BzJGhpZGVzV2hlblN0b3BwID0gcHJvcHMuaGlkZXNXaGVuU3RvcHBlZCxcbiAgICAgIGhpZGVzV2hlblN0b3BwZWQgPSBfcHJvcHMkaGlkZXNXaGVuU3RvcHAgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkaGlkZXNXaGVuU3RvcHAsXG4gICAgICBfcHJvcHMkc2l6ZSA9IHByb3BzLnNpemUsXG4gICAgICBzaXplID0gX3Byb3BzJHNpemUgPT09IHZvaWQgMCA/ICdzbWFsbCcgOiBfcHJvcHMkc2l6ZSxcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICBvdGhlciA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBbXCJhbmltYXRpbmdcIiwgXCJjb2xvclwiLCBcImhpZGVzV2hlblN0b3BwZWRcIiwgXCJzaXplXCIsIFwic3R5bGVcIl0pO1xuXG4gIHZhciBzdmcgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAzMiAzMlwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIlxuICB9LCBjcmVhdGVTdmdDaXJjbGUoe1xuICAgIHN0cm9rZTogY29sb3IsXG4gICAgb3BhY2l0eTogMC4yXG4gIH0pLCBjcmVhdGVTdmdDaXJjbGUoe1xuICAgIHN0cm9rZTogY29sb3IsXG4gICAgc3Ryb2tlRGFzaGFycmF5OiA4MCxcbiAgICBzdHJva2VEYXNob2Zmc2V0OiA2MFxuICB9KSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgb3RoZXIsIHtcbiAgICBhY2Nlc3NpYmlsaXR5Um9sZTogXCJwcm9ncmVzc2JhclwiLFxuICAgIGFjY2Vzc2liaWxpdHlWYWx1ZTogYWNjZXNzaWJpbGl0eVZhbHVlLFxuICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgIHN0eWxlOiBbc3R5bGVzLmNvbnRhaW5lciwgc3R5bGVdXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgY2hpbGRyZW46IHN2ZyxcbiAgICBzdHlsZTogW3R5cGVvZiBzaXplID09PSAnbnVtYmVyJyA/IHtcbiAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgIHdpZHRoOiBzaXplXG4gICAgfSA6IGluZGljYXRvclNpemVzW3NpemVdLCBzdHlsZXMuYW5pbWF0aW9uLCAhYW5pbWF0aW5nICYmIHN0eWxlcy5hbmltYXRpb25QYXVzZSwgIWFuaW1hdGluZyAmJiBoaWRlc1doZW5TdG9wcGVkICYmIHN0eWxlcy5oaWRlc1doZW5TdG9wcGVkXVxuICB9KSk7XG59KTtcbkFjdGl2aXR5SW5kaWNhdG9yLmRpc3BsYXlOYW1lID0gJ0FjdGl2aXR5SW5kaWNhdG9yJztcblxudmFyIHN0eWxlcyA9IF9TdHlsZVNoZWV0LmRlZmF1bHQuY3JlYXRlKHtcbiAgY29udGFpbmVyOiB7XG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gIH0sXG4gIGhpZGVzV2hlblN0b3BwZWQ6IHtcbiAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuICB9LFxuICBhbmltYXRpb246IHtcbiAgICBhbmltYXRpb25EdXJhdGlvbjogJzAuNzVzJyxcbiAgICBhbmltYXRpb25LZXlmcmFtZXM6IFt7XG4gICAgICAnMCUnOiB7XG4gICAgICAgIHRyYW5zZm9ybTogW3tcbiAgICAgICAgICByb3RhdGU6ICcwZGVnJ1xuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgICcxMDAlJzoge1xuICAgICAgICB0cmFuc2Zvcm06IFt7XG4gICAgICAgICAgcm90YXRlOiAnMzYwZGVnJ1xuICAgICAgICB9XVxuICAgICAgfVxuICAgIH1dLFxuICAgIGFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uOiAnbGluZWFyJyxcbiAgICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogJ2luZmluaXRlJ1xuICB9LFxuICBhbmltYXRpb25QYXVzZToge1xuICAgIGFuaW1hdGlvblBsYXlTdGF0ZTogJ3BhdXNlZCdcbiAgfVxufSk7XG5cbnZhciBpbmRpY2F0b3JTaXplcyA9IF9TdHlsZVNoZWV0LmRlZmF1bHQuY3JlYXRlKHtcbiAgc21hbGw6IHtcbiAgICB3aWR0aDogMjAsXG4gICAgaGVpZ2h0OiAyMFxuICB9LFxuICBsYXJnZToge1xuICAgIHdpZHRoOiAzNixcbiAgICBoZWlnaHQ6IDM2XG4gIH1cbn0pO1xuXG52YXIgX2RlZmF1bHQgPSBBY3Rpdml0eUluZGljYXRvcjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il19