09d69ace14934a1fc988d47f5d0fc7a0
'use strict';

exports.__esModule = true;
exports.default = void 0;
var DELAY = 'DELAY';
var ERROR = 'ERROR';
var LONG_PRESS_DETECTED = 'LONG_PRESS_DETECTED';
var NOT_RESPONDER = 'NOT_RESPONDER';
var RESPONDER_ACTIVE_LONG_PRESS_START = 'RESPONDER_ACTIVE_LONG_PRESS_START';
var RESPONDER_ACTIVE_PRESS_START = 'RESPONDER_ACTIVE_PRESS_START';
var RESPONDER_INACTIVE_PRESS_START = 'RESPONDER_INACTIVE_PRESS_START';
var RESPONDER_GRANT = 'RESPONDER_GRANT';
var RESPONDER_RELEASE = 'RESPONDER_RELEASE';
var RESPONDER_TERMINATED = 'RESPONDER_TERMINATED';
var Transitions = Object.freeze({
  NOT_RESPONDER: {
    DELAY: ERROR,
    RESPONDER_GRANT: RESPONDER_INACTIVE_PRESS_START,
    RESPONDER_RELEASE: ERROR,
    RESPONDER_TERMINATED: ERROR,
    LONG_PRESS_DETECTED: ERROR
  },
  RESPONDER_INACTIVE_PRESS_START: {
    DELAY: RESPONDER_ACTIVE_PRESS_START,
    RESPONDER_GRANT: ERROR,
    RESPONDER_RELEASE: NOT_RESPONDER,
    RESPONDER_TERMINATED: NOT_RESPONDER,
    LONG_PRESS_DETECTED: ERROR
  },
  RESPONDER_ACTIVE_PRESS_START: {
    DELAY: ERROR,
    RESPONDER_GRANT: ERROR,
    RESPONDER_RELEASE: NOT_RESPONDER,
    RESPONDER_TERMINATED: NOT_RESPONDER,
    LONG_PRESS_DETECTED: RESPONDER_ACTIVE_LONG_PRESS_START
  },
  RESPONDER_ACTIVE_LONG_PRESS_START: {
    DELAY: ERROR,
    RESPONDER_GRANT: ERROR,
    RESPONDER_RELEASE: NOT_RESPONDER,
    RESPONDER_TERMINATED: NOT_RESPONDER,
    LONG_PRESS_DETECTED: RESPONDER_ACTIVE_LONG_PRESS_START
  },
  ERROR: {
    DELAY: NOT_RESPONDER,
    RESPONDER_GRANT: RESPONDER_INACTIVE_PRESS_START,
    RESPONDER_RELEASE: NOT_RESPONDER,
    RESPONDER_TERMINATED: NOT_RESPONDER,
    LONG_PRESS_DETECTED: NOT_RESPONDER
  }
});

var isActiveSignal = function isActiveSignal(signal) {
  return signal === RESPONDER_ACTIVE_PRESS_START || signal === RESPONDER_ACTIVE_LONG_PRESS_START;
};

var isButtonRole = function isButtonRole(element) {
  return element.getAttribute('role') === 'button';
};

var isPressStartSignal = function isPressStartSignal(signal) {
  return signal === RESPONDER_INACTIVE_PRESS_START || signal === RESPONDER_ACTIVE_PRESS_START || signal === RESPONDER_ACTIVE_LONG_PRESS_START;
};

var isTerminalSignal = function isTerminalSignal(signal) {
  return signal === RESPONDER_TERMINATED || signal === RESPONDER_RELEASE;
};

var isValidKeyPress = function isValidKeyPress(event) {
  var key = event.key,
      target = event.target;
  var role = target.getAttribute('role');
  var isSpacebar = key === ' ' || key === 'Spacebar';
  return key === 'Enter' || isSpacebar && role === 'button';
};

var DEFAULT_LONG_PRESS_DELAY_MS = 450;
var DEFAULT_PRESS_DELAY_MS = 50;

var PressResponder = function () {
  function PressResponder(config) {
    this._eventHandlers = null;
    this._isPointerTouch = false;
    this._longPressDelayTimeout = null;
    this._longPressDispatched = false;
    this._pressDelayTimeout = null;
    this._pressOutDelayTimeout = null;
    this._touchState = NOT_RESPONDER;
    this.configure(config);
  }

  var _proto = PressResponder.prototype;

  _proto.configure = function configure(config) {
    this._config = config;
  };

  _proto.reset = function reset() {
    this._cancelLongPressDelayTimeout();

    this._cancelPressDelayTimeout();

    this._cancelPressOutDelayTimeout();
  };

  _proto.getEventHandlers = function getEventHandlers() {
    if (this._eventHandlers == null) {
      this._eventHandlers = this._createEventHandlers();
    }

    return this._eventHandlers;
  };

  _proto._createEventHandlers = function _createEventHandlers() {
    var _this = this;

    var start = function start(event, shouldDelay) {
      event.persist();

      _this._cancelPressOutDelayTimeout();

      _this._longPressDispatched = false;
      _this._selectionTerminated = false;
      _this._touchState = NOT_RESPONDER;
      _this._isPointerTouch = event.nativeEvent.type === 'touchstart';

      _this._receiveSignal(RESPONDER_GRANT, event);

      var delayPressStart = normalizeDelay(_this._config.delayPressStart, 0, DEFAULT_PRESS_DELAY_MS);

      if (shouldDelay !== false && delayPressStart > 0) {
        _this._pressDelayTimeout = setTimeout(function () {
          _this._receiveSignal(DELAY, event);
        }, delayPressStart);
      } else {
        _this._receiveSignal(DELAY, event);
      }

      var delayLongPress = normalizeDelay(_this._config.delayLongPress, 10, DEFAULT_LONG_PRESS_DELAY_MS);
      _this._longPressDelayTimeout = setTimeout(function () {
        _this._handleLongPress(event);
      }, delayLongPress + delayPressStart);
    };

    var end = function end(event) {
      _this._receiveSignal(RESPONDER_RELEASE, event);
    };

    var keyupHandler = function keyupHandler(event) {
      var onPress = _this._config.onPress;
      var target = event.target;

      if (_this._touchState !== NOT_RESPONDER && isValidKeyPress(event)) {
        end(event);
        document.removeEventListener('keyup', keyupHandler);
        var role = target.getAttribute('role');
        var elementType = target.tagName.toLowerCase();
        var isNativeInteractiveElement = role === 'link' || elementType === 'a' || elementType === 'button' || elementType === 'input' || elementType === 'select' || elementType === 'textarea';

        if (onPress != null && !isNativeInteractiveElement) {
          onPress(event);
        }
      }
    };

    return {
      onStartShouldSetResponder: function onStartShouldSetResponder(event) {
        var disabled = _this._config.disabled;

        if (disabled && isButtonRole(event.currentTarget)) {
          event.stopPropagation();
        }

        if (disabled == null) {
          return true;
        }

        return !disabled;
      },
      onKeyDown: function onKeyDown(event) {
        var disabled = _this._config.disabled;
        var key = event.key,
            target = event.target;

        if (!disabled && isValidKeyPress(event)) {
          if (_this._touchState === NOT_RESPONDER) {
            start(event, false);
            document.addEventListener('keyup', keyupHandler);
          }

          var role = target.getAttribute('role');
          var isSpacebarKey = key === ' ' || key === 'Spacebar';

          var _isButtonRole = role === 'button' || role === 'menuitem';

          if (isSpacebarKey && _isButtonRole) {
            event.preventDefault();
          }

          event.stopPropagation();
        }
      },
      onResponderGrant: function onResponderGrant(event) {
        return start(event);
      },
      onResponderMove: function onResponderMove(event) {
        if (_this._config.onPressMove != null) {
          _this._config.onPressMove(event);
        }

        var touch = getTouchFromResponderEvent(event);

        if (_this._touchActivatePosition != null) {
          var deltaX = _this._touchActivatePosition.pageX - touch.pageX;
          var deltaY = _this._touchActivatePosition.pageY - touch.pageY;

          if (Math.hypot(deltaX, deltaY) > 10) {
            _this._cancelLongPressDelayTimeout();
          }
        }
      },
      onResponderRelease: function onResponderRelease(event) {
        return end(event);
      },
      onResponderTerminate: function onResponderTerminate(event) {
        if (event.nativeEvent.type === 'selectionchange') {
          _this._selectionTerminated = true;
        }

        _this._receiveSignal(RESPONDER_TERMINATED, event);
      },
      onResponderTerminationRequest: function onResponderTerminationRequest(event) {
        var _this$_config = _this._config,
            cancelable = _this$_config.cancelable,
            disabled = _this$_config.disabled,
            onLongPress = _this$_config.onLongPress;

        if (!disabled && onLongPress != null && _this._isPointerTouch && event.nativeEvent.type === 'contextmenu') {
          return false;
        }

        if (cancelable == null) {
          return true;
        }

        return cancelable;
      },
      onClick: function onClick(event) {
        var _this$_config2 = _this._config,
            disabled = _this$_config2.disabled,
            onPress = _this$_config2.onPress;

        if (!disabled) {
          event.stopPropagation();

          if (_this._longPressDispatched || _this._selectionTerminated) {
            event.preventDefault();
          } else if (onPress != null && event.altKey === false) {
            onPress(event);
          }
        } else {
          if (isButtonRole(event.currentTarget)) {
            event.stopPropagation();
          }
        }
      },
      onContextMenu: function onContextMenu(event) {
        var _this$_config3 = _this._config,
            disabled = _this$_config3.disabled,
            onLongPress = _this$_config3.onLongPress;

        if (!disabled) {
          if (onLongPress != null && _this._isPointerTouch && !event.defaultPrevented) {
            event.preventDefault();
            event.stopPropagation();
          }
        } else {
          if (isButtonRole(event.currentTarget)) {
            event.stopPropagation();
          }
        }
      }
    };
  };

  _proto._receiveSignal = function _receiveSignal(signal, event) {
    var prevState = this._touchState;
    var nextState = null;

    if (Transitions[prevState] != null) {
      nextState = Transitions[prevState][signal];
    }

    if (this._touchState === NOT_RESPONDER && signal === RESPONDER_RELEASE) {
      return;
    }

    if (nextState == null || nextState === ERROR) {
      console.error("PressResponder: Invalid signal " + signal + " for state " + prevState + " on responder");
    } else if (prevState !== nextState) {
      this._performTransitionSideEffects(prevState, nextState, signal, event);

      this._touchState = nextState;
    }
  };

  _proto._performTransitionSideEffects = function _performTransitionSideEffects(prevState, nextState, signal, event) {
    if (isTerminalSignal(signal)) {
      this._isPointerTouch = false;
      this._touchActivatePosition = null;

      this._cancelLongPressDelayTimeout();
    }

    if (isPressStartSignal(prevState) && signal === LONG_PRESS_DETECTED) {
      var onLongPress = this._config.onLongPress;

      if (onLongPress != null && event.nativeEvent.key == null) {
        onLongPress(event);
        this._longPressDispatched = true;
      }
    }

    var isPrevActive = isActiveSignal(prevState);
    var isNextActive = isActiveSignal(nextState);

    if (!isPrevActive && isNextActive) {
      this._activate(event);
    } else if (isPrevActive && !isNextActive) {
      this._deactivate(event);
    }

    if (isPressStartSignal(prevState) && signal === RESPONDER_RELEASE) {
      var _this$_config4 = this._config,
          _onLongPress = _this$_config4.onLongPress,
          onPress = _this$_config4.onPress;

      if (onPress != null) {
        var isPressCanceledByLongPress = _onLongPress != null && prevState === RESPONDER_ACTIVE_LONG_PRESS_START;

        if (!isPressCanceledByLongPress) {
          if (!isNextActive && !isPrevActive) {
            this._activate(event);

            this._deactivate(event);
          }
        }
      }
    }

    this._cancelPressDelayTimeout();
  };

  _proto._activate = function _activate(event) {
    var _this$_config5 = this._config,
        onPressChange = _this$_config5.onPressChange,
        onPressStart = _this$_config5.onPressStart;
    var touch = getTouchFromResponderEvent(event);
    this._touchActivatePosition = {
      pageX: touch.pageX,
      pageY: touch.pageY
    };

    if (onPressStart != null) {
      onPressStart(event);
    }

    if (onPressChange != null) {
      onPressChange(true);
    }
  };

  _proto._deactivate = function _deactivate(event) {
    var _this$_config6 = this._config,
        onPressChange = _this$_config6.onPressChange,
        onPressEnd = _this$_config6.onPressEnd;

    function end() {
      if (onPressEnd != null) {
        onPressEnd(event);
      }

      if (onPressChange != null) {
        onPressChange(false);
      }
    }

    var delayPressEnd = normalizeDelay(this._config.delayPressEnd);

    if (delayPressEnd > 0) {
      this._pressOutDelayTimeout = setTimeout(function () {
        end();
      }, delayPressEnd);
    } else {
      end();
    }
  };

  _proto._handleLongPress = function _handleLongPress(event) {
    if (this._touchState === RESPONDER_ACTIVE_PRESS_START || this._touchState === RESPONDER_ACTIVE_LONG_PRESS_START) {
      this._receiveSignal(LONG_PRESS_DETECTED, event);
    }
  };

  _proto._cancelLongPressDelayTimeout = function _cancelLongPressDelayTimeout() {
    if (this._longPressDelayTimeout != null) {
      clearTimeout(this._longPressDelayTimeout);
      this._longPressDelayTimeout = null;
    }
  };

  _proto._cancelPressDelayTimeout = function _cancelPressDelayTimeout() {
    if (this._pressDelayTimeout != null) {
      clearTimeout(this._pressDelayTimeout);
      this._pressDelayTimeout = null;
    }
  };

  _proto._cancelPressOutDelayTimeout = function _cancelPressOutDelayTimeout() {
    if (this._pressOutDelayTimeout != null) {
      clearTimeout(this._pressOutDelayTimeout);
      this._pressOutDelayTimeout = null;
    }
  };

  return PressResponder;
}();

exports.default = PressResponder;

function normalizeDelay(delay, min, fallback) {
  if (min === void 0) {
    min = 0;
  }

  if (fallback === void 0) {
    fallback = 0;
  }

  return Math.max(min, delay !== null && delay !== void 0 ? delay : fallback);
}

function getTouchFromResponderEvent(event) {
  var _event$nativeEvent = event.nativeEvent,
      changedTouches = _event$nativeEvent.changedTouches,
      touches = _event$nativeEvent.touches;

  if (touches != null && touches.length > 0) {
    return touches[0];
  }

  if (changedTouches != null && changedTouches.length > 0) {
    return changedTouches[0];
  }

  return event.nativeEvent;
}

module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByZXNzUmVzcG9uZGVyLmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkRFTEFZIiwiRVJST1IiLCJMT05HX1BSRVNTX0RFVEVDVEVEIiwiTk9UX1JFU1BPTkRFUiIsIlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19TVEFSVCIsIlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfU1RBUlQiLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfU1RBUlQiLCJSRVNQT05ERVJfR1JBTlQiLCJSRVNQT05ERVJfUkVMRUFTRSIsIlJFU1BPTkRFUl9URVJNSU5BVEVEIiwiVHJhbnNpdGlvbnMiLCJPYmplY3QiLCJmcmVlemUiLCJpc0FjdGl2ZVNpZ25hbCIsInNpZ25hbCIsImlzQnV0dG9uUm9sZSIsImVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJpc1ByZXNzU3RhcnRTaWduYWwiLCJpc1Rlcm1pbmFsU2lnbmFsIiwiaXNWYWxpZEtleVByZXNzIiwiZXZlbnQiLCJrZXkiLCJ0YXJnZXQiLCJyb2xlIiwiaXNTcGFjZWJhciIsIkRFRkFVTFRfTE9OR19QUkVTU19ERUxBWV9NUyIsIkRFRkFVTFRfUFJFU1NfREVMQVlfTVMiLCJQcmVzc1Jlc3BvbmRlciIsImNvbmZpZyIsIl9ldmVudEhhbmRsZXJzIiwiX2lzUG9pbnRlclRvdWNoIiwiX2xvbmdQcmVzc0RlbGF5VGltZW91dCIsIl9sb25nUHJlc3NEaXNwYXRjaGVkIiwiX3ByZXNzRGVsYXlUaW1lb3V0IiwiX3ByZXNzT3V0RGVsYXlUaW1lb3V0IiwiX3RvdWNoU3RhdGUiLCJjb25maWd1cmUiLCJfcHJvdG8iLCJwcm90b3R5cGUiLCJfY29uZmlnIiwicmVzZXQiLCJfY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0IiwiX2NhbmNlbFByZXNzRGVsYXlUaW1lb3V0IiwiX2NhbmNlbFByZXNzT3V0RGVsYXlUaW1lb3V0IiwiZ2V0RXZlbnRIYW5kbGVycyIsIl9jcmVhdGVFdmVudEhhbmRsZXJzIiwiX3RoaXMiLCJzdGFydCIsInNob3VsZERlbGF5IiwicGVyc2lzdCIsIl9zZWxlY3Rpb25UZXJtaW5hdGVkIiwibmF0aXZlRXZlbnQiLCJ0eXBlIiwiX3JlY2VpdmVTaWduYWwiLCJkZWxheVByZXNzU3RhcnQiLCJub3JtYWxpemVEZWxheSIsInNldFRpbWVvdXQiLCJkZWxheUxvbmdQcmVzcyIsIl9oYW5kbGVMb25nUHJlc3MiLCJlbmQiLCJrZXl1cEhhbmRsZXIiLCJvblByZXNzIiwiZG9jdW1lbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZWxlbWVudFR5cGUiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJpc05hdGl2ZUludGVyYWN0aXZlRWxlbWVudCIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJkaXNhYmxlZCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJvbktleURvd24iLCJhZGRFdmVudExpc3RlbmVyIiwiaXNTcGFjZWJhcktleSIsIl9pc0J1dHRvblJvbGUiLCJwcmV2ZW50RGVmYXVsdCIsIm9uUmVzcG9uZGVyR3JhbnQiLCJvblJlc3BvbmRlck1vdmUiLCJvblByZXNzTW92ZSIsInRvdWNoIiwiZ2V0VG91Y2hGcm9tUmVzcG9uZGVyRXZlbnQiLCJfdG91Y2hBY3RpdmF0ZVBvc2l0aW9uIiwiZGVsdGFYIiwicGFnZVgiLCJkZWx0YVkiLCJwYWdlWSIsIk1hdGgiLCJoeXBvdCIsIm9uUmVzcG9uZGVyUmVsZWFzZSIsIm9uUmVzcG9uZGVyVGVybWluYXRlIiwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJfdGhpcyRfY29uZmlnIiwiY2FuY2VsYWJsZSIsIm9uTG9uZ1ByZXNzIiwib25DbGljayIsIl90aGlzJF9jb25maWcyIiwiYWx0S2V5Iiwib25Db250ZXh0TWVudSIsIl90aGlzJF9jb25maWczIiwiZGVmYXVsdFByZXZlbnRlZCIsInByZXZTdGF0ZSIsIm5leHRTdGF0ZSIsImNvbnNvbGUiLCJlcnJvciIsIl9wZXJmb3JtVHJhbnNpdGlvblNpZGVFZmZlY3RzIiwiaXNQcmV2QWN0aXZlIiwiaXNOZXh0QWN0aXZlIiwiX2FjdGl2YXRlIiwiX2RlYWN0aXZhdGUiLCJfdGhpcyRfY29uZmlnNCIsIl9vbkxvbmdQcmVzcyIsImlzUHJlc3NDYW5jZWxlZEJ5TG9uZ1ByZXNzIiwiX3RoaXMkX2NvbmZpZzUiLCJvblByZXNzQ2hhbmdlIiwib25QcmVzc1N0YXJ0IiwiX3RoaXMkX2NvbmZpZzYiLCJvblByZXNzRW5kIiwiZGVsYXlQcmVzc0VuZCIsImNsZWFyVGltZW91dCIsImRlbGF5IiwibWluIiwiZmFsbGJhY2siLCJtYXgiLCJfZXZlbnQkbmF0aXZlRXZlbnQiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoZXMiLCJsZW5ndGgiLCJtb2R1bGUiXSwibWFwcGluZ3MiOiJBQVNBOztBQUVBQSxPQUFPLENBQUNDLFVBQVIsR0FBcUIsSUFBckI7QUFDQUQsT0FBTyxDQUFDRSxPQUFSLEdBQWtCLEtBQUssQ0FBdkI7QUFDQSxJQUFJQyxLQUFLLEdBQUcsT0FBWjtBQUNBLElBQUlDLEtBQUssR0FBRyxPQUFaO0FBQ0EsSUFBSUMsbUJBQW1CLEdBQUcscUJBQTFCO0FBQ0EsSUFBSUMsYUFBYSxHQUFHLGVBQXBCO0FBQ0EsSUFBSUMsaUNBQWlDLEdBQUcsbUNBQXhDO0FBQ0EsSUFBSUMsNEJBQTRCLEdBQUcsOEJBQW5DO0FBQ0EsSUFBSUMsOEJBQThCLEdBQUcsZ0NBQXJDO0FBQ0EsSUFBSUMsZUFBZSxHQUFHLGlCQUF0QjtBQUNBLElBQUlDLGlCQUFpQixHQUFHLG1CQUF4QjtBQUNBLElBQUlDLG9CQUFvQixHQUFHLHNCQUEzQjtBQUNBLElBQUlDLFdBQVcsR0FBR0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDOUJULEVBQUFBLGFBQWEsRUFBRTtBQUNiSCxJQUFBQSxLQUFLLEVBQUVDLEtBRE07QUFFYk0sSUFBQUEsZUFBZSxFQUFFRCw4QkFGSjtBQUdiRSxJQUFBQSxpQkFBaUIsRUFBRVAsS0FITjtBQUliUSxJQUFBQSxvQkFBb0IsRUFBRVIsS0FKVDtBQUtiQyxJQUFBQSxtQkFBbUIsRUFBRUQ7QUFMUixHQURlO0FBUTlCSyxFQUFBQSw4QkFBOEIsRUFBRTtBQUM5Qk4sSUFBQUEsS0FBSyxFQUFFSyw0QkFEdUI7QUFFOUJFLElBQUFBLGVBQWUsRUFBRU4sS0FGYTtBQUc5Qk8sSUFBQUEsaUJBQWlCLEVBQUVMLGFBSFc7QUFJOUJNLElBQUFBLG9CQUFvQixFQUFFTixhQUpRO0FBSzlCRCxJQUFBQSxtQkFBbUIsRUFBRUQ7QUFMUyxHQVJGO0FBZTlCSSxFQUFBQSw0QkFBNEIsRUFBRTtBQUM1QkwsSUFBQUEsS0FBSyxFQUFFQyxLQURxQjtBQUU1Qk0sSUFBQUEsZUFBZSxFQUFFTixLQUZXO0FBRzVCTyxJQUFBQSxpQkFBaUIsRUFBRUwsYUFIUztBQUk1Qk0sSUFBQUEsb0JBQW9CLEVBQUVOLGFBSk07QUFLNUJELElBQUFBLG1CQUFtQixFQUFFRTtBQUxPLEdBZkE7QUFzQjlCQSxFQUFBQSxpQ0FBaUMsRUFBRTtBQUNqQ0osSUFBQUEsS0FBSyxFQUFFQyxLQUQwQjtBQUVqQ00sSUFBQUEsZUFBZSxFQUFFTixLQUZnQjtBQUdqQ08sSUFBQUEsaUJBQWlCLEVBQUVMLGFBSGM7QUFJakNNLElBQUFBLG9CQUFvQixFQUFFTixhQUpXO0FBS2pDRCxJQUFBQSxtQkFBbUIsRUFBRUU7QUFMWSxHQXRCTDtBQTZCOUJILEVBQUFBLEtBQUssRUFBRTtBQUNMRCxJQUFBQSxLQUFLLEVBQUVHLGFBREY7QUFFTEksSUFBQUEsZUFBZSxFQUFFRCw4QkFGWjtBQUdMRSxJQUFBQSxpQkFBaUIsRUFBRUwsYUFIZDtBQUlMTSxJQUFBQSxvQkFBb0IsRUFBRU4sYUFKakI7QUFLTEQsSUFBQUEsbUJBQW1CLEVBQUVDO0FBTGhCO0FBN0J1QixDQUFkLENBQWxCOztBQXNDQSxJQUFJVSxjQUFjLEdBQUcsU0FBU0EsY0FBVCxDQUF3QkMsTUFBeEIsRUFBZ0M7QUFDbkQsU0FBT0EsTUFBTSxLQUFLVCw0QkFBWCxJQUEyQ1MsTUFBTSxLQUFLVixpQ0FBN0Q7QUFDRCxDQUZEOztBQUlBLElBQUlXLFlBQVksR0FBRyxTQUFTQSxZQUFULENBQXNCQyxPQUF0QixFQUErQjtBQUNoRCxTQUFPQSxPQUFPLENBQUNDLFlBQVIsQ0FBcUIsTUFBckIsTUFBaUMsUUFBeEM7QUFDRCxDQUZEOztBQUlBLElBQUlDLGtCQUFrQixHQUFHLFNBQVNBLGtCQUFULENBQTRCSixNQUE1QixFQUFvQztBQUMzRCxTQUFPQSxNQUFNLEtBQUtSLDhCQUFYLElBQTZDUSxNQUFNLEtBQUtULDRCQUF4RCxJQUF3RlMsTUFBTSxLQUFLVixpQ0FBMUc7QUFDRCxDQUZEOztBQUlBLElBQUllLGdCQUFnQixHQUFHLFNBQVNBLGdCQUFULENBQTBCTCxNQUExQixFQUFrQztBQUN2RCxTQUFPQSxNQUFNLEtBQUtMLG9CQUFYLElBQW1DSyxNQUFNLEtBQUtOLGlCQUFyRDtBQUNELENBRkQ7O0FBSUEsSUFBSVksZUFBZSxHQUFHLFNBQVNBLGVBQVQsQ0FBeUJDLEtBQXpCLEVBQWdDO0FBQ3BELE1BQUlDLEdBQUcsR0FBR0QsS0FBSyxDQUFDQyxHQUFoQjtBQUFBLE1BQ0lDLE1BQU0sR0FBR0YsS0FBSyxDQUFDRSxNQURuQjtBQUVBLE1BQUlDLElBQUksR0FBR0QsTUFBTSxDQUFDTixZQUFQLENBQW9CLE1BQXBCLENBQVg7QUFDQSxNQUFJUSxVQUFVLEdBQUdILEdBQUcsS0FBSyxHQUFSLElBQWVBLEdBQUcsS0FBSyxVQUF4QztBQUNBLFNBQU9BLEdBQUcsS0FBSyxPQUFSLElBQW1CRyxVQUFVLElBQUlELElBQUksS0FBSyxRQUFqRDtBQUNELENBTkQ7O0FBUUEsSUFBSUUsMkJBQTJCLEdBQUcsR0FBbEM7QUFFQSxJQUFJQyxzQkFBc0IsR0FBRyxFQUE3Qjs7QUE0RUEsSUFBSUMsY0FBYyxHQUFnQixZQUFZO0FBQzVDLFdBQVNBLGNBQVQsQ0FBd0JDLE1BQXhCLEVBQWdDO0FBQzlCLFNBQUtDLGNBQUwsR0FBc0IsSUFBdEI7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLEtBQXZCO0FBQ0EsU0FBS0Msc0JBQUwsR0FBOEIsSUFBOUI7QUFDQSxTQUFLQyxvQkFBTCxHQUE0QixLQUE1QjtBQUNBLFNBQUtDLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0EsU0FBS0MscUJBQUwsR0FBNkIsSUFBN0I7QUFDQSxTQUFLQyxXQUFMLEdBQW1CakMsYUFBbkI7QUFDQSxTQUFLa0MsU0FBTCxDQUFlUixNQUFmO0FBQ0Q7O0FBRUQsTUFBSVMsTUFBTSxHQUFHVixjQUFjLENBQUNXLFNBQTVCOztBQUVBRCxFQUFBQSxNQUFNLENBQUNELFNBQVAsR0FBbUIsU0FBU0EsU0FBVCxDQUFtQlIsTUFBbkIsRUFBMkI7QUFDNUMsU0FBS1csT0FBTCxHQUFlWCxNQUFmO0FBQ0QsR0FGRDs7QUFRQVMsRUFBQUEsTUFBTSxDQUFDRyxLQUFQLEdBQWUsU0FBU0EsS0FBVCxHQUFpQjtBQUM5QixTQUFLQyw0QkFBTDs7QUFFQSxTQUFLQyx3QkFBTDs7QUFFQSxTQUFLQywyQkFBTDtBQUNELEdBTkQ7O0FBWUFOLEVBQUFBLE1BQU0sQ0FBQ08sZ0JBQVAsR0FBMEIsU0FBU0EsZ0JBQVQsR0FBNEI7QUFDcEQsUUFBSSxLQUFLZixjQUFMLElBQXVCLElBQTNCLEVBQWlDO0FBQy9CLFdBQUtBLGNBQUwsR0FBc0IsS0FBS2dCLG9CQUFMLEVBQXRCO0FBQ0Q7O0FBRUQsV0FBTyxLQUFLaEIsY0FBWjtBQUNELEdBTkQ7O0FBUUFRLEVBQUFBLE1BQU0sQ0FBQ1Esb0JBQVAsR0FBOEIsU0FBU0Esb0JBQVQsR0FBZ0M7QUFDNUQsUUFBSUMsS0FBSyxHQUFHLElBQVo7O0FBRUEsUUFBSUMsS0FBSyxHQUFHLFNBQVNBLEtBQVQsQ0FBZTNCLEtBQWYsRUFBc0I0QixXQUF0QixFQUFtQztBQUM3QzVCLE1BQUFBLEtBQUssQ0FBQzZCLE9BQU47O0FBRUFILE1BQUFBLEtBQUssQ0FBQ0gsMkJBQU47O0FBRUFHLE1BQUFBLEtBQUssQ0FBQ2Qsb0JBQU4sR0FBNkIsS0FBN0I7QUFDQWMsTUFBQUEsS0FBSyxDQUFDSSxvQkFBTixHQUE2QixLQUE3QjtBQUNBSixNQUFBQSxLQUFLLENBQUNYLFdBQU4sR0FBb0JqQyxhQUFwQjtBQUNBNEMsTUFBQUEsS0FBSyxDQUFDaEIsZUFBTixHQUF3QlYsS0FBSyxDQUFDK0IsV0FBTixDQUFrQkMsSUFBbEIsS0FBMkIsWUFBbkQ7O0FBRUFOLE1BQUFBLEtBQUssQ0FBQ08sY0FBTixDQUFxQi9DLGVBQXJCLEVBQXNDYyxLQUF0Qzs7QUFFQSxVQUFJa0MsZUFBZSxHQUFHQyxjQUFjLENBQUNULEtBQUssQ0FBQ1AsT0FBTixDQUFjZSxlQUFmLEVBQWdDLENBQWhDLEVBQW1DNUIsc0JBQW5DLENBQXBDOztBQUVBLFVBQUlzQixXQUFXLEtBQUssS0FBaEIsSUFBeUJNLGVBQWUsR0FBRyxDQUEvQyxFQUFrRDtBQUNoRFIsUUFBQUEsS0FBSyxDQUFDYixrQkFBTixHQUEyQnVCLFVBQVUsQ0FBQyxZQUFZO0FBQ2hEVixVQUFBQSxLQUFLLENBQUNPLGNBQU4sQ0FBcUJ0RCxLQUFyQixFQUE0QnFCLEtBQTVCO0FBQ0QsU0FGb0MsRUFFbENrQyxlQUZrQyxDQUFyQztBQUdELE9BSkQsTUFJTztBQUNMUixRQUFBQSxLQUFLLENBQUNPLGNBQU4sQ0FBcUJ0RCxLQUFyQixFQUE0QnFCLEtBQTVCO0FBQ0Q7O0FBRUQsVUFBSXFDLGNBQWMsR0FBR0YsY0FBYyxDQUFDVCxLQUFLLENBQUNQLE9BQU4sQ0FBY2tCLGNBQWYsRUFBK0IsRUFBL0IsRUFBbUNoQywyQkFBbkMsQ0FBbkM7QUFDQXFCLE1BQUFBLEtBQUssQ0FBQ2Ysc0JBQU4sR0FBK0J5QixVQUFVLENBQUMsWUFBWTtBQUNwRFYsUUFBQUEsS0FBSyxDQUFDWSxnQkFBTixDQUF1QnRDLEtBQXZCO0FBQ0QsT0FGd0MsRUFFdENxQyxjQUFjLEdBQUdILGVBRnFCLENBQXpDO0FBR0QsS0ExQkQ7O0FBNEJBLFFBQUlLLEdBQUcsR0FBRyxTQUFTQSxHQUFULENBQWF2QyxLQUFiLEVBQW9CO0FBQzVCMEIsTUFBQUEsS0FBSyxDQUFDTyxjQUFOLENBQXFCOUMsaUJBQXJCLEVBQXdDYSxLQUF4QztBQUNELEtBRkQ7O0FBSUEsUUFBSXdDLFlBQVksR0FBRyxTQUFTQSxZQUFULENBQXNCeEMsS0FBdEIsRUFBNkI7QUFDOUMsVUFBSXlDLE9BQU8sR0FBR2YsS0FBSyxDQUFDUCxPQUFOLENBQWNzQixPQUE1QjtBQUNBLFVBQUl2QyxNQUFNLEdBQUdGLEtBQUssQ0FBQ0UsTUFBbkI7O0FBRUEsVUFBSXdCLEtBQUssQ0FBQ1gsV0FBTixLQUFzQmpDLGFBQXRCLElBQXVDaUIsZUFBZSxDQUFDQyxLQUFELENBQTFELEVBQW1FO0FBQ2pFdUMsUUFBQUEsR0FBRyxDQUFDdkMsS0FBRCxDQUFIO0FBQ0EwQyxRQUFBQSxRQUFRLENBQUNDLG1CQUFULENBQTZCLE9BQTdCLEVBQXNDSCxZQUF0QztBQUNBLFlBQUlyQyxJQUFJLEdBQUdELE1BQU0sQ0FBQ04sWUFBUCxDQUFvQixNQUFwQixDQUFYO0FBQ0EsWUFBSWdELFdBQVcsR0FBRzFDLE1BQU0sQ0FBQzJDLE9BQVAsQ0FBZUMsV0FBZixFQUFsQjtBQUNBLFlBQUlDLDBCQUEwQixHQUFHNUMsSUFBSSxLQUFLLE1BQVQsSUFBbUJ5QyxXQUFXLEtBQUssR0FBbkMsSUFBMENBLFdBQVcsS0FBSyxRQUExRCxJQUFzRUEsV0FBVyxLQUFLLE9BQXRGLElBQWlHQSxXQUFXLEtBQUssUUFBakgsSUFBNkhBLFdBQVcsS0FBSyxVQUE5Szs7QUFFQSxZQUFJSCxPQUFPLElBQUksSUFBWCxJQUFtQixDQUFDTSwwQkFBeEIsRUFBb0Q7QUFDbEROLFVBQUFBLE9BQU8sQ0FBQ3pDLEtBQUQsQ0FBUDtBQUNEO0FBQ0Y7QUFDRixLQWZEOztBQWlCQSxXQUFPO0FBQ0xnRCxNQUFBQSx5QkFBeUIsRUFBRSxTQUFTQSx5QkFBVCxDQUFtQ2hELEtBQW5DLEVBQTBDO0FBQ25FLFlBQUlpRCxRQUFRLEdBQUd2QixLQUFLLENBQUNQLE9BQU4sQ0FBYzhCLFFBQTdCOztBQUVBLFlBQUlBLFFBQVEsSUFBSXZELFlBQVksQ0FBQ00sS0FBSyxDQUFDa0QsYUFBUCxDQUE1QixFQUFtRDtBQUNqRGxELFVBQUFBLEtBQUssQ0FBQ21ELGVBQU47QUFDRDs7QUFFRCxZQUFJRixRQUFRLElBQUksSUFBaEIsRUFBc0I7QUFDcEIsaUJBQU8sSUFBUDtBQUNEOztBQUVELGVBQU8sQ0FBQ0EsUUFBUjtBQUNELE9BYkk7QUFjTEcsTUFBQUEsU0FBUyxFQUFFLFNBQVNBLFNBQVQsQ0FBbUJwRCxLQUFuQixFQUEwQjtBQUNuQyxZQUFJaUQsUUFBUSxHQUFHdkIsS0FBSyxDQUFDUCxPQUFOLENBQWM4QixRQUE3QjtBQUNBLFlBQUloRCxHQUFHLEdBQUdELEtBQUssQ0FBQ0MsR0FBaEI7QUFBQSxZQUNJQyxNQUFNLEdBQUdGLEtBQUssQ0FBQ0UsTUFEbkI7O0FBR0EsWUFBSSxDQUFDK0MsUUFBRCxJQUFhbEQsZUFBZSxDQUFDQyxLQUFELENBQWhDLEVBQXlDO0FBQ3ZDLGNBQUkwQixLQUFLLENBQUNYLFdBQU4sS0FBc0JqQyxhQUExQixFQUF5QztBQUN2QzZDLFlBQUFBLEtBQUssQ0FBQzNCLEtBQUQsRUFBUSxLQUFSLENBQUw7QUFHQTBDLFlBQUFBLFFBQVEsQ0FBQ1csZ0JBQVQsQ0FBMEIsT0FBMUIsRUFBbUNiLFlBQW5DO0FBQ0Q7O0FBRUQsY0FBSXJDLElBQUksR0FBR0QsTUFBTSxDQUFDTixZQUFQLENBQW9CLE1BQXBCLENBQVg7QUFDQSxjQUFJMEQsYUFBYSxHQUFHckQsR0FBRyxLQUFLLEdBQVIsSUFBZUEsR0FBRyxLQUFLLFVBQTNDOztBQUVBLGNBQUlzRCxhQUFhLEdBQUdwRCxJQUFJLEtBQUssUUFBVCxJQUFxQkEsSUFBSSxLQUFLLFVBQWxEOztBQUVBLGNBQUltRCxhQUFhLElBQUlDLGFBQXJCLEVBQW9DO0FBRWxDdkQsWUFBQUEsS0FBSyxDQUFDd0QsY0FBTjtBQUNEOztBQUVEeEQsVUFBQUEsS0FBSyxDQUFDbUQsZUFBTjtBQUNEO0FBQ0YsT0F2Q0k7QUF3Q0xNLE1BQUFBLGdCQUFnQixFQUFFLFNBQVNBLGdCQUFULENBQTBCekQsS0FBMUIsRUFBaUM7QUFDakQsZUFBTzJCLEtBQUssQ0FBQzNCLEtBQUQsQ0FBWjtBQUNELE9BMUNJO0FBMkNMMEQsTUFBQUEsZUFBZSxFQUFFLFNBQVNBLGVBQVQsQ0FBeUIxRCxLQUF6QixFQUFnQztBQUMvQyxZQUFJMEIsS0FBSyxDQUFDUCxPQUFOLENBQWN3QyxXQUFkLElBQTZCLElBQWpDLEVBQXVDO0FBQ3JDakMsVUFBQUEsS0FBSyxDQUFDUCxPQUFOLENBQWN3QyxXQUFkLENBQTBCM0QsS0FBMUI7QUFDRDs7QUFFRCxZQUFJNEQsS0FBSyxHQUFHQywwQkFBMEIsQ0FBQzdELEtBQUQsQ0FBdEM7O0FBRUEsWUFBSTBCLEtBQUssQ0FBQ29DLHNCQUFOLElBQWdDLElBQXBDLEVBQTBDO0FBQ3hDLGNBQUlDLE1BQU0sR0FBR3JDLEtBQUssQ0FBQ29DLHNCQUFOLENBQTZCRSxLQUE3QixHQUFxQ0osS0FBSyxDQUFDSSxLQUF4RDtBQUNBLGNBQUlDLE1BQU0sR0FBR3ZDLEtBQUssQ0FBQ29DLHNCQUFOLENBQTZCSSxLQUE3QixHQUFxQ04sS0FBSyxDQUFDTSxLQUF4RDs7QUFFQSxjQUFJQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0wsTUFBWCxFQUFtQkUsTUFBbkIsSUFBNkIsRUFBakMsRUFBcUM7QUFDbkN2QyxZQUFBQSxLQUFLLENBQUNMLDRCQUFOO0FBQ0Q7QUFDRjtBQUNGLE9BMURJO0FBMkRMZ0QsTUFBQUEsa0JBQWtCLEVBQUUsU0FBU0Esa0JBQVQsQ0FBNEJyRSxLQUE1QixFQUFtQztBQUNyRCxlQUFPdUMsR0FBRyxDQUFDdkMsS0FBRCxDQUFWO0FBQ0QsT0E3REk7QUE4RExzRSxNQUFBQSxvQkFBb0IsRUFBRSxTQUFTQSxvQkFBVCxDQUE4QnRFLEtBQTlCLEVBQXFDO0FBQ3pELFlBQUlBLEtBQUssQ0FBQytCLFdBQU4sQ0FBa0JDLElBQWxCLEtBQTJCLGlCQUEvQixFQUFrRDtBQUNoRE4sVUFBQUEsS0FBSyxDQUFDSSxvQkFBTixHQUE2QixJQUE3QjtBQUNEOztBQUVESixRQUFBQSxLQUFLLENBQUNPLGNBQU4sQ0FBcUI3QyxvQkFBckIsRUFBMkNZLEtBQTNDO0FBQ0QsT0FwRUk7QUFxRUx1RSxNQUFBQSw2QkFBNkIsRUFBRSxTQUFTQSw2QkFBVCxDQUF1Q3ZFLEtBQXZDLEVBQThDO0FBQzNFLFlBQUl3RSxhQUFhLEdBQUc5QyxLQUFLLENBQUNQLE9BQTFCO0FBQUEsWUFDSXNELFVBQVUsR0FBR0QsYUFBYSxDQUFDQyxVQUQvQjtBQUFBLFlBRUl4QixRQUFRLEdBQUd1QixhQUFhLENBQUN2QixRQUY3QjtBQUFBLFlBR0l5QixXQUFXLEdBQUdGLGFBQWEsQ0FBQ0UsV0FIaEM7O0FBTUEsWUFBSSxDQUFDekIsUUFBRCxJQUFheUIsV0FBVyxJQUFJLElBQTVCLElBQW9DaEQsS0FBSyxDQUFDaEIsZUFBMUMsSUFBNkRWLEtBQUssQ0FBQytCLFdBQU4sQ0FBa0JDLElBQWxCLEtBQTJCLGFBQTVGLEVBQTJHO0FBQ3pHLGlCQUFPLEtBQVA7QUFDRDs7QUFFRCxZQUFJeUMsVUFBVSxJQUFJLElBQWxCLEVBQXdCO0FBQ3RCLGlCQUFPLElBQVA7QUFDRDs7QUFFRCxlQUFPQSxVQUFQO0FBQ0QsT0FyRkk7QUE4RkxFLE1BQUFBLE9BQU8sRUFBRSxTQUFTQSxPQUFULENBQWlCM0UsS0FBakIsRUFBd0I7QUFDL0IsWUFBSTRFLGNBQWMsR0FBR2xELEtBQUssQ0FBQ1AsT0FBM0I7QUFBQSxZQUNJOEIsUUFBUSxHQUFHMkIsY0FBYyxDQUFDM0IsUUFEOUI7QUFBQSxZQUVJUixPQUFPLEdBQUdtQyxjQUFjLENBQUNuQyxPQUY3Qjs7QUFJQSxZQUFJLENBQUNRLFFBQUwsRUFBZTtBQUliakQsVUFBQUEsS0FBSyxDQUFDbUQsZUFBTjs7QUFFQSxjQUFJekIsS0FBSyxDQUFDZCxvQkFBTixJQUE4QmMsS0FBSyxDQUFDSSxvQkFBeEMsRUFBOEQ7QUFDNUQ5QixZQUFBQSxLQUFLLENBQUN3RCxjQUFOO0FBQ0QsV0FGRCxNQUVPLElBQUlmLE9BQU8sSUFBSSxJQUFYLElBQW1CekMsS0FBSyxDQUFDNkUsTUFBTixLQUFpQixLQUF4QyxFQUErQztBQUNwRHBDLFlBQUFBLE9BQU8sQ0FBQ3pDLEtBQUQsQ0FBUDtBQUNEO0FBQ0YsU0FYRCxNQVdPO0FBQ0wsY0FBSU4sWUFBWSxDQUFDTSxLQUFLLENBQUNrRCxhQUFQLENBQWhCLEVBQXVDO0FBQ3JDbEQsWUFBQUEsS0FBSyxDQUFDbUQsZUFBTjtBQUNEO0FBQ0Y7QUFDRixPQW5ISTtBQXNITDJCLE1BQUFBLGFBQWEsRUFBRSxTQUFTQSxhQUFULENBQXVCOUUsS0FBdkIsRUFBOEI7QUFDM0MsWUFBSStFLGNBQWMsR0FBR3JELEtBQUssQ0FBQ1AsT0FBM0I7QUFBQSxZQUNJOEIsUUFBUSxHQUFHOEIsY0FBYyxDQUFDOUIsUUFEOUI7QUFBQSxZQUVJeUIsV0FBVyxHQUFHSyxjQUFjLENBQUNMLFdBRmpDOztBQUlBLFlBQUksQ0FBQ3pCLFFBQUwsRUFBZTtBQUNiLGNBQUl5QixXQUFXLElBQUksSUFBZixJQUF1QmhELEtBQUssQ0FBQ2hCLGVBQTdCLElBQWdELENBQUNWLEtBQUssQ0FBQ2dGLGdCQUEzRCxFQUE2RTtBQUMzRWhGLFlBQUFBLEtBQUssQ0FBQ3dELGNBQU47QUFDQXhELFlBQUFBLEtBQUssQ0FBQ21ELGVBQU47QUFDRDtBQUNGLFNBTEQsTUFLTztBQUNMLGNBQUl6RCxZQUFZLENBQUNNLEtBQUssQ0FBQ2tELGFBQVAsQ0FBaEIsRUFBdUM7QUFDckNsRCxZQUFBQSxLQUFLLENBQUNtRCxlQUFOO0FBQ0Q7QUFDRjtBQUNGO0FBcklJLEtBQVA7QUF1SUQsR0EzTEQ7O0FBa01BbEMsRUFBQUEsTUFBTSxDQUFDZ0IsY0FBUCxHQUF3QixTQUFTQSxjQUFULENBQXdCeEMsTUFBeEIsRUFBZ0NPLEtBQWhDLEVBQXVDO0FBQzdELFFBQUlpRixTQUFTLEdBQUcsS0FBS2xFLFdBQXJCO0FBQ0EsUUFBSW1FLFNBQVMsR0FBRyxJQUFoQjs7QUFFQSxRQUFJN0YsV0FBVyxDQUFDNEYsU0FBRCxDQUFYLElBQTBCLElBQTlCLEVBQW9DO0FBQ2xDQyxNQUFBQSxTQUFTLEdBQUc3RixXQUFXLENBQUM0RixTQUFELENBQVgsQ0FBdUJ4RixNQUF2QixDQUFaO0FBQ0Q7O0FBRUQsUUFBSSxLQUFLc0IsV0FBTCxLQUFxQmpDLGFBQXJCLElBQXNDVyxNQUFNLEtBQUtOLGlCQUFyRCxFQUF3RTtBQUN0RTtBQUNEOztBQUVELFFBQUkrRixTQUFTLElBQUksSUFBYixJQUFxQkEsU0FBUyxLQUFLdEcsS0FBdkMsRUFBOEM7QUFDNUN1RyxNQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBYyxvQ0FBb0MzRixNQUFwQyxHQUE2QyxhQUE3QyxHQUE2RHdGLFNBQTdELEdBQXlFLGVBQXZGO0FBQ0QsS0FGRCxNQUVPLElBQUlBLFNBQVMsS0FBS0MsU0FBbEIsRUFBNkI7QUFDbEMsV0FBS0csNkJBQUwsQ0FBbUNKLFNBQW5DLEVBQThDQyxTQUE5QyxFQUF5RHpGLE1BQXpELEVBQWlFTyxLQUFqRTs7QUFFQSxXQUFLZSxXQUFMLEdBQW1CbUUsU0FBbkI7QUFDRDtBQUNGLEdBbkJEOztBQTBCQWpFLEVBQUFBLE1BQU0sQ0FBQ29FLDZCQUFQLEdBQXVDLFNBQVNBLDZCQUFULENBQXVDSixTQUF2QyxFQUFrREMsU0FBbEQsRUFBNkR6RixNQUE3RCxFQUFxRU8sS0FBckUsRUFBNEU7QUFDakgsUUFBSUYsZ0JBQWdCLENBQUNMLE1BQUQsQ0FBcEIsRUFBOEI7QUFDNUIsV0FBS2lCLGVBQUwsR0FBdUIsS0FBdkI7QUFDQSxXQUFLb0Qsc0JBQUwsR0FBOEIsSUFBOUI7O0FBRUEsV0FBS3pDLDRCQUFMO0FBQ0Q7O0FBRUQsUUFBSXhCLGtCQUFrQixDQUFDb0YsU0FBRCxDQUFsQixJQUFpQ3hGLE1BQU0sS0FBS1osbUJBQWhELEVBQXFFO0FBQ25FLFVBQUk2RixXQUFXLEdBQUcsS0FBS3ZELE9BQUwsQ0FBYXVELFdBQS9COztBQUdBLFVBQUlBLFdBQVcsSUFBSSxJQUFmLElBQXVCMUUsS0FBSyxDQUFDK0IsV0FBTixDQUFrQjlCLEdBQWxCLElBQXlCLElBQXBELEVBQTBEO0FBQ3hEeUUsUUFBQUEsV0FBVyxDQUFDMUUsS0FBRCxDQUFYO0FBQ0EsYUFBS1ksb0JBQUwsR0FBNEIsSUFBNUI7QUFDRDtBQUNGOztBQUVELFFBQUkwRSxZQUFZLEdBQUc5RixjQUFjLENBQUN5RixTQUFELENBQWpDO0FBQ0EsUUFBSU0sWUFBWSxHQUFHL0YsY0FBYyxDQUFDMEYsU0FBRCxDQUFqQzs7QUFFQSxRQUFJLENBQUNJLFlBQUQsSUFBaUJDLFlBQXJCLEVBQW1DO0FBQ2pDLFdBQUtDLFNBQUwsQ0FBZXhGLEtBQWY7QUFDRCxLQUZELE1BRU8sSUFBSXNGLFlBQVksSUFBSSxDQUFDQyxZQUFyQixFQUFtQztBQUN4QyxXQUFLRSxXQUFMLENBQWlCekYsS0FBakI7QUFDRDs7QUFFRCxRQUFJSCxrQkFBa0IsQ0FBQ29GLFNBQUQsQ0FBbEIsSUFBaUN4RixNQUFNLEtBQUtOLGlCQUFoRCxFQUFtRTtBQUNqRSxVQUFJdUcsY0FBYyxHQUFHLEtBQUt2RSxPQUExQjtBQUFBLFVBQ0l3RSxZQUFZLEdBQUdELGNBQWMsQ0FBQ2hCLFdBRGxDO0FBQUEsVUFFSWpDLE9BQU8sR0FBR2lELGNBQWMsQ0FBQ2pELE9BRjdCOztBQUlBLFVBQUlBLE9BQU8sSUFBSSxJQUFmLEVBQXFCO0FBQ25CLFlBQUltRCwwQkFBMEIsR0FBR0QsWUFBWSxJQUFJLElBQWhCLElBQXdCVixTQUFTLEtBQUtsRyxpQ0FBdkU7O0FBRUEsWUFBSSxDQUFDNkcsMEJBQUwsRUFBaUM7QUFFL0IsY0FBSSxDQUFDTCxZQUFELElBQWlCLENBQUNELFlBQXRCLEVBQW9DO0FBQ2xDLGlCQUFLRSxTQUFMLENBQWV4RixLQUFmOztBQUVBLGlCQUFLeUYsV0FBTCxDQUFpQnpGLEtBQWpCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7O0FBRUQsU0FBS3NCLHdCQUFMO0FBQ0QsR0EvQ0Q7O0FBaURBTCxFQUFBQSxNQUFNLENBQUN1RSxTQUFQLEdBQW1CLFNBQVNBLFNBQVQsQ0FBbUJ4RixLQUFuQixFQUEwQjtBQUMzQyxRQUFJNkYsY0FBYyxHQUFHLEtBQUsxRSxPQUExQjtBQUFBLFFBQ0kyRSxhQUFhLEdBQUdELGNBQWMsQ0FBQ0MsYUFEbkM7QUFBQSxRQUVJQyxZQUFZLEdBQUdGLGNBQWMsQ0FBQ0UsWUFGbEM7QUFHQSxRQUFJbkMsS0FBSyxHQUFHQywwQkFBMEIsQ0FBQzdELEtBQUQsQ0FBdEM7QUFDQSxTQUFLOEQsc0JBQUwsR0FBOEI7QUFDNUJFLE1BQUFBLEtBQUssRUFBRUosS0FBSyxDQUFDSSxLQURlO0FBRTVCRSxNQUFBQSxLQUFLLEVBQUVOLEtBQUssQ0FBQ007QUFGZSxLQUE5Qjs7QUFLQSxRQUFJNkIsWUFBWSxJQUFJLElBQXBCLEVBQTBCO0FBQ3hCQSxNQUFBQSxZQUFZLENBQUMvRixLQUFELENBQVo7QUFDRDs7QUFFRCxRQUFJOEYsYUFBYSxJQUFJLElBQXJCLEVBQTJCO0FBQ3pCQSxNQUFBQSxhQUFhLENBQUMsSUFBRCxDQUFiO0FBQ0Q7QUFDRixHQWpCRDs7QUFtQkE3RSxFQUFBQSxNQUFNLENBQUN3RSxXQUFQLEdBQXFCLFNBQVNBLFdBQVQsQ0FBcUJ6RixLQUFyQixFQUE0QjtBQUMvQyxRQUFJZ0csY0FBYyxHQUFHLEtBQUs3RSxPQUExQjtBQUFBLFFBQ0kyRSxhQUFhLEdBQUdFLGNBQWMsQ0FBQ0YsYUFEbkM7QUFBQSxRQUVJRyxVQUFVLEdBQUdELGNBQWMsQ0FBQ0MsVUFGaEM7O0FBSUEsYUFBUzFELEdBQVQsR0FBZTtBQUNiLFVBQUkwRCxVQUFVLElBQUksSUFBbEIsRUFBd0I7QUFDdEJBLFFBQUFBLFVBQVUsQ0FBQ2pHLEtBQUQsQ0FBVjtBQUNEOztBQUVELFVBQUk4RixhQUFhLElBQUksSUFBckIsRUFBMkI7QUFDekJBLFFBQUFBLGFBQWEsQ0FBQyxLQUFELENBQWI7QUFDRDtBQUNGOztBQUVELFFBQUlJLGFBQWEsR0FBRy9ELGNBQWMsQ0FBQyxLQUFLaEIsT0FBTCxDQUFhK0UsYUFBZCxDQUFsQzs7QUFFQSxRQUFJQSxhQUFhLEdBQUcsQ0FBcEIsRUFBdUI7QUFDckIsV0FBS3BGLHFCQUFMLEdBQTZCc0IsVUFBVSxDQUFDLFlBQVk7QUFDbERHLFFBQUFBLEdBQUc7QUFDSixPQUZzQyxFQUVwQzJELGFBRm9DLENBQXZDO0FBR0QsS0FKRCxNQUlPO0FBQ0wzRCxNQUFBQSxHQUFHO0FBQ0o7QUFDRixHQXhCRDs7QUEwQkF0QixFQUFBQSxNQUFNLENBQUNxQixnQkFBUCxHQUEwQixTQUFTQSxnQkFBVCxDQUEwQnRDLEtBQTFCLEVBQWlDO0FBQ3pELFFBQUksS0FBS2UsV0FBTCxLQUFxQi9CLDRCQUFyQixJQUFxRCxLQUFLK0IsV0FBTCxLQUFxQmhDLGlDQUE5RSxFQUFpSDtBQUMvRyxXQUFLa0QsY0FBTCxDQUFvQnBELG1CQUFwQixFQUF5Q21CLEtBQXpDO0FBQ0Q7QUFDRixHQUpEOztBQU1BaUIsRUFBQUEsTUFBTSxDQUFDSSw0QkFBUCxHQUFzQyxTQUFTQSw0QkFBVCxHQUF3QztBQUM1RSxRQUFJLEtBQUtWLHNCQUFMLElBQStCLElBQW5DLEVBQXlDO0FBQ3ZDd0YsTUFBQUEsWUFBWSxDQUFDLEtBQUt4RixzQkFBTixDQUFaO0FBQ0EsV0FBS0Esc0JBQUwsR0FBOEIsSUFBOUI7QUFDRDtBQUNGLEdBTEQ7O0FBT0FNLEVBQUFBLE1BQU0sQ0FBQ0ssd0JBQVAsR0FBa0MsU0FBU0Esd0JBQVQsR0FBb0M7QUFDcEUsUUFBSSxLQUFLVCxrQkFBTCxJQUEyQixJQUEvQixFQUFxQztBQUNuQ3NGLE1BQUFBLFlBQVksQ0FBQyxLQUFLdEYsa0JBQU4sQ0FBWjtBQUNBLFdBQUtBLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0Q7QUFDRixHQUxEOztBQU9BSSxFQUFBQSxNQUFNLENBQUNNLDJCQUFQLEdBQXFDLFNBQVNBLDJCQUFULEdBQXVDO0FBQzFFLFFBQUksS0FBS1QscUJBQUwsSUFBOEIsSUFBbEMsRUFBd0M7QUFDdENxRixNQUFBQSxZQUFZLENBQUMsS0FBS3JGLHFCQUFOLENBQVo7QUFDQSxXQUFLQSxxQkFBTCxHQUE2QixJQUE3QjtBQUNEO0FBQ0YsR0FMRDs7QUFPQSxTQUFPUCxjQUFQO0FBQ0QsQ0FoWWlDLEVBQWxDOztBQWtZQS9CLE9BQU8sQ0FBQ0UsT0FBUixHQUFrQjZCLGNBQWxCOztBQUVBLFNBQVM0QixjQUFULENBQXdCaUUsS0FBeEIsRUFBK0JDLEdBQS9CLEVBQW9DQyxRQUFwQyxFQUE4QztBQUM1QyxNQUFJRCxHQUFHLEtBQUssS0FBSyxDQUFqQixFQUFvQjtBQUNsQkEsSUFBQUEsR0FBRyxHQUFHLENBQU47QUFDRDs7QUFFRCxNQUFJQyxRQUFRLEtBQUssS0FBSyxDQUF0QixFQUF5QjtBQUN2QkEsSUFBQUEsUUFBUSxHQUFHLENBQVg7QUFDRDs7QUFFRCxTQUFPbkMsSUFBSSxDQUFDb0MsR0FBTCxDQUFTRixHQUFULEVBQWNELEtBQUssS0FBSyxJQUFWLElBQWtCQSxLQUFLLEtBQUssS0FBSyxDQUFqQyxHQUFxQ0EsS0FBckMsR0FBNkNFLFFBQTNELENBQVA7QUFDRDs7QUFFRCxTQUFTekMsMEJBQVQsQ0FBb0M3RCxLQUFwQyxFQUEyQztBQUN6QyxNQUFJd0csa0JBQWtCLEdBQUd4RyxLQUFLLENBQUMrQixXQUEvQjtBQUFBLE1BQ0kwRSxjQUFjLEdBQUdELGtCQUFrQixDQUFDQyxjQUR4QztBQUFBLE1BRUlDLE9BQU8sR0FBR0Ysa0JBQWtCLENBQUNFLE9BRmpDOztBQUlBLE1BQUlBLE9BQU8sSUFBSSxJQUFYLElBQW1CQSxPQUFPLENBQUNDLE1BQVIsR0FBaUIsQ0FBeEMsRUFBMkM7QUFDekMsV0FBT0QsT0FBTyxDQUFDLENBQUQsQ0FBZDtBQUNEOztBQUVELE1BQUlELGNBQWMsSUFBSSxJQUFsQixJQUEwQkEsY0FBYyxDQUFDRSxNQUFmLEdBQXdCLENBQXRELEVBQXlEO0FBQ3ZELFdBQU9GLGNBQWMsQ0FBQyxDQUFELENBQXJCO0FBQ0Q7O0FBRUQsU0FBT3pHLEtBQUssQ0FBQytCLFdBQWI7QUFDRDs7QUFFRDZFLE1BQU0sQ0FBQ3BJLE9BQVAsR0FBaUJBLE9BQU8sQ0FBQ0UsT0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIFxuICogQGZvcm1hdFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG52YXIgREVMQVkgPSAnREVMQVknO1xudmFyIEVSUk9SID0gJ0VSUk9SJztcbnZhciBMT05HX1BSRVNTX0RFVEVDVEVEID0gJ0xPTkdfUFJFU1NfREVURUNURUQnO1xudmFyIE5PVF9SRVNQT05ERVIgPSAnTk9UX1JFU1BPTkRFUic7XG52YXIgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX1NUQVJUID0gJ1JFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19TVEFSVCc7XG52YXIgUkVTUE9OREVSX0FDVElWRV9QUkVTU19TVEFSVCA9ICdSRVNQT05ERVJfQUNUSVZFX1BSRVNTX1NUQVJUJztcbnZhciBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfU1RBUlQgPSAnUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX1NUQVJUJztcbnZhciBSRVNQT05ERVJfR1JBTlQgPSAnUkVTUE9OREVSX0dSQU5UJztcbnZhciBSRVNQT05ERVJfUkVMRUFTRSA9ICdSRVNQT05ERVJfUkVMRUFTRSc7XG52YXIgUkVTUE9OREVSX1RFUk1JTkFURUQgPSAnUkVTUE9OREVSX1RFUk1JTkFURUQnO1xudmFyIFRyYW5zaXRpb25zID0gT2JqZWN0LmZyZWV6ZSh7XG4gIE5PVF9SRVNQT05ERVI6IHtcbiAgICBERUxBWTogRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfU1RBUlQsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IEVSUk9SLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBFUlJPUixcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBFUlJPUlxuICB9LFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfU1RBUlQ6IHtcbiAgICBERUxBWTogUkVTUE9OREVSX0FDVElWRV9QUkVTU19TVEFSVCxcbiAgICBSRVNQT05ERVJfR1JBTlQ6IEVSUk9SLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBOT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBOT1RfUkVTUE9OREVSLFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IEVSUk9SXG4gIH0sXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfU1RBUlQ6IHtcbiAgICBERUxBWTogRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBFUlJPUixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogTk9UX1JFU1BPTkRFUixcbiAgICBMT05HX1BSRVNTX0RFVEVDVEVEOiBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfU1RBUlRcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX1NUQVJUOiB7XG4gICAgREVMQVk6IEVSUk9SLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IE5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IE5PVF9SRVNQT05ERVIsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX1NUQVJUXG4gIH0sXG4gIEVSUk9SOiB7XG4gICAgREVMQVk6IE5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfU1RBUlQsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IE5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IE5PVF9SRVNQT05ERVIsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogTk9UX1JFU1BPTkRFUlxuICB9XG59KTtcblxudmFyIGlzQWN0aXZlU2lnbmFsID0gZnVuY3Rpb24gaXNBY3RpdmVTaWduYWwoc2lnbmFsKSB7XG4gIHJldHVybiBzaWduYWwgPT09IFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfU1RBUlQgfHwgc2lnbmFsID09PSBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfU1RBUlQ7XG59O1xuXG52YXIgaXNCdXR0b25Sb2xlID0gZnVuY3Rpb24gaXNCdXR0b25Sb2xlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICdidXR0b24nO1xufTtcblxudmFyIGlzUHJlc3NTdGFydFNpZ25hbCA9IGZ1bmN0aW9uIGlzUHJlc3NTdGFydFNpZ25hbChzaWduYWwpIHtcbiAgcmV0dXJuIHNpZ25hbCA9PT0gUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX1NUQVJUIHx8IHNpZ25hbCA9PT0gUkVTUE9OREVSX0FDVElWRV9QUkVTU19TVEFSVCB8fCBzaWduYWwgPT09IFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19TVEFSVDtcbn07XG5cbnZhciBpc1Rlcm1pbmFsU2lnbmFsID0gZnVuY3Rpb24gaXNUZXJtaW5hbFNpZ25hbChzaWduYWwpIHtcbiAgcmV0dXJuIHNpZ25hbCA9PT0gUkVTUE9OREVSX1RFUk1JTkFURUQgfHwgc2lnbmFsID09PSBSRVNQT05ERVJfUkVMRUFTRTtcbn07XG5cbnZhciBpc1ZhbGlkS2V5UHJlc3MgPSBmdW5jdGlvbiBpc1ZhbGlkS2V5UHJlc3MoZXZlbnQpIHtcbiAgdmFyIGtleSA9IGV2ZW50LmtleSxcbiAgICAgIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgdmFyIHJvbGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdyb2xlJyk7XG4gIHZhciBpc1NwYWNlYmFyID0ga2V5ID09PSAnICcgfHwga2V5ID09PSAnU3BhY2ViYXInO1xuICByZXR1cm4ga2V5ID09PSAnRW50ZXInIHx8IGlzU3BhY2ViYXIgJiYgcm9sZSA9PT0gJ2J1dHRvbic7XG59O1xuXG52YXIgREVGQVVMVF9MT05HX1BSRVNTX0RFTEFZX01TID0gNDUwOyAvLyA1MDAgLSA1MFxuXG52YXIgREVGQVVMVF9QUkVTU19ERUxBWV9NUyA9IDUwO1xuLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gUHJlc3NSZXNwb25kZXIgVHV0b3JpYWwgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICogVGhlIGBQcmVzc1Jlc3BvbmRlcmAgY2xhc3MgaGVscHMgeW91IGNyZWF0ZSBwcmVzcyBpbnRlcmFjdGlvbnMgYnkgYW5hbHl6aW5nIHRoZVxuICogZ2VvbWV0cnkgb2YgZWxlbWVudHMgYW5kIG9ic2VydmluZyB3aGVuIGFub3RoZXIgcmVzcG9uZGVyIChlLmcuIFNjcm9sbFZpZXcpXG4gKiBoYXMgc3RvbGVuIHRoZSB0b3VjaCBsb2NrLiBJdCBvZmZlcnMgaG9va3MgZm9yIHlvdXIgY29tcG9uZW50IHRvIHByb3ZpZGVcbiAqIGludGVyYWN0aW9uIGZlZWRiYWNrIHRvIHRoZSB1c2VyOlxuICpcbiAqIC0gV2hlbiBhIHByZXNzIGhhcyBhY3RpdmF0ZWQgKGUuZy4gaGlnaGxpZ2h0IGFuIGVsZW1lbnQpXG4gKiAtIFdoZW4gYSBwcmVzcyBoYXMgZGVhY3RpdmF0ZWQgKGUuZy4gdW4taGlnaGxpZ2h0IGFuIGVsZW1lbnQpXG4gKiAtIFdoZW4gYSBwcmVzcyBzb3VsZCB0cmlnZ2VyIGFuIGFjdGlvbiwgbWVhbmluZyBpdCBhY3RpdmF0ZWQgYW5kIGRlYWN0aXZhdGVkXG4gKiAgIHdoaWxlIHdpdGhpbiB0aGUgZ2VvbWV0cnkgb2YgdGhlIGVsZW1lbnQgd2l0aG91dCB0aGUgbG9jayBiZWluZyBzdG9sZW4uXG4gKlxuICogQSBoaWdoIHF1YWxpdHkgaW50ZXJhY3Rpb24gaXNuJ3QgYXMgc2ltcGxlIGFzIHlvdSBtaWdodCB0aGluay4gVGhlcmUgc2hvdWxkXG4gKiBiZSBhIHNsaWdodCBkZWxheSBiZWZvcmUgYWN0aXZhdGlvbi4gTW92aW5nIHlvdXIgZmluZ2VyIGJleW9uZCBhbiBlbGVtZW50J3NcbiAqIGJvdW5kcyBzaG91bGQgdHJpZ2dlciBkZWFjdGl2YXRpb24sIGJ1dCBtb3ZpbmcgdGhlIHNhbWUgZmluZ2VyIGJhY2sgd2l0aGluIGFuXG4gKiBlbGVtZW50J3MgYm91bmRzIHNob3VsZCB0cmlnZ2VyIHJlYWN0aXZhdGlvbi5cbiAqXG4gKiBJbiBvcmRlciB0byB1c2UgYFByZXNzUmVzcG9uZGVyYCwgZG8gdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAgICAgY29uc3QgcHJlc3NSZXNwb25kZXIgPSBuZXcgUHJlc3NSZXNwb25kZXIoY29uZmlnKTtcbiAqXG4gKiAyLiBDaG9vc2UgdGhlIHJlbmRlcmVkIGNvbXBvbmVudCB3aG8gc2hvdWxkIGNvbGxlY3QgdGhlIHByZXNzIGV2ZW50cy4gT24gdGhhdFxuICogICAgZWxlbWVudCwgc3ByZWFkIGBwcmVzc2FiaWxpdHkuZ2V0RXZlbnRIYW5kbGVycygpYCBpbnRvIGl0cyBwcm9wcy5cbiAqXG4gKiAgICByZXR1cm4gKFxuICogICAgICA8VmlldyB7Li4udGhpcy5zdGF0ZS5wcmVzc1Jlc3BvbmRlci5nZXRFdmVudEhhbmRsZXJzKCl9IC8+XG4gKiAgICApO1xuICpcbiAqIDMuIFJlc2V0IGBQcmVzc1Jlc3BvbmRlcmAgd2hlbiB5b3VyIGNvbXBvbmVudCB1bm1vdW50cy5cbiAqXG4gKiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAqICAgICAgdGhpcy5zdGF0ZS5wcmVzc1Jlc3BvbmRlci5yZXNldCgpO1xuICogICAgfVxuICpcbiAqID09PT09PT09PT09PT09PT09PT09IEltcGxlbWVudGF0aW9uIERldGFpbHMgPT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBgUHJlc3NSZXNwb25kZXJgIG9ubHkgYXNzdW1lcyB0aGF0IHRoZXJlIGV4aXN0cyBhIGBIaXRSZWN0YCBub2RlLiBUaGUgYFByZXNzUmVjdGBcbiAqIGlzIGFuIGFic3RyYWN0IGJveCB0aGF0IGlzIGV4dGVuZGVkIGJleW9uZCB0aGUgYEhpdFJlY3RgLlxuICpcbiAqICMgR2VvbWV0cnlcbiAqXG4gKiAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gKiAg4pSCICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAgIOKUgiAtIFByZXNzZXMgc3RhcnQgYW55d2hlcmUgd2l0aGluIGBIaXRSZWN0YC5cbiAqICDilIIgIOKUgiAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQICDilIIgIOKUglxuICogIOKUgiAg4pSCICDilIIgVmlzdWFsUmVjdCDilIIgIOKUgiAg4pSCXG4gKiAg4pSCICDilIIgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAg4pSCICDilIIgLSBXaGVuIHByZXNzZWQgZG93biBmb3Igc3VmZmljaWVudCBhbW91bnQgb2YgdGltZVxuICogIOKUgiAg4pSCICAgIEhpdFJlY3QgICAgICAg4pSCICDilIIgICBiZWZvcmUgbGV0dGluZyB1cCwgYFZpc3VhbFJlY3RgIGFjdGl2YXRlcy5cbiAqICDilIIgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAg4pSCXG4gKiAg4pSCICAgICAgIE91dCBSZWdpb24gICBvICAg4pSCXG4gKiAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSC4pSA4pSA4pSA4pSYXG4gKiAgICAgICAgICAgICAgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSAIFdoZW4gdGhlIHByZXNzIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGBIaXRSZWN0YCxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSByZXNwb25kZXIgaXMgTk9UIGVsaWdpYmxlIGZvciBhIFwicHJlc3NcIi5cbiAqXG4gKiAjIFN0YXRlIE1hY2hpbmVcbiAqXG4gKiDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAg4peA4pSA4pSA4pSA4pSAIFJFU1BPTkRFUl9SRUxFQVNFXG4gKiDilIIgTk9UX1JFU1BPTkRFUiDilIJcbiAqIOKUlOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCDil4DilIDilIDilIDilIAgUkVTUE9OREVSX1RFUk1JTkFURURcbiAqICAgICDilIJcbiAqICAgICDilIIgUkVTUE9OREVSX0dSQU5UIChIaXRSZWN0KVxuICogICAgIOKUglxuICogICAgIOKWvFxuICog4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQICAgICAgICAgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkCAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gKiDilIIgUkVTUE9OREVSX0lOQUNUSVZFXyDilIIgIERFTEFZICAg4pSCIFJFU1BPTkRFUl9BQ1RJVkVfIOKUgiAgVCArIERFTEFZICAg4pSCIFJFU1BPTkRFUl9BQ1RJVkVfIOKUglxuICog4pSCIFBSRVNTX1NUQVJUICAgICAgICAg4pSc4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pa2IOKUgiBQUkVTU19TVEFSVCAgICAgICDilJzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilrYg4pSCIExPTkdfUFJFU1NfU1RBUlQgIOKUglxuICog4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAgICAgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gKlxuICogVCArIERFTEFZID0+IExPTkdfUFJFU1NfREVMQVkgKyBERUxBWVxuICpcbiAqIE5vdCBkcmF3biBhcmUgdGhlIHNpZGUgZWZmZWN0cyBvZiBlYWNoIHRyYW5zaXRpb24uIFRoZSBtb3N0IGltcG9ydGFudCBzaWRlXG4gKiBlZmZlY3QgaXMgdGhlIGludm9jYXRpb24gb2YgYG9uTG9uZ1ByZXNzYC4gT25seSB3aGVuIHRoZSBicm93c2VyIHByb2R1Y2VzIGFcbiAqIGBjbGlja2AgZXZlbnQgaXMgYG9uUHJlc3NgIGludm9rZWQuXG4gKi9cblxudmFyIFByZXNzUmVzcG9uZGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHJlc3NSZXNwb25kZXIoY29uZmlnKSB7XG4gICAgdGhpcy5fZXZlbnRIYW5kbGVycyA9IG51bGw7XG4gICAgdGhpcy5faXNQb2ludGVyVG91Y2ggPSBmYWxzZTtcbiAgICB0aGlzLl9sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuX2xvbmdQcmVzc0Rpc3BhdGNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9wcmVzc0RlbGF5VGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5fcHJlc3NPdXREZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuX3RvdWNoU3RhdGUgPSBOT1RfUkVTUE9OREVSO1xuICAgIHRoaXMuY29uZmlndXJlKGNvbmZpZyk7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gUHJlc3NSZXNwb25kZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5jb25maWd1cmUgPSBmdW5jdGlvbiBjb25maWd1cmUoY29uZmlnKSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgYW55IHBlbmRpbmcgdGltZXJzLiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgb24gdW5tb3VudC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcblxuICAgIHRoaXMuX2NhbmNlbFByZXNzRGVsYXlUaW1lb3V0KCk7XG5cbiAgICB0aGlzLl9jYW5jZWxQcmVzc091dERlbGF5VGltZW91dCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2V0IG9mIHByb3BzIHRvIHNwcmVhZCBpbnRvIHRoZSBpbnRlcmFjdGl2ZSBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gZ2V0RXZlbnRIYW5kbGVycygpIHtcbiAgICBpZiAodGhpcy5fZXZlbnRIYW5kbGVycyA9PSBudWxsKSB7XG4gICAgICB0aGlzLl9ldmVudEhhbmRsZXJzID0gdGhpcy5fY3JlYXRlRXZlbnRIYW5kbGVycygpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9ldmVudEhhbmRsZXJzO1xuICB9O1xuXG4gIF9wcm90by5fY3JlYXRlRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uIF9jcmVhdGVFdmVudEhhbmRsZXJzKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgc3RhcnQgPSBmdW5jdGlvbiBzdGFydChldmVudCwgc2hvdWxkRGVsYXkpIHtcbiAgICAgIGV2ZW50LnBlcnNpc3QoKTtcblxuICAgICAgX3RoaXMuX2NhbmNlbFByZXNzT3V0RGVsYXlUaW1lb3V0KCk7XG5cbiAgICAgIF90aGlzLl9sb25nUHJlc3NEaXNwYXRjaGVkID0gZmFsc2U7XG4gICAgICBfdGhpcy5fc2VsZWN0aW9uVGVybWluYXRlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMuX3RvdWNoU3RhdGUgPSBOT1RfUkVTUE9OREVSO1xuICAgICAgX3RoaXMuX2lzUG9pbnRlclRvdWNoID0gZXZlbnQubmF0aXZlRXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuXG4gICAgICBfdGhpcy5fcmVjZWl2ZVNpZ25hbChSRVNQT05ERVJfR1JBTlQsIGV2ZW50KTtcblxuICAgICAgdmFyIGRlbGF5UHJlc3NTdGFydCA9IG5vcm1hbGl6ZURlbGF5KF90aGlzLl9jb25maWcuZGVsYXlQcmVzc1N0YXJ0LCAwLCBERUZBVUxUX1BSRVNTX0RFTEFZX01TKTtcblxuICAgICAgaWYgKHNob3VsZERlbGF5ICE9PSBmYWxzZSAmJiBkZWxheVByZXNzU3RhcnQgPiAwKSB7XG4gICAgICAgIF90aGlzLl9wcmVzc0RlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLl9yZWNlaXZlU2lnbmFsKERFTEFZLCBldmVudCk7XG4gICAgICAgIH0sIGRlbGF5UHJlc3NTdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5fcmVjZWl2ZVNpZ25hbChERUxBWSwgZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVsYXlMb25nUHJlc3MgPSBub3JtYWxpemVEZWxheShfdGhpcy5fY29uZmlnLmRlbGF5TG9uZ1ByZXNzLCAxMCwgREVGQVVMVF9MT05HX1BSRVNTX0RFTEFZX01TKTtcbiAgICAgIF90aGlzLl9sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX2hhbmRsZUxvbmdQcmVzcyhldmVudCk7XG4gICAgICB9LCBkZWxheUxvbmdQcmVzcyArIGRlbGF5UHJlc3NTdGFydCk7XG4gICAgfTtcblxuICAgIHZhciBlbmQgPSBmdW5jdGlvbiBlbmQoZXZlbnQpIHtcbiAgICAgIF90aGlzLl9yZWNlaXZlU2lnbmFsKFJFU1BPTkRFUl9SRUxFQVNFLCBldmVudCk7XG4gICAgfTtcblxuICAgIHZhciBrZXl1cEhhbmRsZXIgPSBmdW5jdGlvbiBrZXl1cEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgIHZhciBvblByZXNzID0gX3RoaXMuX2NvbmZpZy5vblByZXNzO1xuICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgaWYgKF90aGlzLl90b3VjaFN0YXRlICE9PSBOT1RfUkVTUE9OREVSICYmIGlzVmFsaWRLZXlQcmVzcyhldmVudCkpIHtcbiAgICAgICAgZW5kKGV2ZW50KTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXl1cEhhbmRsZXIpO1xuICAgICAgICB2YXIgcm9sZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKTtcbiAgICAgICAgdmFyIGVsZW1lbnRUeXBlID0gdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFyIGlzTmF0aXZlSW50ZXJhY3RpdmVFbGVtZW50ID0gcm9sZSA9PT0gJ2xpbmsnIHx8IGVsZW1lbnRUeXBlID09PSAnYScgfHwgZWxlbWVudFR5cGUgPT09ICdidXR0b24nIHx8IGVsZW1lbnRUeXBlID09PSAnaW5wdXQnIHx8IGVsZW1lbnRUeXBlID09PSAnc2VsZWN0JyB8fCBlbGVtZW50VHlwZSA9PT0gJ3RleHRhcmVhJztcblxuICAgICAgICBpZiAob25QcmVzcyAhPSBudWxsICYmICFpc05hdGl2ZUludGVyYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgIG9uUHJlc3MoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiBmdW5jdGlvbiBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyKGV2ZW50KSB7XG4gICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzLl9jb25maWcuZGlzYWJsZWQ7XG5cbiAgICAgICAgaWYgKGRpc2FibGVkICYmIGlzQnV0dG9uUm9sZShldmVudC5jdXJyZW50VGFyZ2V0KSkge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc2FibGVkID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhZGlzYWJsZWQ7XG4gICAgICB9LFxuICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGRpc2FibGVkID0gX3RoaXMuX2NvbmZpZy5kaXNhYmxlZDtcbiAgICAgICAgdmFyIGtleSA9IGV2ZW50LmtleSxcbiAgICAgICAgICAgIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgICBpZiAoIWRpc2FibGVkICYmIGlzVmFsaWRLZXlQcmVzcyhldmVudCkpIHtcbiAgICAgICAgICBpZiAoX3RoaXMuX3RvdWNoU3RhdGUgPT09IE5PVF9SRVNQT05ERVIpIHtcbiAgICAgICAgICAgIHN0YXJ0KGV2ZW50LCBmYWxzZSk7IC8vIExpc3RlbiB0byAna2V5dXAnIG9uIGRvY3VtZW50IHRvIGFjY291bnQgZm9yIHNpdHVhdGlvbnMgd2hlcmVcbiAgICAgICAgICAgIC8vIGZvY3VzIGlzIG1vdmVkIHRvIGFub3RoZXIgZWxlbWVudCBkdXJpbmcgJ2tleWRvd24nLlxuXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGtleXVwSGFuZGxlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJvbGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdyb2xlJyk7XG4gICAgICAgICAgdmFyIGlzU3BhY2ViYXJLZXkgPSBrZXkgPT09ICcgJyB8fCBrZXkgPT09ICdTcGFjZWJhcic7XG5cbiAgICAgICAgICB2YXIgX2lzQnV0dG9uUm9sZSA9IHJvbGUgPT09ICdidXR0b24nIHx8IHJvbGUgPT09ICdtZW51aXRlbSc7XG5cbiAgICAgICAgICBpZiAoaXNTcGFjZWJhcktleSAmJiBfaXNCdXR0b25Sb2xlKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IHNwYWNlYmFyIHNjcm9sbGluZyB0aGUgd2luZG93XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25SZXNwb25kZXJHcmFudDogZnVuY3Rpb24gb25SZXNwb25kZXJHcmFudChldmVudCkge1xuICAgICAgICByZXR1cm4gc3RhcnQoZXZlbnQpO1xuICAgICAgfSxcbiAgICAgIG9uUmVzcG9uZGVyTW92ZTogZnVuY3Rpb24gb25SZXNwb25kZXJNb3ZlKGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpcy5fY29uZmlnLm9uUHJlc3NNb3ZlICE9IG51bGwpIHtcbiAgICAgICAgICBfdGhpcy5fY29uZmlnLm9uUHJlc3NNb3ZlKGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3VjaCA9IGdldFRvdWNoRnJvbVJlc3BvbmRlckV2ZW50KGV2ZW50KTtcblxuICAgICAgICBpZiAoX3RoaXMuX3RvdWNoQWN0aXZhdGVQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIGRlbHRhWCA9IF90aGlzLl90b3VjaEFjdGl2YXRlUG9zaXRpb24ucGFnZVggLSB0b3VjaC5wYWdlWDtcbiAgICAgICAgICB2YXIgZGVsdGFZID0gX3RoaXMuX3RvdWNoQWN0aXZhdGVQb3NpdGlvbi5wYWdlWSAtIHRvdWNoLnBhZ2VZO1xuXG4gICAgICAgICAgaWYgKE1hdGguaHlwb3QoZGVsdGFYLCBkZWx0YVkpID4gMTApIHtcbiAgICAgICAgICAgIF90aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IGZ1bmN0aW9uIG9uUmVzcG9uZGVyUmVsZWFzZShldmVudCkge1xuICAgICAgICByZXR1cm4gZW5kKGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0ZTogZnVuY3Rpb24gb25SZXNwb25kZXJUZXJtaW5hdGUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50Lm5hdGl2ZUV2ZW50LnR5cGUgPT09ICdzZWxlY3Rpb25jaGFuZ2UnKSB7XG4gICAgICAgICAgX3RoaXMuX3NlbGVjdGlvblRlcm1pbmF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuX3JlY2VpdmVTaWduYWwoUkVTUE9OREVSX1RFUk1JTkFURUQsIGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogZnVuY3Rpb24gb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzJF9jb25maWcgPSBfdGhpcy5fY29uZmlnLFxuICAgICAgICAgICAgY2FuY2VsYWJsZSA9IF90aGlzJF9jb25maWcuY2FuY2VsYWJsZSxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3RoaXMkX2NvbmZpZy5kaXNhYmxlZCxcbiAgICAgICAgICAgIG9uTG9uZ1ByZXNzID0gX3RoaXMkX2NvbmZpZy5vbkxvbmdQcmVzczsgLy8gSWYgYG9uTG9uZ1ByZXNzYCBpcyBwcm92aWRlZCwgZG9uJ3QgdGVybWluYXRlIG9uIGBjb250ZXh0bWVudWAgYXMgZGVmYXVsdFxuICAgICAgICAvLyBiZWhhdmlvciB3aWxsIGJlIHByZXZlbnRlZCBmb3Igbm9uLW1vdXNlIHBvaW50ZXJzLlxuXG4gICAgICAgIGlmICghZGlzYWJsZWQgJiYgb25Mb25nUHJlc3MgIT0gbnVsbCAmJiBfdGhpcy5faXNQb2ludGVyVG91Y2ggJiYgZXZlbnQubmF0aXZlRXZlbnQudHlwZSA9PT0gJ2NvbnRleHRtZW51Jykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYW5jZWxhYmxlID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW5jZWxhYmxlO1xuICAgICAgfSxcbiAgICAgIC8vIE5PVEU6IHRoaXMgZGl2ZXJnZXMgZnJvbSByZWFjdC1uYXRpdmUgaW4gMyBzaWduaWZpY2FudCB3YXlzOlxuICAgICAgLy8gKiBUaGUgYG9uUHJlc3NgIGNhbGxiYWNrIGlzIG5vdCBjb25uZWN0ZWQgdG8gdGhlIHJlc3BvbmRlciBzeXN0ZW0gKHRoZSBuYXRpdmVcbiAgICAgIC8vICBgY2xpY2tgIGV2ZW50IG11c3QgYmUgdXNlZCBidXQgaXMgZGlzcGF0Y2hlZCBpbiBtYW55IHNjZW5hcmlvcyB3aGVyZSBubyBwb2ludGVyc1xuICAgICAgLy8gICBhcmUgb24gdGhlIHNjcmVlbi4pIFRoZXJlZm9yZSwgaXQncyBwb3NzaWJsZSBmb3IgYG9uUHJlc3NgIHRvIGJlIGNhbGxlZCB3aXRob3V0XG4gICAgICAvLyAgIGBvblByZXNze1N0YXJ0LEVuZH1gIGJlaW5nIGNhbGxlZCBmaXJzdC5cbiAgICAgIC8vICogVGhlIGBvblByZXNzYCBjYWxsYmFjayBpcyBvbmx5IGJlIGNhbGxlZCBvbiB0aGUgZmlyc3QgYW5jZXN0b3Igb2YgdGhlIG5hdGl2ZVxuICAgICAgLy8gICBgY2xpY2tgIHRhcmdldCB0aGF0IGlzIHVzaW5nIHRoZSBQcmVzc1Jlc3BvbmRlci5cbiAgICAgIC8vICogVGhlIGV2ZW50J3MgYG5hdGl2ZUV2ZW50YCBpcyBhIGBNb3VzZUV2ZW50YCBub3QgYSBgVG91Y2hFdmVudGAuXG4gICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyRfY29uZmlnMiA9IF90aGlzLl9jb25maWcsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF90aGlzJF9jb25maWcyLmRpc2FibGVkLFxuICAgICAgICAgICAgb25QcmVzcyA9IF90aGlzJF9jb25maWcyLm9uUHJlc3M7XG5cbiAgICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICAgIC8vIElmIGxvbmcgcHJlc3MgZGlzcGF0Y2hlZCwgY2FuY2VsIGRlZmF1bHQgY2xpY2sgYmVoYXZpb3IuXG4gICAgICAgICAgLy8gSWYgdGhlIHJlc3BvbmRlciB0ZXJtaW5hdGVkIGJlY2F1c2UgdGV4dCB3YXMgc2VsZWN0ZWQgZHVyaW5nIHRoZSBnZXN0dXJlLFxuICAgICAgICAgIC8vIGNhbmNlbCB0aGUgZGVmYXVsdCBjbGljayBiZWhhdmlvci5cbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIGlmIChfdGhpcy5fbG9uZ1ByZXNzRGlzcGF0Y2hlZCB8fCBfdGhpcy5fc2VsZWN0aW9uVGVybWluYXRlZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9uUHJlc3MgIT0gbnVsbCAmJiBldmVudC5hbHRLZXkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvblByZXNzKGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzQnV0dG9uUm9sZShldmVudC5jdXJyZW50VGFyZ2V0KSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gSWYgYG9uTG9uZ1ByZXNzYCBpcyBwcm92aWRlZCBhbmQgYSB0b3VjaCBwb2ludGVyIGlzIGJlaW5nIHVzZWQsIHByZXZlbnQgdGhlXG4gICAgICAvLyBkZWZhdWx0IGNvbnRleHQgbWVudSBmcm9tIG9wZW5pbmcuXG4gICAgICBvbkNvbnRleHRNZW51OiBmdW5jdGlvbiBvbkNvbnRleHRNZW51KGV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyRfY29uZmlnMyA9IF90aGlzLl9jb25maWcsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF90aGlzJF9jb25maWczLmRpc2FibGVkLFxuICAgICAgICAgICAgb25Mb25nUHJlc3MgPSBfdGhpcyRfY29uZmlnMy5vbkxvbmdQcmVzcztcblxuICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgaWYgKG9uTG9uZ1ByZXNzICE9IG51bGwgJiYgX3RoaXMuX2lzUG9pbnRlclRvdWNoICYmICFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpc0J1dHRvblJvbGUoZXZlbnQuY3VycmVudFRhcmdldCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJlY2VpdmVzIGEgc3RhdGUgbWFjaGluZSBzaWduYWwsIHBlcmZvcm1zIHNpZGUgZWZmZWN0cyBvZiB0aGUgdHJhbnNpdGlvblxuICAgKiBhbmQgc3RvcmVzIHRoZSBuZXcgc3RhdGUuIFZhbGlkYXRlcyB0aGUgdHJhbnNpdGlvbiBhcyB3ZWxsLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fcmVjZWl2ZVNpZ25hbCA9IGZ1bmN0aW9uIF9yZWNlaXZlU2lnbmFsKHNpZ25hbCwgZXZlbnQpIHtcbiAgICB2YXIgcHJldlN0YXRlID0gdGhpcy5fdG91Y2hTdGF0ZTtcbiAgICB2YXIgbmV4dFN0YXRlID0gbnVsbDtcblxuICAgIGlmIChUcmFuc2l0aW9uc1twcmV2U3RhdGVdICE9IG51bGwpIHtcbiAgICAgIG5leHRTdGF0ZSA9IFRyYW5zaXRpb25zW3ByZXZTdGF0ZV1bc2lnbmFsXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fdG91Y2hTdGF0ZSA9PT0gTk9UX1JFU1BPTkRFUiAmJiBzaWduYWwgPT09IFJFU1BPTkRFUl9SRUxFQVNFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5leHRTdGF0ZSA9PSBudWxsIHx8IG5leHRTdGF0ZSA9PT0gRVJST1IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQcmVzc1Jlc3BvbmRlcjogSW52YWxpZCBzaWduYWwgXCIgKyBzaWduYWwgKyBcIiBmb3Igc3RhdGUgXCIgKyBwcmV2U3RhdGUgKyBcIiBvbiByZXNwb25kZXJcIik7XG4gICAgfSBlbHNlIGlmIChwcmV2U3RhdGUgIT09IG5leHRTdGF0ZSkge1xuICAgICAgdGhpcy5fcGVyZm9ybVRyYW5zaXRpb25TaWRlRWZmZWN0cyhwcmV2U3RhdGUsIG5leHRTdGF0ZSwgc2lnbmFsLCBldmVudCk7XG5cbiAgICAgIHRoaXMuX3RvdWNoU3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIHRyYW5zaXRpb24gYmV0d2VlbiB0b3VjaGFibGUgc3RhdGVzIGFuZCBpZGVudGlmeSBhbnkgYWN0aXZhdGlvbnNcbiAgICogb3IgZGVhY3RpdmF0aW9ucyAoYW5kIGNhbGxiYWNrIGludm9jYXRpb25zKS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3BlcmZvcm1UcmFuc2l0aW9uU2lkZUVmZmVjdHMgPSBmdW5jdGlvbiBfcGVyZm9ybVRyYW5zaXRpb25TaWRlRWZmZWN0cyhwcmV2U3RhdGUsIG5leHRTdGF0ZSwgc2lnbmFsLCBldmVudCkge1xuICAgIGlmIChpc1Rlcm1pbmFsU2lnbmFsKHNpZ25hbCkpIHtcbiAgICAgIHRoaXMuX2lzUG9pbnRlclRvdWNoID0gZmFsc2U7XG4gICAgICB0aGlzLl90b3VjaEFjdGl2YXRlUG9zaXRpb24gPSBudWxsO1xuXG4gICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICB9XG5cbiAgICBpZiAoaXNQcmVzc1N0YXJ0U2lnbmFsKHByZXZTdGF0ZSkgJiYgc2lnbmFsID09PSBMT05HX1BSRVNTX0RFVEVDVEVEKSB7XG4gICAgICB2YXIgb25Mb25nUHJlc3MgPSB0aGlzLl9jb25maWcub25Mb25nUHJlc3M7IC8vIExvbmcgcHJlc3MgaXMgbm90IHN1cHBvcnRlZCBmb3Iga2V5Ym9hcmRzIGJlY2F1c2UgJ2NsaWNrJyBjYW4gYmUgZGlzcGF0Y2hlZFxuICAgICAgLy8gaW1tZWRpYXRlbHkgKGFuZCBtdWx0aXBsZSB0aW1lcykgYWZ0ZXIgJ2tleWRvd24nLlxuXG4gICAgICBpZiAob25Mb25nUHJlc3MgIT0gbnVsbCAmJiBldmVudC5uYXRpdmVFdmVudC5rZXkgPT0gbnVsbCkge1xuICAgICAgICBvbkxvbmdQcmVzcyhldmVudCk7XG4gICAgICAgIHRoaXMuX2xvbmdQcmVzc0Rpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpc1ByZXZBY3RpdmUgPSBpc0FjdGl2ZVNpZ25hbChwcmV2U3RhdGUpO1xuICAgIHZhciBpc05leHRBY3RpdmUgPSBpc0FjdGl2ZVNpZ25hbChuZXh0U3RhdGUpO1xuXG4gICAgaWYgKCFpc1ByZXZBY3RpdmUgJiYgaXNOZXh0QWN0aXZlKSB7XG4gICAgICB0aGlzLl9hY3RpdmF0ZShldmVudCk7XG4gICAgfSBlbHNlIGlmIChpc1ByZXZBY3RpdmUgJiYgIWlzTmV4dEFjdGl2ZSkge1xuICAgICAgdGhpcy5fZGVhY3RpdmF0ZShldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKGlzUHJlc3NTdGFydFNpZ25hbChwcmV2U3RhdGUpICYmIHNpZ25hbCA9PT0gUkVTUE9OREVSX1JFTEVBU0UpIHtcbiAgICAgIHZhciBfdGhpcyRfY29uZmlnNCA9IHRoaXMuX2NvbmZpZyxcbiAgICAgICAgICBfb25Mb25nUHJlc3MgPSBfdGhpcyRfY29uZmlnNC5vbkxvbmdQcmVzcyxcbiAgICAgICAgICBvblByZXNzID0gX3RoaXMkX2NvbmZpZzQub25QcmVzcztcblxuICAgICAgaWYgKG9uUHJlc3MgIT0gbnVsbCkge1xuICAgICAgICB2YXIgaXNQcmVzc0NhbmNlbGVkQnlMb25nUHJlc3MgPSBfb25Mb25nUHJlc3MgIT0gbnVsbCAmJiBwcmV2U3RhdGUgPT09IFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19TVEFSVDtcblxuICAgICAgICBpZiAoIWlzUHJlc3NDYW5jZWxlZEJ5TG9uZ1ByZXNzKSB7XG4gICAgICAgICAgLy8gSWYgd2UgbmV2ZXIgYWN0aXZhdGVkIChkdWUgdG8gZGVsYXlzKSwgYWN0aXZhdGUgYW5kIGRlYWN0aXZhdGUgbm93LlxuICAgICAgICAgIGlmICghaXNOZXh0QWN0aXZlICYmICFpc1ByZXZBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlKGV2ZW50KTtcblxuICAgICAgICAgICAgdGhpcy5fZGVhY3RpdmF0ZShldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fY2FuY2VsUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgfTtcblxuICBfcHJvdG8uX2FjdGl2YXRlID0gZnVuY3Rpb24gX2FjdGl2YXRlKGV2ZW50KSB7XG4gICAgdmFyIF90aGlzJF9jb25maWc1ID0gdGhpcy5fY29uZmlnLFxuICAgICAgICBvblByZXNzQ2hhbmdlID0gX3RoaXMkX2NvbmZpZzUub25QcmVzc0NoYW5nZSxcbiAgICAgICAgb25QcmVzc1N0YXJ0ID0gX3RoaXMkX2NvbmZpZzUub25QcmVzc1N0YXJ0O1xuICAgIHZhciB0b3VjaCA9IGdldFRvdWNoRnJvbVJlc3BvbmRlckV2ZW50KGV2ZW50KTtcbiAgICB0aGlzLl90b3VjaEFjdGl2YXRlUG9zaXRpb24gPSB7XG4gICAgICBwYWdlWDogdG91Y2gucGFnZVgsXG4gICAgICBwYWdlWTogdG91Y2gucGFnZVlcbiAgICB9O1xuXG4gICAgaWYgKG9uUHJlc3NTdGFydCAhPSBudWxsKSB7XG4gICAgICBvblByZXNzU3RhcnQoZXZlbnQpO1xuICAgIH1cblxuICAgIGlmIChvblByZXNzQ2hhbmdlICE9IG51bGwpIHtcbiAgICAgIG9uUHJlc3NDaGFuZ2UodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5fZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIF9kZWFjdGl2YXRlKGV2ZW50KSB7XG4gICAgdmFyIF90aGlzJF9jb25maWc2ID0gdGhpcy5fY29uZmlnLFxuICAgICAgICBvblByZXNzQ2hhbmdlID0gX3RoaXMkX2NvbmZpZzYub25QcmVzc0NoYW5nZSxcbiAgICAgICAgb25QcmVzc0VuZCA9IF90aGlzJF9jb25maWc2Lm9uUHJlc3NFbmQ7XG5cbiAgICBmdW5jdGlvbiBlbmQoKSB7XG4gICAgICBpZiAob25QcmVzc0VuZCAhPSBudWxsKSB7XG4gICAgICAgIG9uUHJlc3NFbmQoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAob25QcmVzc0NoYW5nZSAhPSBudWxsKSB7XG4gICAgICAgIG9uUHJlc3NDaGFuZ2UoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWxheVByZXNzRW5kID0gbm9ybWFsaXplRGVsYXkodGhpcy5fY29uZmlnLmRlbGF5UHJlc3NFbmQpO1xuXG4gICAgaWYgKGRlbGF5UHJlc3NFbmQgPiAwKSB7XG4gICAgICB0aGlzLl9wcmVzc091dERlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBlbmQoKTtcbiAgICAgIH0sIGRlbGF5UHJlc3NFbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLl9oYW5kbGVMb25nUHJlc3MgPSBmdW5jdGlvbiBfaGFuZGxlTG9uZ1ByZXNzKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuX3RvdWNoU3RhdGUgPT09IFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfU1RBUlQgfHwgdGhpcy5fdG91Y2hTdGF0ZSA9PT0gUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX1NUQVJUKSB7XG4gICAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKExPTkdfUFJFU1NfREVURUNURUQsIGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQgPSBmdW5jdGlvbiBfY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0KCkge1xuICAgIGlmICh0aGlzLl9sb25nUHJlc3NEZWxheVRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2xvbmdQcmVzc0RlbGF5VGltZW91dCk7XG4gICAgICB0aGlzLl9sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uX2NhbmNlbFByZXNzRGVsYXlUaW1lb3V0ID0gZnVuY3Rpb24gX2NhbmNlbFByZXNzRGVsYXlUaW1lb3V0KCkge1xuICAgIGlmICh0aGlzLl9wcmVzc0RlbGF5VGltZW91dCAhPSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fcHJlc3NEZWxheVRpbWVvdXQpO1xuICAgICAgdGhpcy5fcHJlc3NEZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uX2NhbmNlbFByZXNzT3V0RGVsYXlUaW1lb3V0ID0gZnVuY3Rpb24gX2NhbmNlbFByZXNzT3V0RGVsYXlUaW1lb3V0KCkge1xuICAgIGlmICh0aGlzLl9wcmVzc091dERlbGF5VGltZW91dCAhPSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fcHJlc3NPdXREZWxheVRpbWVvdXQpO1xuICAgICAgdGhpcy5fcHJlc3NPdXREZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUHJlc3NSZXNwb25kZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByZXNzUmVzcG9uZGVyO1xuXG5mdW5jdGlvbiBub3JtYWxpemVEZWxheShkZWxheSwgbWluLCBmYWxsYmFjaykge1xuICBpZiAobWluID09PSB2b2lkIDApIHtcbiAgICBtaW4gPSAwO1xuICB9XG5cbiAgaWYgKGZhbGxiYWNrID09PSB2b2lkIDApIHtcbiAgICBmYWxsYmFjayA9IDA7XG4gIH1cblxuICByZXR1cm4gTWF0aC5tYXgobWluLCBkZWxheSAhPT0gbnVsbCAmJiBkZWxheSAhPT0gdm9pZCAwID8gZGVsYXkgOiBmYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoRnJvbVJlc3BvbmRlckV2ZW50KGV2ZW50KSB7XG4gIHZhciBfZXZlbnQkbmF0aXZlRXZlbnQgPSBldmVudC5uYXRpdmVFdmVudCxcbiAgICAgIGNoYW5nZWRUb3VjaGVzID0gX2V2ZW50JG5hdGl2ZUV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgdG91Y2hlcyA9IF9ldmVudCRuYXRpdmVFdmVudC50b3VjaGVzO1xuXG4gIGlmICh0b3VjaGVzICE9IG51bGwgJiYgdG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRvdWNoZXNbMF07XG4gIH1cblxuICBpZiAoY2hhbmdlZFRvdWNoZXMgIT0gbnVsbCAmJiBjaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGNoYW5nZWRUb3VjaGVzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50Lm5hdGl2ZUV2ZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiXX0=