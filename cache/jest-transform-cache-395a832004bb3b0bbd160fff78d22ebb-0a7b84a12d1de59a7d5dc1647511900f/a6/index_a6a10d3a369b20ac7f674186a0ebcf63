642ab7bedbd975ce287a73476b3a82ad
'use strict';

exports.__esModule = true;
exports.default = void 0;

var deepDiffer = function deepDiffer(one, two, maxDepth) {
  if (maxDepth === void 0) {
    maxDepth = -1;
  }

  if (maxDepth === 0) {
    return true;
  }

  if (one === two) {
    return false;
  }

  if (typeof one === 'function' && typeof two === 'function') {
    return false;
  }

  if (typeof one !== 'object' || one === null) {
    return one !== two;
  }

  if (typeof two !== 'object' || two === null) {
    return true;
  }

  if (one.constructor !== two.constructor) {
    return true;
  }

  if (Array.isArray(one)) {
    var len = one.length;

    if (two.length !== len) {
      return true;
    }

    for (var ii = 0; ii < len; ii++) {
      if (deepDiffer(one[ii], two[ii], maxDepth - 1)) {
        return true;
      }
    }
  } else {
    for (var key in one) {
      if (deepDiffer(one[key], two[key], maxDepth - 1)) {
        return true;
      }
    }

    for (var twoKey in two) {
      if (one[twoKey] === undefined && two[twoKey] !== undefined) {
        return true;
      }
    }
  }

  return false;
};

var _default = deepDiffer;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cG9ydHMiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRlZXBEaWZmZXIiLCJvbmUiLCJ0d28iLCJtYXhEZXB0aCIsImNvbnN0cnVjdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuIiwibGVuZ3RoIiwiaWkiLCJrZXkiLCJ0d29LZXkiLCJ1bmRlZmluZWQiLCJfZGVmYXVsdCIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6IkFBU0E7O0FBS0FBLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFPLENBQUNFLE9BQVIsR0FBa0IsS0FBSyxDQUF2Qjs7QUFFQSxJQUFJQyxVQUFVLEdBQUcsU0FBU0EsVUFBVCxDQUFvQkMsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxRQUE5QixFQUF3QztBQUN2RCxNQUFJQSxRQUFRLEtBQUssS0FBSyxDQUF0QixFQUF5QjtBQUN2QkEsSUFBQUEsUUFBUSxHQUFHLENBQUMsQ0FBWjtBQUNEOztBQUVELE1BQUlBLFFBQVEsS0FBSyxDQUFqQixFQUFvQjtBQUNsQixXQUFPLElBQVA7QUFDRDs7QUFFRCxNQUFJRixHQUFHLEtBQUtDLEdBQVosRUFBaUI7QUFFZixXQUFPLEtBQVA7QUFDRDs7QUFFRCxNQUFJLE9BQU9ELEdBQVAsS0FBZSxVQUFmLElBQTZCLE9BQU9DLEdBQVAsS0FBZSxVQUFoRCxFQUE0RDtBQUUxRCxXQUFPLEtBQVA7QUFDRDs7QUFFRCxNQUFJLE9BQU9ELEdBQVAsS0FBZSxRQUFmLElBQTJCQSxHQUFHLEtBQUssSUFBdkMsRUFBNkM7QUFFM0MsV0FBT0EsR0FBRyxLQUFLQyxHQUFmO0FBQ0Q7O0FBRUQsTUFBSSxPQUFPQSxHQUFQLEtBQWUsUUFBZixJQUEyQkEsR0FBRyxLQUFLLElBQXZDLEVBQTZDO0FBRzNDLFdBQU8sSUFBUDtBQUNEOztBQUVELE1BQUlELEdBQUcsQ0FBQ0csV0FBSixLQUFvQkYsR0FBRyxDQUFDRSxXQUE1QixFQUF5QztBQUN2QyxXQUFPLElBQVA7QUFDRDs7QUFFRCxNQUFJQyxLQUFLLENBQUNDLE9BQU4sQ0FBY0wsR0FBZCxDQUFKLEVBQXdCO0FBRXRCLFFBQUlNLEdBQUcsR0FBR04sR0FBRyxDQUFDTyxNQUFkOztBQUVBLFFBQUlOLEdBQUcsQ0FBQ00sTUFBSixLQUFlRCxHQUFuQixFQUF3QjtBQUN0QixhQUFPLElBQVA7QUFDRDs7QUFFRCxTQUFLLElBQUlFLEVBQUUsR0FBRyxDQUFkLEVBQWlCQSxFQUFFLEdBQUdGLEdBQXRCLEVBQTJCRSxFQUFFLEVBQTdCLEVBQWlDO0FBQy9CLFVBQUlULFVBQVUsQ0FBQ0MsR0FBRyxDQUFDUSxFQUFELENBQUosRUFBVVAsR0FBRyxDQUFDTyxFQUFELENBQWIsRUFBbUJOLFFBQVEsR0FBRyxDQUE5QixDQUFkLEVBQWdEO0FBQzlDLGVBQU8sSUFBUDtBQUNEO0FBQ0Y7QUFDRixHQWJELE1BYU87QUFDTCxTQUFLLElBQUlPLEdBQVQsSUFBZ0JULEdBQWhCLEVBQXFCO0FBQ25CLFVBQUlELFVBQVUsQ0FBQ0MsR0FBRyxDQUFDUyxHQUFELENBQUosRUFBV1IsR0FBRyxDQUFDUSxHQUFELENBQWQsRUFBcUJQLFFBQVEsR0FBRyxDQUFoQyxDQUFkLEVBQWtEO0FBQ2hELGVBQU8sSUFBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBSyxJQUFJUSxNQUFULElBQW1CVCxHQUFuQixFQUF3QjtBQUd0QixVQUFJRCxHQUFHLENBQUNVLE1BQUQsQ0FBSCxLQUFnQkMsU0FBaEIsSUFBNkJWLEdBQUcsQ0FBQ1MsTUFBRCxDQUFILEtBQWdCQyxTQUFqRCxFQUE0RDtBQUMxRCxlQUFPLElBQVA7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsU0FBTyxLQUFQO0FBQ0QsQ0FoRUQ7O0FBa0VBLElBQUlDLFFBQVEsR0FBR2IsVUFBZjtBQUNBSCxPQUFPLENBQUNFLE9BQVIsR0FBa0JjLFFBQWxCO0FBQ0FDLE1BQU0sQ0FBQ2pCLE9BQVAsR0FBaUJBLE9BQU8sQ0FBQ0UsT0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIFxuICovXG4ndXNlIHN0cmljdCc7XG4vKlxuICogQHJldHVybnMge2Jvb2x9IHRydWUgaWYgZGlmZmVyZW50LCBmYWxzZSBpZiBlcXVhbFxuICovXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBkZWVwRGlmZmVyID0gZnVuY3Rpb24gZGVlcERpZmZlcihvbmUsIHR3bywgbWF4RGVwdGgpIHtcbiAgaWYgKG1heERlcHRoID09PSB2b2lkIDApIHtcbiAgICBtYXhEZXB0aCA9IC0xO1xuICB9XG5cbiAgaWYgKG1heERlcHRoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAob25lID09PSB0d28pIHtcbiAgICAvLyBTaG9ydCBjaXJjdWl0IG9uIGlkZW50aWNhbCBvYmplY3QgcmVmZXJlbmNlcyBpbnN0ZWFkIG9mIHRyYXZlcnNpbmcgdGhlbS5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIG9uZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdHdvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gV2UgY29uc2lkZXIgYWxsIGZ1bmN0aW9ucyBlcXVhbFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb25lICE9PSAnb2JqZWN0JyB8fCBvbmUgPT09IG51bGwpIHtcbiAgICAvLyBQcmltaXRpdmVzIGNhbiBiZSBkaXJlY3RseSBjb21wYXJlZFxuICAgIHJldHVybiBvbmUgIT09IHR3bztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHdvICE9PSAnb2JqZWN0JyB8fCB0d28gPT09IG51bGwpIHtcbiAgICAvLyBXZSBrbm93IHRoZXkgYXJlIGRpZmZlcmVudCBiZWNhdXNlIHRoZSBwcmV2aW91cyBjYXNlIHdvdWxkIGhhdmUgdHJpZ2dlcmVkXG4gICAgLy8gb3RoZXJ3aXNlLlxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKG9uZS5jb25zdHJ1Y3RvciAhPT0gdHdvLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShvbmUpKSB7XG4gICAgLy8gV2Uga25vdyB0d28gaXMgYWxzbyBhbiBhcnJheSBiZWNhdXNlIHRoZSBjb25zdHJ1Y3RvcnMgYXJlIGVxdWFsXG4gICAgdmFyIGxlbiA9IG9uZS5sZW5ndGg7XG5cbiAgICBpZiAodHdvLmxlbmd0aCAhPT0gbGVuKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICBpZiAoZGVlcERpZmZlcihvbmVbaWldLCB0d29baWldLCBtYXhEZXB0aCAtIDEpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb25lKSB7XG4gICAgICBpZiAoZGVlcERpZmZlcihvbmVba2V5XSwgdHdvW2tleV0sIG1heERlcHRoIC0gMSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgdHdvS2V5IGluIHR3bykge1xuICAgICAgLy8gVGhlIG9ubHkgY2FzZSB3ZSBoYXZlbid0IGNoZWNrZWQgeWV0IGlzIGtleXMgdGhhdCBhcmUgaW4gdHdvIGJ1dCBhcmVuJ3RcbiAgICAgIC8vIGluIG9uZSwgd2hpY2ggbWVhbnMgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgaWYgKG9uZVt0d29LZXldID09PSB1bmRlZmluZWQgJiYgdHdvW3R3b0tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgX2RlZmF1bHQgPSBkZWVwRGlmZmVyO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiXX0=